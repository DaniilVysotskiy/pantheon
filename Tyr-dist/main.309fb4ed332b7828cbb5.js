"use strict";(self.webpackChunktyr=self.webpackChunktyr||[]).push([[179],{938:(e,t,n)=>{var r,a=n(294),o=n(745),i="INIT_STATE",c="RESET_STATE",s="STARTUP_WITH_AUTH",l="START_NEW_GAME",u="GO_TO_CURRENT_GAME",d="GO_TO_DONATE",p="GOTO_EVENT_SELECT",m="SEARCH_PLAYER",h="SHOW_LAST_RESULTS",f="SHOW_GAME_LOG",y="OPEN_SETTINGS",O="GOTO_NEXT_SCREEN",g="GOTO_PREV_SCREEN",v="SET_DORA_COUNT",I="SET_FU_COUNT",E="ADD_YAKU",S="INIT_REQUIRED_YAKU",N="REMOVE_YAKU",A="TOGGLE_RIICHI",T="TOGGLE_WINNER",_="TOGGLE_LOSER",U="TOGGLE_PAO",C="TOGGLE_DEADHAND",w="TOGGLE_NAGASHI",H="LOGIN_INIT",b="LOGIN_SUCCESS",k="LOGIN_FAIL",R="RESET_LOGIN_ERROR",P="SET_CREDENTIALS",L="UPDATE_CURRENT_GAMES_INIT",K="UPDATE_CURRENT_GAMES_SUCCESS",x="UPDATE_CURRENT_GAMES_FAIL",D="GET_GAME_OVERVIEW_INIT",M="GET_GAME_OVERVIEW_SUCCESS",G="GET_GAME_OVERVIEW_FAIL",B="GET_USERINFO_INIT",Y="GET_USERINFO_SUCCESS",j="GET_USERINFO_FAIL",F="FORCE_LOGOUT",V="GET_OTHER_TABLES_LIST_INIT",W="GET_OTHER_TABLES_LIST_RELOAD",Z="GET_OTHER_TABLES_LIST_SUCCESS",J="GET_OTHER_TABLES_LIST_FAIL",z="GET_OTHER_TABLE_INIT",q="GET_OTHER_TABLE_RELOAD",X="GET_OTHER_TABLE_SUCCESS",Q="GET_OTHER_TABLE_FAIL",$="GET_ALL_ROUNDS_INIT",ee="GET_ALL_ROUNDS_SUCCESS",te="GET_ALL_ROUNDS_FAIL",ne="SET_TIMER",re="UPDATE_TIMER_DATA",ae="GET_CHANGES_OVERVIEW_INIT",oe="GET_CHANGES_OVERVIEW_SUCCESS",ie="GET_CHANGES_OVERVIEW_FAIL",ce="GET_LAST_RESULTS_INIT",se="GET_LAST_RESULTS_SUCCESS",le="GET_LAST_RESULTS_FAIL",ue="GET_ALL_PLAYERS_INIT",de="GET_ALL_PLAYERS_SUCCESS",pe="GET_ALL_PLAYERS_FAIL",me="START_GAME_INIT",he="START_GAME_SUCCESS",fe="START_GAME_FAIL",ye="ADD_GAME_INIT",Oe="ADD_GAME_SUCCESS",ge="ADD_GAME_FAIL",ve="EVENTS_GET_LIST_INIT",Ie="EVENTS_GET_LIST_SUCCESS",Ee="EVENTS_GET_LIST_FAIL",Se="SELECT_EVENT",Ne="INIT_BLANK_OUTCOME",Ae="SELECT_MULTIRON_WINNER",Te="RANDOMIZE_NEWGAME_PLAYERS",_e="CLEAR_NEWGAME_PLAYERS",Ue="SET_NEWGAME_PLAYERS",Ce="SELECT_NEWGAME_PLAYER_EAST",we="SELECT_NEWGAME_PLAYER_SOUTH",He="SELECT_NEWGAME_PLAYER_WEST",be="SELECT_NEWGAME_PLAYER_NORTH",ke="TOGGLE_OVERVIEW_DIFFBY",Re="TOGGLE_ADDITIONAL_TABLE_INFO",Pe="TABLE_ROTATE_COUNTERCLOCKWISE",Le="TABLE_ROTATE_CLOCKWISE",Ke="SETTINGS_SAVE_THEME",xe="SETTINGS_SAVE_LANG",De="UPDATE_STATE_SETTINGS",Me="SET_STATE_SETTINGS",Ge="SET_SELECT_HAND_TAB",Be="HISTORY_INIT",Ye={"arrow-left":a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}," ",a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}," ",a.createElement("polyline",{points:"15 3 6 12 15 21"})," ")),"arrow-right":a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}," ",a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}," ",a.createElement("polyline",{points:"9 3 18 12 9 21"})," ")," "),"rotate-cw":a.createElement("svg",{height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0 0h48v48h-48z",fill:"none"}),a.createElement("path",{d:"M31.1 11.1l-9.1-9.1v6.14c-7.89.98-14 7.7-14 15.86s6.11 14.88 14 15.86v-4.04c-5.67-.95-10-5.88-10-11.82s4.33-10.87 10-11.82v7.82l9.1-8.9zm8.76 10.9c-.34-2.78-1.45-5.46-3.25-7.78l-2.83 2.83c1.07 1.51 1.75 3.2 2.04 4.95h4.04zm-13.86 13.81v4.05c2.78-.34 5.48-1.42 7.8-3.22l-2.87-2.87c-1.5 1.06-3.18 1.74-4.93 2.04zm7.78-4.86l2.83 2.83c1.8-2.32 2.91-5 3.25-7.78h-4.04c-.29 1.75-.97 3.44-2.04 4.95z"})),"rotate-ccw":a.createElement("svg",{height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0 0h48v48h-48z",fill:"none"}),a.createElement("path",{d:"M14.22 17.05l-2.83-2.83c-1.8 2.32-2.91 5-3.25 7.78h4.04c.29-1.75.97-3.44 2.04-4.95zm-2.04 8.95h-4.04c.34 2.78 1.45 5.46 3.25 7.78l2.83-2.83c-1.07-1.51-1.75-3.2-2.04-4.95zm2.02 10.63c2.32 1.81 5.02 2.88 7.8 3.22v-4.04c-1.75-.29-3.43-.98-4.93-2.05l-2.87 2.87zm11.8-28.49v-6.14l-9.1 9.1 9.1 8.9v-7.82c5.67.95 10 5.88 10 11.82s-4.33 10.87-10 11.82v4.04c7.89-.99 14-7.7 14-15.86s-6.11-14.87-14-15.86z"})),back:a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M15.8561 4.8904L5.41614 15.1346L15.7777 25.6138",stroke:"currentColor",strokeWidth:"3.36"})," ",a.createElement("path",{d:"M24.0388 15H7",stroke:"currentColor",strokeWidth:"3.36"})," "),close:a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M10.1886 8.25939L13.4721 4.97639C13.9531 4.49489 13.9531 3.70689 13.4721 3.22539L13.0341 2.78789C12.5526 2.30589 11.7646 2.30589 11.2836 2.78789L8.00005 6.07089L4.71655 2.78739C4.23555 2.30589 3.44755 2.30589 2.96605 2.78739L2.52805 3.22489C2.04706 3.70639 2.04706 4.49439 2.52805 4.97589L5.81105 8.25889L2.52805 11.5424C2.04706 12.0239 2.04706 12.8114 2.52805 13.2929L2.96605 13.7309C3.44755 14.2124 4.23555 14.2124 4.71655 13.7309L8.00005 10.4479L11.2836 13.7309C11.7646 14.2124 12.5526 14.2124 13.0341 13.7309L13.4721 13.2929C13.9531 12.8114 13.9531 12.0239 13.4721 11.5424L10.1886 8.25939Z",fill:"currentColor"})," "),donate:a.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fill:"currentColor",d:"M 16 3 C 10.486 3 6 7.486 6 13 C 6 18.514 10.486 23 16 23 C 21.514 23 26 18.514 26 13 C 26 7.486 21.514 3 16 3 z M 16 5 C 20.411 5 24 8.589 24 13 C 24 17.411 20.411 21 16 21 C 11.589 21 8 17.411 8 13 C 8 8.589 11.589 5 16 5 z M 15 7 L 15 8.1894531 C 14.855 8.2419531 14.714063 8.3061133 14.580078 8.3789062 C 14.446094 8.4516992 14.318203 8.5338281 14.197266 8.625 C 14.076328 8.7161719 13.963281 8.8161914 13.857422 8.9238281 C 13.645703 9.1391016 13.465391 9.3846484 13.326172 9.6542969 C 13.256562 9.7891211 13.196875 9.930625 13.148438 10.076172 C 13.051562 10.367266 13 10.6775 13 11 C 13 11.205 13.022109 11.405469 13.0625 11.599609 C 13.143281 11.987891 13.300547 12.350391 13.517578 12.669922 C 13.626094 12.829688 13.748516 12.978984 13.884766 13.115234 C 14.157266 13.387734 14.481719 13.608594 14.839844 13.761719 C 15.197969 13.914844 15.59 14 16 14 C 16.1425 14 16.276016 14.026953 16.396484 14.076172 C 16.516953 14.125391 16.623516 14.197734 16.712891 14.287109 C 16.802266 14.376484 16.874609 14.483047 16.923828 14.603516 C 16.973047 14.723984 17 14.8575 17 15 C 17 15.4275 16.757891 15.776172 16.396484 15.923828 C 16.276016 15.973047 16.1425 16 16 16 C 15.8575 16 15.723984 15.973047 15.603516 15.923828 C 15.483047 15.874609 15.376484 15.802266 15.287109 15.712891 C 15.108359 15.534141 15 15.285 15 15 L 13 15 C 13 15.16125 13.013828 15.320254 13.039062 15.474609 C 13.064297 15.628965 13.1 15.778281 13.148438 15.923828 C 13.196875 16.069375 13.256562 16.210879 13.326172 16.345703 C 13.395781 16.480527 13.475703 16.608281 13.564453 16.730469 C 13.653203 16.852656 13.751563 16.968535 13.857422 17.076172 C 13.963281 17.183809 14.076328 17.283828 14.197266 17.375 C 14.318203 17.466172 14.446094 17.548301 14.580078 17.621094 C 14.714062 17.693887 14.855 17.758047 15 17.810547 L 15 19 L 17 19 L 17 17.810547 C 18.015 17.443047 18.784297 16.555098 18.960938 15.474609 C 18.986172 15.320254 19 15.16125 19 15 C 19 14.795 18.977891 14.594531 18.9375 14.400391 C 18.897109 14.20625 18.838281 14.018906 18.761719 13.839844 C 18.685156 13.660781 18.590937 13.489844 18.482422 13.330078 C 18.373906 13.170312 18.251484 13.021016 18.115234 12.884766 C 17.978984 12.748516 17.829687 12.626094 17.669922 12.517578 C 17.510156 12.409063 17.339219 12.314844 17.160156 12.238281 C 16.981094 12.161719 16.79375 12.102891 16.599609 12.0625 C 16.405469 12.022109 16.205 12 16 12 C 15.8575 12 15.723984 11.973047 15.603516 11.923828 C 15.483047 11.874609 15.376484 11.802266 15.287109 11.712891 C 15.197734 11.623516 15.125391 11.516953 15.076172 11.396484 C 15.026953 11.276016 15 11.1425 15 11 C 15 10.8575 15.026953 10.723984 15.076172 10.603516 C 15.125391 10.483047 15.197734 10.376484 15.287109 10.287109 C 15.376484 10.197734 15.483047 10.125391 15.603516 10.076172 C 15.723984 10.026953 15.8575 10 16 10 C 16.57 10 17 10.43 17 11 L 19 11 C 19 10.83875 18.986172 10.679746 18.960938 10.525391 C 18.935703 10.371035 18.9 10.221719 18.851562 10.076172 C 18.560938 9.2028906 17.87 8.5044531 17 8.1894531 L 17 7 L 15 7 z M 2 21 L 2 29 L 4 29 L 4 23 L 9.3808594 23 C 8.5298594 22.435 7.7610781 21.758 7.0800781 21 L 2 21 z M 24.919922 21 C 24.238922 21.758 23.470141 22.435 22.619141 23 L 28 23 L 28 29 L 30 29 L 30 21 L 24.919922 21 z M 6 25 L 6 27 L 26 27 L 26 25 L 6 25 z"})),home:a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M0.870483 12.6323L14.1744 2.64941L27.13 12.9722",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",a.createElement("path",{d:"M23.7683 10.3079L23.8204 25.2879L16.7868 25.3506L16.7476 18.0179L11.5648 18.016L11.543 25.2876L4.16272 25.2419L4.20192 10.2163",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"})," "),honba:a.createElement("svg",{width:"31",height:"24",viewBox:"0 0 31 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M29.8054 11.7288V11.7288C29.8054 9.32924 28.2087 7.38404 26.2391 7.38404L4.84099 7.38404C2.87135 7.38404 1.27464 9.32924 1.27464 11.7288V11.7288C1.27464 14.1283 2.87135 16.0735 4.84099 16.0735L26.2391 16.0735C28.2087 16.0735 29.8054 14.1283 29.8054 11.7288Z",stroke:"currentColor",strokeWidth:"0.775"})," ",a.createElement("g",{fill:"currentColor"}," ",a.createElement("path",{d:"M16.9996 13.2886C16.9996 12.8368 17.3658 12.4705 17.8176 12.4705C18.2694 12.4705 18.6356 12.8368 18.6356 13.2886C18.6356 13.7403 18.2694 14.1066 17.8176 14.1066C17.3658 14.1066 16.9996 13.7403 16.9996 13.2886Z"})," ",a.createElement("path",{d:"M17.0069 10.1978C17.0069 9.74604 17.3731 9.37979 17.8249 9.37979C18.2767 9.37979 18.6429 9.74604 18.6429 10.1978C18.6429 10.6496 18.2767 11.0159 17.8249 11.0159C17.3731 11.0159 17.0069 10.6496 17.0069 10.1978Z"})," ",a.createElement("path",{d:"M19.8998 13.2681C19.8998 12.8164 20.2661 12.4501 20.7179 12.4501C21.1696 12.4501 21.5359 12.8164 21.5359 13.2681C21.5359 13.7199 21.1696 14.0862 20.7179 14.0862C20.2661 14.0862 19.8998 13.7199 19.8998 13.2681Z"})," ",a.createElement("path",{d:"M19.9072 10.1774C19.9072 9.72562 20.2734 9.35938 20.7252 9.35938C21.177 9.35938 21.5432 9.72562 21.5432 10.1774C21.5432 10.6292 21.177 10.9954 20.7252 10.9954C20.2734 10.9954 19.9072 10.6292 19.9072 10.1774Z"})," ",a.createElement("path",{d:"M14.1094 13.3192C14.1094 12.8674 14.4757 12.5012 14.9275 12.5012C15.3792 12.5012 15.7455 12.8674 15.7455 13.3192C15.7455 13.771 15.3792 14.1372 14.9275 14.1372C14.4757 14.1372 14.1094 13.771 14.1094 13.3192Z"})," ",a.createElement("path",{d:"M14.1167 10.2285C14.1167 9.77668 14.483 9.41044 14.9348 9.41044C15.3866 9.41044 15.7528 9.77668 15.7528 10.2285C15.7528 10.6802 15.3866 11.0465 14.9348 11.0465C14.483 11.0465 14.1167 10.6802 14.1167 10.2285Z"})," ",a.createElement("path",{d:"M11.2193 13.3396C11.2193 12.8878 11.5855 12.5216 12.0373 12.5216C12.4891 12.5216 12.8553 12.8878 12.8553 13.3396C12.8553 13.7914 12.4891 14.1576 12.0373 14.1576C11.5855 14.1576 11.2193 13.7914 11.2193 13.3396Z"})," ",a.createElement("path",{d:"M11.2265 10.2489C11.2265 9.79713 11.5927 9.43088 12.0445 9.43088C12.4963 9.43088 12.8625 9.79713 12.8625 10.2489C12.8625 10.7007 12.4963 11.0669 12.0445 11.0669C11.5927 11.0669 11.2265 10.7007 11.2265 10.2489Z"})," ")," "),info:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 28 28"}," ",a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2 2)"}," ",a.createElement("circle",{cx:"12",cy:"12",r:"12",stroke:"currentColor",strokeWidth:"2"}," ")," ",a.createElement("path",{fill:"currentColor",d:"M11 5h2v10h-2zm0 12h2v2h-2z"})," ")," "),link:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}," ",a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}," ",a.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"})," ",a.createElement("polyline",{points:"15 3 21 3 21 9"})," ",a.createElement("line",{x1:"10",x2:"21",y1:"14",y2:"3"})," ")," "),log:a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M24.8326 3.49072L10.5396 13.6823L24.8165 23.7408L24.8326 3.49072Z",fill:"currentColor"})," ",a.createElement("path",{d:"M3.88452 3.12473L7.2268 3.11865L7.2296 24.1027L3.88147 24.0963L3.88452 3.12473Z",fill:"currentColor"})," "),lose:a.createElement("svg",{width:"36",height:"37",viewBox:"0 0 36 37",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M20.1998 35.2166C19.5168 35.2166 18.9141 34.9688 18.3918 34.4733C17.8159 33.9108 17.4007 33.1876 17.1462 32.3036C16.8918 31.4197 16.6875 30.5726 16.5335 29.7624C16.3795 28.9521 16.1418 28.3795 15.8203 28.0447C15.1641 27.3349 14.4476 26.4778 13.6708 25.4733C12.3181 23.7188 11.4007 22.6809 10.9185 22.3595H5.41408C4.70426 22.3595 4.09823 22.1083 3.596 21.6061C3.09377 21.1039 2.84265 20.4978 2.84265 19.788V6.93088C2.84265 6.22106 3.09377 5.61503 3.596 5.1128C4.09823 4.61057 4.70426 4.35945 5.41408 4.35945H11.1998C11.4944 4.35945 12.4185 4.0916 13.9721 3.55588C15.6194 2.97999 17.0692 2.54137 18.3214 2.24003C19.5737 1.93869 20.8427 1.78802 22.1284 1.78802H24.7199C26.6083 1.78802 28.1284 2.32709 29.2802 3.40521C30.4319 4.48334 31.0011 5.9532 30.9877 7.81481C31.7913 8.84606 32.1931 10.038 32.1931 11.3907C32.1931 11.6853 32.173 11.9733 32.1328 12.2545C32.6418 13.1519 32.8962 14.1162 32.8962 15.1474C32.8962 15.6295 32.836 16.0916 32.7154 16.5336C33.3717 17.5246 33.6998 18.6161 33.6998 19.8081C33.6998 21.1876 33.1909 22.3862 32.173 23.4041C31.1552 24.422 29.9498 24.9309 28.5569 24.9309H25.0212C25.6641 26.2568 25.9855 27.5425 25.9855 28.788C25.9855 30.355 25.7511 31.6005 25.2824 32.5246C24.8136 33.4487 24.1306 34.1284 23.2333 34.5637C22.336 34.999 21.3248 35.2166 20.1998 35.2166ZM20.1998 32.6452C21.4855 32.6452 22.3427 32.3304 22.7712 31.701C23.1998 31.0715 23.4141 30.1005 23.4141 28.788C23.4141 27.9978 23.0927 26.9231 22.4498 25.5637C21.8069 24.2043 21.4855 23.1362 21.4855 22.3595H28.5569C29.2266 22.3595 29.8226 22.1016 30.3449 21.586C30.8672 21.0704 31.1284 20.4711 31.1284 19.788C31.1284 19.3193 30.9844 18.7769 30.6965 18.1608C30.4085 17.5447 30.0502 17.23 29.6217 17.2166C29.8226 16.9889 29.99 16.6708 30.1239 16.2624C30.2578 15.8539 30.3248 15.4822 30.3248 15.1474C30.3248 14.2233 29.9699 13.4264 29.2601 12.7568C29.5011 12.3282 29.6217 11.8662 29.6217 11.3706C29.6217 10.8751 29.5045 10.3829 29.2701 9.89405C29.0357 9.40521 28.7177 9.05365 28.3159 8.83936C28.3828 8.43758 28.4163 8.06258 28.4163 7.71436C28.4163 5.47776 27.1306 4.35945 24.5592 4.35945H22.1284C20.3739 4.35945 18.0837 4.84829 15.2578 5.82597C15.1909 5.85276 14.9967 5.92307 14.6752 6.03691C14.3538 6.15075 14.1161 6.23445 13.9621 6.28803C13.8081 6.3416 13.5737 6.41861 13.2589 6.51905C12.9442 6.6195 12.6898 6.69316 12.4956 6.74003C12.3014 6.78691 12.0804 6.83044 11.8326 6.87061C11.5848 6.91079 11.3739 6.93088 11.1998 6.93088H10.5569V19.788H11.1998C11.4141 19.788 11.6518 19.8483 11.913 19.9688C12.1741 20.0894 12.442 20.2702 12.7165 20.5112C12.9911 20.7523 13.2489 20.99 13.49 21.2244C13.731 21.4588 13.9989 21.7534 14.2935 22.1083C14.5882 22.4632 14.8192 22.7478 14.9866 22.9621C15.154 23.1764 15.365 23.451 15.6194 23.7858C15.8739 24.1206 16.0279 24.3215 16.0815 24.3885C16.8181 25.2992 17.3337 25.9086 17.6284 26.2166C18.1775 26.7925 18.5759 27.5257 18.8237 28.4164C19.0714 29.307 19.2757 30.1474 19.4364 30.9376C19.5971 31.7278 19.8516 32.297 20.1998 32.6452ZM5.26557 19.8494H8.5424V6.855H5.22037L5.26557 19.8494Z",fill:"currentColor"})," "),next:a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("g",{transform:"rotate(180) translate(-31 -31.9)"}," ",a.createElement("path",{d:"M15.8561 4.8904L5.41614 15.1346L15.7777 25.6138",stroke:"currentColor",strokeWidth:"3.36"})," ",a.createElement("path",{d:"M24.0388 15H7",stroke:"currentColor",strokeWidth:"3.36"})," ")," "),plus:a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M14.044 4.17188L14.0356 23.8273M4.172 14.2961L23.828 14.3843L4.172 14.2961Z",stroke:"currentColor",strokeWidth:"3.8",strokeLinecap:"round",strokeLinejoin:"round"})," "),qr:a.createElement("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("g",{stroke:"currentColor",strokeWidth:"30",strokeLinecap:"round",strokeLinejoin:"round"}," ",a.createElement("circle",{cx:"176.89153",cy:"256.38351",r:"85.77359"})," ",a.createElement("line",{x1:"210.54286",x2:"247.73389",y1:"287.8663",y2:"342.15714"})," ",a.createElement("path",{d:"m 301.94996,170.60991 h 68.27489 a 51.449201,51.449201 0 0 1 51.44919,51.44921 v 0 a 51.449201,51.449201 0 0 1 -51.44919,51.4492 h -68.27489 z"})," ",a.createElement("line",{x1:"301.94992",x2:"301.94992",y1:"273.48334",y2:"342.15714"})," ",a.createElement("line",{x1:"370.22485",x2:"411.87778",y1:"273.48334",y2:"342.15714",id:"line16"})," ",a.createElement("path",{d:"m 402.67972,17.084901 h 51.05036 a 41.976965,41.976965 0 0 1 41.95204,41.952048 v 51.050361"})," ",a.createElement("path",{d:"m 495.68212,402.67971 v 51.05037 a 41.976965,41.976965 0 0 1 -41.95204,41.95204 h -51.05036"})," ",a.createElement("path",{d:"M 110.08731,495.68212 H 59.03695 A 41.976965,41.976965 0 0 1 17.084901,453.73008 v -51.05037"})," ",a.createElement("path",{d:"M 17.084901,110.08731 V 59.036949 A 41.976965,41.976965 0 0 1 59.03695,17.084901 h 51.05036"})," ")," "),refresh:a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M13.1843 16.9414L13.1662 19.4318L13.1575 20.6396L14.3653 20.6483C19.4918 20.6855 23.7107 16.5249 23.7478 11.3975C23.7849 6.27016 19.6267 2.0489 14.5001 2.01175C9.78266 1.97757 5.8337 5.49796 5.20466 10.0553L4.91557 10.0532C5.54875 5.34048 9.63289 1.68849 14.5022 1.72377C19.7802 1.76202 24.073 6.11848 24.0348 11.3996C23.9965 16.6807 19.6411 20.9745 14.3632 20.9363L13.1554 20.9275L13.1467 22.1353L13.1286 24.6257L9.31579 20.7557L13.1843 16.9414Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2.5"})," "),repeat:a.createElement("svg",{height:"48",width:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{fill:"currentColor",d:"M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"})," "),"riichi-big":a.createElement("svg",{width:"106",height:"17",viewBox:"0 0 106 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("rect",{width:"104",height:"14",x:"1.4",y:"1.4",rx:"8",ry:"8",stroke:"currentColor",style:{fill:"var(--riichi-fill-color)"},strokeWidth:"1.4"})," ",a.createElement("circle",{r:"3.6",cx:"53.4",cy:"8.4",style:{fill:"var(--riichi-circle-color)"}})," "),"riichi-small":a.createElement("svg",{width:"31",height:"24",viewBox:"0 0 31 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M29.8054 11.7288V11.7288C29.8054 9.32926 28.2087 7.38406 26.2391 7.38406L4.84099 7.38406C2.87135 7.38406 1.27464 9.32926 1.27464 11.7288V11.7288C1.27464 14.1283 2.87135 16.0735 4.84099 16.0735L26.2391 16.0735C28.2087 16.0735 29.8054 14.1283 29.8054 11.7288Z",stroke:"currentColor",strokeWidth:"0.775"})," ",a.createElement("path",{d:"M14.1798 11.6742C14.1798 10.8182 14.8737 10.1242 15.7298 10.1242C16.5858 10.1242 17.2798 10.8182 17.2798 11.6742C17.2798 12.5303 16.5858 13.2242 15.7298 13.2242C14.8737 13.2242 14.1798 12.5303 14.1798 11.6742Z",fill:"currentColor"})," "),save:a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{d:"M5.50003 18L14.5 26.5L29.5 8.5",stroke:"currentColor",strokeWidth:"4.96"})," "),settings:a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",a.createElement("path",{fill:"currentColor",d:"M26,48h-4c-1.654,0-3-1.346-3-3v-3.724c-1.28-0.37-2.512-0.881-3.681-1.527l-2.634,2.635 c-1.134,1.134-3.109,1.132-4.243,0l-2.829-2.828c-0.567-0.566-0.879-1.32-0.879-2.121s0.312-1.555,0.879-2.121l2.635-2.636 c-0.645-1.166-1.156-2.398-1.525-3.679H3c-1.654,0-3-1.346-3-3v-4c0-0.802,0.312-1.555,0.878-2.121 c0.567-0.566,1.32-0.879,2.122-0.879h3.724c0.37-1.278,0.88-2.511,1.526-3.679l-2.634-2.635c-1.17-1.17-1.17-3.072,0-4.242 l2.828-2.829c1.133-1.132,3.109-1.134,4.243,0l2.635,2.635C16.49,7.604,17.722,7.093,19,6.724V3c0-1.654,1.346-3,3-3h4 c1.654,0,3,1.346,3,3v3.724c1.28,0.37,2.512,0.881,3.678,1.525l2.635-2.635c1.134-1.132,3.109-1.134,4.243,0l2.829,2.828 c0.567,0.566,0.879,1.32,0.879,2.121s-0.312,1.555-0.879,2.121l-2.634,2.635c0.646,1.168,1.157,2.4,1.526,3.68H45 c1.654,0,3,1.346,3,3v4c0,0.802-0.312,1.555-0.878,2.121s-1.32,0.879-2.122,0.879h-3.724c-0.37,1.28-0.881,2.513-1.526,3.68 l2.634,2.635c1.17,1.17,1.17,3.072,0,4.242l-2.828,2.829c-1.134,1.133-3.109,1.133-4.243,0L32.68,39.75 c-1.168,0.646-2.401,1.156-3.679,1.526V45C29,46.654,27.655,48,26,48z M15.157,37.498c0.179,0,0.36,0.048,0.521,0.146 c1.416,0.866,2.949,1.502,4.557,1.891C20.684,39.644,21,40.045,21,40.507V45c0,0.552,0.449,1,1,1h4c0.551,0,1-0.448,1-1v-4.493 c0-0.462,0.316-0.863,0.765-0.972c1.606-0.389,3.139-1.023,4.556-1.89c0.396-0.241,0.902-0.18,1.229,0.146l3.178,3.179 c0.375,0.374,1.039,0.376,1.415,0l2.828-2.829c0.39-0.39,0.39-1.024,0-1.414l-3.179-3.179c-0.327-0.326-0.387-0.835-0.146-1.229 c0.865-1.414,1.5-2.947,1.889-4.556c0.108-0.449,0.51-0.766,0.972-0.766H45c0.267,0,0.519-0.104,0.708-0.293 C45.896,26.518,46,26.267,46,25.999v-4c0-0.552-0.449-1-1-1h-4.493c-0.462,0-0.864-0.316-0.972-0.766 c-0.388-1.607-1.023-3.14-1.889-4.556c-0.241-0.394-0.181-0.901,0.146-1.229l3.179-3.179c0.186-0.187,0.293-0.444,0.293-0.707 s-0.107-0.521-0.293-0.707l-2.829-2.828c-0.378-0.377-1.037-0.377-1.415,0l-3.179,3.179c-0.326,0.328-0.833,0.389-1.229,0.146 c-1.413-0.864-2.945-1.5-4.554-1.889C27.317,8.356,27,7.955,27,7.493V3c0-0.552-0.449-1-1-1h-4c-0.551,0-1,0.448-1,1v4.493 c0,0.462-0.316,0.863-0.765,0.972c-1.606,0.388-3.139,1.023-4.556,1.889c-0.395,0.241-0.902,0.181-1.228-0.146l-3.179-3.179 c-0.378-0.377-1.037-0.377-1.415,0L7.03,9.857c-0.39,0.39-0.39,1.024,0,1.414l3.179,3.179c0.327,0.326,0.387,0.835,0.146,1.229 c-0.866,1.416-1.501,2.949-1.889,4.555c-0.108,0.449-0.51,0.766-0.972,0.766H3c-0.267,0-0.519,0.104-0.708,0.293 C2.104,21.48,2,21.731,2,21.999v4c0,0.552,0.449,1,1,1h4.493c0.462,0,0.864,0.316,0.972,0.766 c0.389,1.608,1.024,3.141,1.889,4.555c0.241,0.394,0.181,0.901-0.146,1.229l-3.179,3.18c-0.186,0.187-0.293,0.444-0.293,0.707 s0.107,0.521,0.293,0.707l2.829,2.828c0.377,0.377,1.037,0.377,1.415,0l3.178-3.179C14.643,37.598,14.898,37.498,15.157,37.498z"})," ",a.createElement("path",{fill:"currentColor",d:"M24,34c-5.514,0-10-4.486-10-10s4.486-10,10-10s10,4.486,10,10S29.515,34,24,34z M24,16c-4.411,0-8,3.589-8,8 s3.589,8,8,8s8-3.589,8-8S28.412,16,24,16z"})," "),shuffle:a.createElement("svg",{width:"16px",height:"16px",version:"1.1",viewBox:"0 0 16 16"}," ",a.createElement("g",{fill:"none",fillRule:"evenodd",id:"Icons with numbers",stroke:"none",strokeWidth:"1"}," ",a.createElement("g",{fill:"currentColor",id:"Group",transform:"translate(-384.000000, -96.000000)"}," ",a.createElement("path",{d:"M393,109 L391.383673,106.844897 L392.637981,105.183975 L394,107 L396,107 L396,105 L400,108 L396,111 L396,109 Z M388.383673,102.844897 L387,101 L384,101 L384,99 L388,99 L389.637981,101.183975 Z M393.04248,99 L396,99 L396,97 L400,100 L396,103 L396,101 L394.04248,101 L388.000977,109 L384,109 L384,107 L387.000977,107 Z M393.04248,99",id:"Shape"})," ")," ")," "),win:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792"}," ",a.createElement("path",{fill:"currentColor",d:"M992 0c-34 0-64 12.333-90 37-28.667 28-49.333 64-62 108-12.667 44-22.833 86.167-30.5 126.5-7.667 40.333-19.5 68.833-35.5 85.5-32.667 35.333-68.333 78-107 128-67.333 87.333-113 139-137 155H256c-35.333 0-65.5 12.5-90.5 37.5S128 732.667 128 768v640c0 35.333 12.5 65.5 37.5 90.5s55.167 37.5 90.5 37.5h288c14.667 0 60.667 13.333 138 40 82 28.667 154.167 50.5 216.5 65.5S1024 1664 1088 1664h129c94 0 169.667-26.833 227-80.5s85.667-126.833 85-219.5c40-51.333 60-110.667 60-178 0-14.667-1-29-3-43 25.333-44.667 38-92.667 38-144 0-24-3-47-9-69 32.667-49.333 49-103.667 49-163 0-68.667-25.333-128.333-76-179s-110.667-76-180-76h-176c32-66 48-130 48-192 0-78-11.667-140-35-186s-57.333-79.833-102-101.5S1048 0 992 0zm0 128c64 0 106.667 15.667 128 47s32 79.667 32 145c0 39.333-16 92.833-48 160.5s-48 120.833-48 159.5h352c33.333 0 63 12.833 89 38.5s39 55.5 39 89.5c0 23.333-7.167 50.333-21.5 81s-32.167 46.333-53.5 47c10 11.333 18.333 27.167 25 47.5 6.667 20.333 10 38.833 10 55.5 0 46-17.667 85.667-53 119 12 21.333 18 44.333 18 69s-5.833 49.167-17.5 73.5-27.5 41.833-47.5 52.5c3.333 20 5 38.667 5 56 0 111.333-64 167-192 167h-121c-87.333 0-201.333-24.333-342-73-3.333-1.333-13-4.833-29-10.5s-27.833-9.833-35.5-12.5c-7.667-2.667-19.333-6.5-35-11.5-15.667-5-28.333-8.667-38-11-9.667-2.333-20.667-4.5-33-6.5-12.333-2-22.833-3-31.5-3h-32V768h32c10.667 0 22.5-3 35.5-9s26.333-15 40-27c13.667-12 26.5-23.833 38.5-35.5 12-11.667 25.333-26.333 40-44 14.667-17.667 26.167-31.833 34.5-42.5 8.333-10.667 18.833-24.333 31.5-41 12.667-16.667 20.333-26.667 23-30 36.667-45.333 62.333-75.667 77-91 27.333-28.667 47.167-65.167 59.5-109.5C935.833 294.167 946 252.333 954 213s20.667-67.667 38-85zM248.607 764.947h163.114v646.83H246.357l2.25-646.83z"})," ")},je=a.memo((function(e){var t=e.type,n=e.svgProps,r=Ye[t];return a.cloneElement(r,n)}));!function(e){e.ARROW_LEFT="arrow-left",e.ARROW_RIGHT="arrow-right",e.ROTATE_CW="rotate-cw",e.ROTATE_CCW="rotate-ccw",e.BACK="back",e.CLOSE="close",e.DONATE="donate",e.HOME="home",e.HONBA="honba",e.INFO="info",e.LINK="link",e.LOG="log",e.LOSE="lose",e.NEXT="next",e.PLUS="plus",e.QR="qr",e.REFRESH="refresh",e.REPEAT="repeat",e.RIICHI_BIG="riichi-big",e.RIICHI_SMALL="riichi-small",e.SAVE="save",e.SETTINGS="settings",e.SHUFFLE="shuffle",e.WIN="win"}(r||(r={}));var Fe=n(184),Ve=n.n(Fe),We=a.createContext(null),Ze=a.memo((function(e){var t=(0,a.useContext)(We),n=e.eventName,o=e.canStartGame,i=e.hasStartedGame,c=e.hasPrevGame,s=e.canSeeOtherTables,l=e.hasStat,u=e.showDonate,d=e.onDonateClick,p=e.onSettingClick,m=e.onRefreshClick,h=e.onOtherTablesClick,f=e.onPrevGameClick,y=e.onNewGameClick,O=e.onCurrentGameClick,g=e.onStatClick;return a.createElement("div",{className:"page-home"},a.createElement("div",{className:"top-panel top-panel--between"},a.createElement("div",{className:"svg-button svg-button--small",onClick:m},a.createElement(je,{type:r.REFRESH})),a.createElement("div",{className:"svg-button svg-button--small",onClick:p},a.createElement(je,{type:r.SETTINGS}))),a.createElement("div",{className:"page-home__title"},n),a.createElement("div",{className:"page-home__bottom"},u?a.createElement("div",{className:"svg-button",style:{margin:"16px"},onClick:d},a.createElement(je,{type:r.DONATE,svgProps:{color:"#ddd"}})):null,a.createElement(Je,{caption:t._t("New game"),isVisible:o,isActive:!0,iconType:r.PLUS,onClick:y}),a.createElement(Je,{caption:t._t("Current game"),isVisible:i,isActive:!0,onClick:O}),a.createElement(Je,{caption:t._t("Previous game"),isVisible:c,isBordered:!o&&!i,onClick:f}),a.createElement(Je,{caption:t._t("Other playing tables"),isVisible:s,isBordered:!o&&!i||c,onClick:h}),a.createElement(Je,{caption:t._t("Statistics"),isVisible:l,isBordered:!o&&!i||c||s,iconType:r.LINK,isIconRight:!0,onClick:g})))})),Je=a.memo((function(e){var t=e.caption,n=e.isVisible,r=e.isActive,o=e.isBordered,i=e.iconType,c=e.isIconRight,s=e.onClick;return n?a.createElement("div",{className:Ve()("page-home__button",{"page-home__button--active":r,"page-home__button--bordered":o}),onClick:s},a.createElement("div",{className:"page-home__button-content"},i&&a.createElement("div",{className:Ve()("icon",{"icon--right":c})},a.createElement(je,{type:i})),t)):null}));function ze(){return a.createElement("div",{className:"inline-preloader"})}var qe=function(e){return e.loading.overview||e.loading.addRound||e.loading.games},Xe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xe(t,e),t.prototype.onSettingClick=function(){this.props.dispatch({type:y})},t.prototype.onRefreshClick=function(){this.props.dispatch({type:L})},t.prototype.onOtherTablesClick=function(){this.props.dispatch({type:V})},t.prototype.onPrevGameClick=function(){this.props.dispatch({type:h})},t.prototype.onNewGameClick=function(){this.props.dispatch({type:l})},t.prototype.onCurrentGameClick=function(){var e=this.props.dispatch;e({type:L}),e({type:u})},t.prototype.onStatClick=function(){var e=this.props.state.gameConfig;e&&window.open("".concat(e.eventStatHost.startsWith("https://")||e.eventStatHost.startsWith("http://localhost:")?e.eventStatHost:"https://"+e.eventStatHost,"/last/"))},t.prototype.onDonateClick=function(){(0,this.props.dispatch)({type:d})},t.prototype.componentDidMount=function(){this.props.state.currentEventId&&(0,this.props.dispatch)({type:L})},t.prototype.render=function(){var e=this.props.state,t=this.context;if(!e.gameConfig||qe(e))return a.createElement(ze,null);var n=e.gameConfig.eventTitle||t._t("Event title"),r="ru"===this.props.state.settings.currentLang&&(window.location.host.startsWith("localhost")||"m.riichi.top"===window.location.host);return a.createElement(Ze,{eventName:n,canStartGame:!e.gameConfig.autoSeating&&!e.isUniversalWatcher&&!e.currentSessionHash&&!e.gameConfig.isPrescripted,hasStartedGame:!!e.currentSessionHash&&e.gameOverviewReady,hasPrevGame:!e.isUniversalWatcher,canSeeOtherTables:!0,showDonate:r,hasStat:!!e.gameConfig.eventStatHost&&!e.isUniversalWatcher,onDonateClick:this.onDonateClick.bind(this),onSettingClick:this.onSettingClick.bind(this),onRefreshClick:this.onRefreshClick.bind(this),onOtherTablesClick:this.onOtherTablesClick.bind(this),onPrevGameClick:this.onPrevGameClick.bind(this),onNewGameClick:this.onNewGameClick.bind(this),onCurrentGameClick:this.onCurrentGameClick.bind(this),onStatClick:this.onStatClick.bind(this)})},t.contextType=We,t}(a.PureComponent);var $e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=a.memo((function(e){var t=e.onChange,n=(0,a.useState)(""),r=n[0],o=n[1],i=function(e,t){var n=(0,a.useState)(e),r=n[0],o=n[1];return(0,a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e]),r}(r,500);return(0,a.useEffect)((function(){i&&t(i)}),[i]),a.createElement(tt,{onChange:function(e){return o(e)},onClear:function(){return t("")}})})),tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={searchValue:""},t}return $e(t,e),t.prototype.onInputChange=function(e){var t=e.target.value;this.setState({searchValue:t}),this.props.onChange(t)},t.prototype.onClearClick=function(){this.setState({searchValue:""}),this.props.onClear()},t.prototype.render=function(){var e=this.state.searchValue,t=this.context;return a.createElement(a.Fragment,null,a.createElement("input",{value:e,placeholder:t._t("type to find someone"),onChange:this.onInputChange.bind(this)}),!!e&&a.createElement("div",{onClick:this.onClearClick.bind(this)},a.createElement(je,{type:r.CLOSE})))},t.contextType=We,t}(a.Component),nt=a.memo((function(e){var t=e.showSearch,n=e.onBackClick,o=e.onSearchChange;return a.createElement("div",{className:"top-panel"},a.createElement("div",{className:"svg-button",onClick:n},a.createElement(je,{type:r.BACK})),t&&o&&a.createElement("div",{className:"top-panel__search"},a.createElement(et,{onChange:o})))})),rt=a.memo((function(e){var t=(0,a.useContext)(We),n=e.playerName,r=e.supportedLanguages,o=e.currentLanguage,i=e.supportedThemes,c=e.currentTheme,s=e.onLogout,l=e.onBackClick,u=e.onLangChange,d=e.onThemeSelect,p=e.onEventSelect;return a.createElement("div",{className:"flex-container page-setting"},a.createElement("div",{className:"flex-container__content"},a.createElement(nt,{onBackClick:l}),a.createElement("div",{className:"page-setting__name"},n),a.createElement("div",{className:"page-setting__section"},a.createElement("div",{className:"page-setting__section-title"},t._t("Language")),a.createElement("div",{className:"page-setting__section-content"},r.map((function(e){return a.createElement("div",{key:e,className:Ve()("radio-btn radio-btn--small",{"radio-btn--active":e===o}),onClick:function(){return u(e)}},e)})))),a.createElement("div",{className:"page-setting__section"},a.createElement("div",{className:"page-setting__section-title"},t._t("Theme")),a.createElement("div",{className:"page-setting__section-content"},i.map((function(e){return a.createElement("div",{key:e.name,className:Ve()("theme",{"theme--selected":e.name===c})},a.createElement("div",{className:"theme__visual",onClick:function(){return d(e.name)}},a.createElement("div",{className:"theme__visual-inner",style:{backgroundColor:e.backgroundColor}},a.createElement("div",{className:"theme__secondary-color",style:{backgroundColor:e.secondaryColor}}),a.createElement("div",{className:"theme__text-color",style:{backgroundColor:e.textColor}}),a.createElement("div",{className:"theme__primary-color",style:{backgroundColor:e.primaryColor}}))),a.createElement("div",{className:"theme__name"},e.name))})))),a.createElement("div",{className:"page-setting__section"},a.createElement("div",{className:"page-setting__section-content"},a.createElement("button",{className:"flat-btn flat-btn--large",style:{width:"100%"},onClick:function(){return p()}},t._t("Select another event"))))),a.createElement("div",{className:"flex-container__bottom page-setting__bottom",onClick:s},a.createElement("div",{className:"link"},t._t("Log out"))))})),at=n(979);const ot=JSON.parse('{"meta":{"projectIdVersion":"PROJECT VERSION","reportMsgidBugsTo":"","potCreationDate":"2023-01-08 05:43+0300","poRevisionDate":"2022-12-03 20:48+0300","languageTeam":"","language":"ru_RU","mimeVersion":"1.0","contentType":"text/plain; charset=UTF-8","contentTransferEncoding":"8bit","pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);","generatedBy":"i18n-json2po"},"items":[{"type":"plural","entry":["%1 deal left","%1 deals left"],"translations":["\u041e\u0441\u0442\u0430\u043b\u0430\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447\u0430","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447\u0438","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447"]},{"type":"single","entry":"%1 han","translation":"%1 \u0445\u0430\u043d"},{"type":"single","entry":"%1 han %2 fu","translation":"%1 \u0445\u0430\u043d, %2 \u0444\u0443"},{"type":"single","entry":"%1 \u2190 %2","translation":"%1 \u2190 %2"},{"type":"single","entry":"Abort","translation":"\u0410\u0431\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u043d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Abortive draw","translation":"\u0410\u0431\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u043d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Chankan","translation":"\u0427\u0430\u043d\u043a\u0430\u043d"},{"type":"single","entry":"Chanta","translation":"\u0427\u0430\u043d\u0442\u0430"},{"type":"single","entry":"Chiihou","translation":"\u0427\u0438\u0445\u043e"},{"type":"single","entry":"Chiitoitsu","translation":"\u0427\u0438\u0438\u0442\u043e\u0439\u0446\u0443"},{"type":"single","entry":"Chinitsu","translation":"\u0427\u0438\u043d\u0438\u0446\u0443"},{"type":"single","entry":"Chinroutou","translation":"\u0427\u0438\u043d\u0440\u043e\u0442\u043e"},{"type":"single","entry":"Chombo","translation":"\u0427\u043e\u043c\u0431\u043e"},{"type":"single","entry":"Chuuren poutou","translation":"\u0427\u0443\u0443\u0440\u0435\u043d\u043f\u043e\u0442\u043e"},{"type":"single","entry":"Clear players","translation":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"},{"type":"single","entry":"Current game","translation":"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"Daburu","translation":"\u0414\u0430\u0431\u0443\u0440\u0438"},{"type":"single","entry":"Daburu riichi","translation":"\u0414\u0430\u0431\u043b-\u0440\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Daisangen","translation":"\u0414\u0430\u0439\u0441\u0430\u043d\u0433\u0435\u043d"},{"type":"single","entry":"Daisuushii","translation":"\u0414\u0430\u0439\u0441\u0443\u0448\u0438"},{"type":"single","entry":"Dora","translation":"\u0414\u043e\u0440\u0430"},{"type":"single","entry":"Draw","translation":"\u041d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"E-mail is not registered in Pantheon database (%1)","translation":"E-mail \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 Pantheon (%1)"},{"type":"single","entry":"Email","translation":"Email"},{"type":"single","entry":"Event title","translation":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"},{"type":"single","entry":"Exhaustive draw","translation":"\u041d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Forgot password?","translation":"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"},{"type":"single","entry":"Fu","translation":"\u0424\u0443"},{"type":"single","entry":"Game log","translation":"\u041b\u043e\u0433 \u0438\u0433\u0440\u044b"},{"type":"single","entry":"Games overview","translation":"\u041e\u0431\u0437\u043e\u0440 \u0438\u0433\u0440"},{"type":"single","entry":"Haitei","translation":"\u0425\u0430\u0439\u0442\u0435\u0439"},{"type":"single","entry":"Han from yaku","translation":"\u0425\u0430\u043d \u0438\u0437 \u044f\u043a\u0443"},{"type":"single","entry":"Honba: %1","translation":"\u0425\u043e\u043d\u0431\u0430: %1"},{"type":"single","entry":"Honitsu","translation":"\u0425\u043e\u043d\u0438\u0446\u0443"},{"type":"single","entry":"Honroutou","translation":"\u0425\u043e\u043d\u0440\u043e\u0442\u043e"},{"type":"single","entry":"Houtei","translation":"\u0425\u043e\u0442\u0435\u0439"},{"type":"single","entry":"Houtei raoyui","translation":"\u0425\u043e\u0442\u0435\u0439 \u0440\u0430\u043e\u044e\u0439"},{"type":"single","entry":"If in doubt, contact the tournament administrator for further instructions.","translation":"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u0442\u0443\u0440\u043d\u0438\u0440\u0430 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439."},{"type":"single","entry":"If you want to select a riichi, return back and press riichi button for the winner","translation":"\u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u043a\u0443 \u0440\u0438\u0438\u0447\u0438, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430\u0437\u0430\u0434 \u0438 \u043e\u0442\u043c\u0435\u0442\u044c\u0442\u0435 \u0441\u0442\u0430\u0432\u043a\u0443 \u0440\u0438\u0438\u0447\u0438 \u0434\u043b\u044f \u0432\u044b\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"},{"type":"single","entry":"Iipeikou","translation":"\u0418\u0438\u043f\u0435\u0439\u043a\u043e"},{"type":"single","entry":"Ippatsu","translation":"\u0418\u043f\u043f\u0430\u0446\u0443"},{"type":"single","entry":"Ittsu","translation":"\u0418\u0446\u0446\u0443"},{"type":"single","entry":"Junchan","translation":"\u0414\u0436\u0443\u043d\u0447\u0430\u043d"},{"type":"single","entry":"Kokushi musou","translation":"\u041a\u043e\u043a\u0443\u0448\u0438\u043c\u0443\u0441\u043e"},{"type":"single","entry":"Language","translation":"\u042f\u0437\u044b\u043a"},{"type":"single","entry":"Loading...","translation":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},{"type":"single","entry":"Log in","translation":"\u0412\u0445\u043e\u0434"},{"type":"single","entry":"Log out","translation":"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"type":"single","entry":"Login attempt has failed. Possible reasons are:","translation":"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b:"},{"type":"single","entry":"Loser","translation":"\u041f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0438\u0439"},{"type":"single","entry":"Menzentsumo","translation":"\u041c\u0435\u043d\u0437\u0435\u043d\u0446\u0443\u043c\u043e"},{"type":"single","entry":"Multiron, from %1","translation":"\u041c\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u043d \u0441 %1"},{"type":"single","entry":"Nagashi","translation":"\u041d\u0430\u0433\u0430\u0448\u0438 \u043c\u0430\u043d\u0433\u0430\u043d"},{"type":"single","entry":"Nagashi mangan","translation":"\u041d\u0430\u0433\u0430\u0448\u0438 \u043c\u0430\u043d\u0433\u0430\u043d"},{"type":"single","entry":"New game","translation":"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"No games found","translation":"\u0418\u0433\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"},{"type":"single","entry":"No results found","translation":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"},{"type":"single","entry":"OK","translation":"\u041e\u041a"},{"type":"single","entry":"Open riichi","translation":"\u041e\u043f\u0435\u043d \u0440\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Opened hand","translation":"\u041e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0443\u043a\u0430"},{"type":"single","entry":"Other playing tables","translation":"\u0414\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u043e\u043b\u044b"},{"type":"single","entry":"Pantheon","translation":"Pantheon"},{"type":"single","entry":"Pantheon: log in","translation":"Pantheon: \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"},{"type":"single","entry":"Pao from: %1","translation":"\u041f\u0430\u043e \u0441: %1"},{"type":"single","entry":"Password","translation":"\u041f\u0430\u0440\u043e\u043b\u044c"},{"type":"single","entry":"Password check has failed","translation":"\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"},{"type":"single","entry":"Penalty","translation":"\u0428\u0442\u0440\u0430\u0444"},{"type":"single","entry":"Pinfu","translation":"\u041f\u0438\u043d-\u0444\u0443"},{"type":"single","entry":"Player name","translation":"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430"},{"type":"single","entry":"Previous game","translation":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"Red fives","translation":"\u0410\u043a\u0430\u0434\u043e\u0440\u044b"},{"type":"single","entry":"Renhou","translation":"\u0420\u0435\u043d\u0445\u043e"},{"type":"single","entry":"Riichi","translation":"\u0420\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Riichi bets: %1","translation":"\u0421\u0442\u0430\u0432\u043e\u043a \u0440\u0438\u0438\u0447\u0438: %1"},{"type":"single","entry":"Rinshan","translation":"\u0420\u0438\u043d\u0448\u0430\u043d"},{"type":"single","entry":"Rinshan kaihou","translation":"\u0420\u0438\u043d\u0448\u0430\u043d \u043a\u0430\u0439\u0445\u043e"},{"type":"single","entry":"Ron","translation":"\u0420\u043e\u043d"},{"type":"single","entry":"Ron, %1","translation":"\u0420\u043e\u043d, %1"},{"type":"single","entry":"Ryanpeikou","translation":"\u0420\u044f\u043d\u043f\u0435\u0439\u043a\u043e"},{"type":"single","entry":"Ryuuiisou","translation":"\u0420\u044e\u0438\u0441\u043e"},{"type":"single","entry":"Sanankou","translation":"\u0421\u0430\u043d\u0430\u043d\u043a\u043e"},{"type":"single","entry":"Sankantsu","translation":"\u0421\u0430\u043d\u043a\u0430\u043d\u0446\u0443"},{"type":"single","entry":"Sanshoku","translation":"\u0421\u0430\u043d\u0448\u043e\u043a\u0443"},{"type":"single","entry":"Sanshoku doukou","translation":"\u0421\u0430\u043d\u0448\u043e\u043a\u0443 \u0434\u043e\u043a\u043e"},{"type":"single","entry":"Select another event","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"type":"single","entry":"Select event","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"type":"single","entry":"Select pao","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0430\u043e"},{"type":"single","entry":"Select tempai","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043c\u043f\u0430\u0439"},{"type":"single","entry":"Shousangen","translation":"\u0428\u043e\u0441\u0430\u043d\u0433\u0435\u043d"},{"type":"single","entry":"Shousuushii","translation":"\u0428\u043e\u0441\u0443\u0448\u0438"},{"type":"single","entry":"Shuffle players","translation":"\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c"},{"type":"single","entry":"Sign up","translation":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"type":"single","entry":"Start game","translation":"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"},{"type":"single","entry":"Statistics","translation":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},{"type":"single","entry":"Suuankou","translation":"\u0421\u0443\u0443\u0430\u043d\u043a\u043e"},{"type":"single","entry":"Suukantsu","translation":"\u0421\u0443\u0443\u043a\u0430\u043d\u0446\u0443"},{"type":"single","entry":"Table #%1","translation":"\u0421\u0442\u043e\u043b \u2116%1"},{"type":"single","entry":"Tanyao","translation":"\u0422\u0430\u043d-\u044f\u043e"},{"type":"single","entry":"Tempai: %1","translation":"\u0422\u0435\u043c\u043f\u0430\u0439: %1"},{"type":"single","entry":"Tenhou","translation":"\u0422\u0435\u043d\u0445\u043e"},{"type":"single","entry":"Theme","translation":"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435"},{"type":"single","entry":"There is no events you participate in right now","translation":"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442\u0435"},{"type":"single","entry":"Time before game start:","translation":"\u0414\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b:"},{"type":"single","entry":"Toitoi","translation":"\u0422\u043e\u0439\u0442\u043e\u0439"},{"type":"single","entry":"Tsumo","translation":"\u0426\u0443\u043c\u043e"},{"type":"single","entry":"Tsumo, %1","translation":"\u0426\u0443\u043c\u043e, %1"},{"type":"single","entry":"Tsuuiisou","translation":"\u0426\u0443\u0438\u0441\u043e"},{"type":"single","entry":"Unexpected server error","translation":"\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"},{"type":"single","entry":"Ura dora","translation":"\u0423\u0440\u0430\u0434\u043e\u0440\u0430"},{"type":"single","entry":"Winner","translation":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c"},{"type":"single","entry":"Yakuhai","translation":"\u042f\u043a\u0443\u0445\u0430\u0439"},{"type":"single","entry":"Yakuhai x1","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 1"},{"type":"single","entry":"Yakuhai x2","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 2"},{"type":"single","entry":"Yakuhai x3","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 3"},{"type":"single","entry":"Yakuhai x4","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 4"},{"type":"single","entry":"Yakuman","translation":"\u042f\u043a\u0443\u043c\u0430\u043d"},{"type":"single","entry":"dora %1","translation":"\u0434\u043e\u0440\u0430 %1"},{"type":"single","entry":"empty outcome","translation":"\u043f\u0443\u0441\u0442\u043e\u0439 \u0438\u0441\u0445\u043e\u0434"},{"type":"single","entry":"name","translation":"\u0438\u043c\u044f"},{"type":"single","entry":"register","context":"Name of registration link","translation":"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"type":"single","entry":"select player","translation":"\u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"},{"type":"single","entry":"something goes wrong, please contact your administrator","translation":"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"type":"single","entry":"type to find someone","translation":"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{"type":"single","entry":"wrong outcome for paoSelect","translation":"\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0438\u0441\u0445\u043e\u0434 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0430\u043e"},{"type":"single","entry":"x2","translation":"\u04452"},{"type":"single","entry":"x3","translation":"\u04453"},{"type":"single","entry":"x4","translation":"\u04454"},{"type":"single","entry":"yakuman","translation":"\u044f\u043a\u0443\u043c\u0430\u043d"}]}'),it=JSON.parse('{"meta":{"projectIdVersion":"PROJECT VERSION","reportMsgidBugsTo":"","potCreationDate":"2022-01-15 01:02+0300","poRevisionDate":"2022-01-23 15:42+0100","languageTeam":"","mimeVersion":"1.0","contentType":"text/plain; charset=UTF-8","contentTransferEncoding":"8bit","generatedBy":"i18n-json2po","pluralForms":"nplurals=2; plural=(n != 1);","language":"de_DE"},"items":[{"type":"single","entry":"select player","translation":"Spieler ausw\xe4hlen"},{"type":"single","entry":"something goes wrong, please contact your administrator","translation":"Etwas ist schiefgelaufen, bitte kontaktiere den Administrator"},{"type":"single","entry":"type to find someone","translation":"Spieler suchen"},{"type":"single","entry":"name","translation":"Name"},{"type":"single","entry":"Select event","translation":"Event ausw\xe4hlen"},{"type":"single","entry":"There is no events you participate in right now","translation":"Du nimmst gerade an keinem Event teil"},{"type":"single","entry":"No games found","translation":"Keine Spiele gefunden"},{"type":"single","entry":"Event title","translation":"Eventname"},{"type":"single","entry":"New game","translation":"Neues Spiel"},{"type":"single","entry":"Current game","translation":"Laufendes Spiel"},{"type":"single","entry":"Previous game","translation":"Letztes Spiel"},{"type":"single","entry":"Other playing tables","translation":"Andere laufende Spiele"},{"type":"single","entry":"Statistics","translation":"Statistiken"},{"type":"single","entry":"No results found","translation":"Keine Ergebnisse"},{"type":"single","entry":"Game log","translation":"Spielaufzeichung"},{"type":"single","entry":"yakuman"},{"type":"single","entry":"%1 han"},{"type":"single","entry":"%1 han %2 fu"},{"type":"single","entry":"Pao from: %1","translation":"Pao von: %1"},{"type":"single","entry":"Honba: %1"},{"type":"single","entry":"Tempai: %1","translation":"Tenpai: %1"},{"type":"single","entry":"Riichi bets: %1","translation":"Richieins\xe4tze: %1"},{"type":"single","entry":"dora %1"},{"type":"single","entry":"Ron, %1"},{"type":"single","entry":"%1 \u2190 %2"},{"type":"single","entry":"Multiron, from %1","translation":"Multiron, von %1"},{"type":"single","entry":"Tsumo, %1"},{"type":"single","entry":"Exhaustive draw","translation":"Unentschieden"},{"type":"single","entry":"Abortive draw"},{"type":"single","entry":"Chombo"},{"type":"single","entry":"Nagashi mangan"},{"type":"single","entry":"Pantheon: log in","translation":"Pantheon: Mobile App"},{"type":"single","entry":"Email"},{"type":"single","entry":"Password","translation":"Passwort"},{"type":"single","entry":"Sign up","translation":"Registrieren"},{"type":"single","entry":"Log in","translation":"Anmelden"},{"type":"single","entry":"register","context":"Name of registration link"},{"type":"single","entry":"Pantheon"},{"type":"single","entry":"Login attempt has failed. Possible reasons are:","translation":"Anmeldeversuch fehlgeschlagen. M\xf6gliche Ursachen:"},{"type":"single","entry":"E-mail is not registered in Pantheon database (%1)","translation":"E-mail ist nicht registriert (%1)"},{"type":"single","entry":"Password check has failed","translation":"Passwort falsch"},{"type":"single","entry":"Unexpected server error","translation":"Unerwarteter Fehler"},{"type":"single","entry":"If in doubt, contact the tournament administrator for further instructions.","translation":"Bei Fragen kontaktiere bitte den Turnierleiter"},{"type":"single","entry":"OK"},{"type":"single","entry":"Han from yaku","translation":"Han von Baku"},{"type":"single","entry":"Dora"},{"type":"single","entry":"Ura dora"},{"type":"single","entry":"Red fives","translation":"Rote F\xfcnfen"},{"type":"single","entry":"Fu"},{"type":"single","entry":"Yakuman"},{"type":"single","entry":"Player name","translation":"Spielername"},{"type":"single","entry":"Language","translation":"Sprache"},{"type":"single","entry":"Theme","translation":"Design"},{"type":"single","entry":"Select another event","translation":"Event ausw\xe4hlen"},{"type":"single","entry":"Log out","translation":"Abmelden"},{"type":"plural","entry":["%1 deal left","%1 deals left"],"translations":["Noch %1 Hand ","Noch %1 H\xe4nde"]},{"type":"single","entry":"Table #%1","translation":"Tisch #%1"},{"type":"single","entry":"Ron"},{"type":"single","entry":"Tsumo"},{"type":"single","entry":"Penalty","translation":"Strafe"},{"type":"single","entry":"empty outcome","translation":"Leeres Ergebnis"},{"type":"single","entry":"Winner","translation":"Gewinner"},{"type":"single","entry":"Loser","translation":"Verlierer"},{"type":"single","entry":"wrong outcome for paoSelect","translation":"Falsches Ergebnis f\xfcr paoSelect"},{"type":"single","entry":"Select pao","translation":"Pao ausw\xe4hlen"},{"type":"single","entry":"Select tempai","translation":"Tenpai ausw\xe4hlen"},{"type":"single","entry":"Draw","translation":"Unentschieden"},{"type":"single","entry":"Abort","translation":"Abbruch"},{"type":"single","entry":"Nagashi"},{"type":"single","entry":"Opened hand","translation":"Offene Hand"},{"type":"single","entry":"Toitoi"},{"type":"single","entry":"Honroutou"},{"type":"single","entry":"Sanankou"},{"type":"single","entry":"Sankantsu"},{"type":"single","entry":"Suukantsu"},{"type":"single","entry":"Suuankou"},{"type":"single","entry":"Pinfu"},{"type":"single","entry":"Iipeikou"},{"type":"single","entry":"Ryanpeikou"},{"type":"single","entry":"Sanshoku"},{"type":"single","entry":"Sanshoku doukou"},{"type":"single","entry":"Ittsu"},{"type":"single","entry":"Yakuhai x1"},{"type":"single","entry":"Yakuhai"},{"type":"single","entry":"Yakuhai x2"},{"type":"single","entry":"x2"},{"type":"single","entry":"Yakuhai x3"},{"type":"single","entry":"x3"},{"type":"single","entry":"Yakuhai x4"},{"type":"single","entry":"x4"},{"type":"single","entry":"Shousangen"},{"type":"single","entry":"Daisangen"},{"type":"single","entry":"Shousuushii"},{"type":"single","entry":"Daisuushii"},{"type":"single","entry":"Tsuuiisou"},{"type":"single","entry":"Tanyao"},{"type":"single","entry":"Chanta"},{"type":"single","entry":"Junchan"},{"type":"single","entry":"Chinroutou"},{"type":"single","entry":"Honitsu"},{"type":"single","entry":"Chinitsu"},{"type":"single","entry":"Chuuren poutou"},{"type":"single","entry":"Ryuuiisou"},{"type":"single","entry":"Chiitoitsu"},{"type":"single","entry":"Kokushi musou"},{"type":"single","entry":"Riichi"},{"type":"single","entry":"Daburu riichi"},{"type":"single","entry":"Daburu"},{"type":"single","entry":"Ippatsu"},{"type":"single","entry":"Menzentsumo"},{"type":"single","entry":"Haitei"},{"type":"single","entry":"Rinshan kaihou"},{"type":"single","entry":"Rinshan"},{"type":"single","entry":"Tenhou"},{"type":"single","entry":"Chiihou"},{"type":"single","entry":"Houtei raoyui"},{"type":"single","entry":"Houtei"},{"type":"single","entry":"Chankan"},{"type":"single","entry":"Renhou"},{"type":"single","entry":"Open riichi"},{"type":"single","entry":"If you want to select a riichi, return back and press riichi button for the winner","translation":"Bei Riichi bitte einen Schritt zur\xfcck und riichi Button f\xfcr den Gewinner markieren"},{"type":"single","entry":"Games overview","translation":"Spiel\xfcbersicht"},{"type":"single","entry":"Loading...","translation":"Laden\u2026"}]}');function ct(e){return window.location.host.startsWith("ru.")?e.replace("https://","https://ru."):e}var st={production:!0,apiUrl:ct("https://g.riichi.top/"),uaUrl:ct("https://u.riichi.top/"),guiUrl:ct("https://r.riichi.top/"),idbTokenKey:"pantheon_authToken",idbIdKey:"pantheon_currentPersonId",idbEventKey:"pantheon_currentEventId",idbLangKey:"pantheon_currentLanguage",idbThemeKey:"pantheon_currentTheme",cookieDomain:".riichi.top",guiFix:function(e){return e},metrikaId:64318630,apiVersion:[1,0]},lt=["en","ru","de"],ut={ru:ot,de:it},dt=function(){function e(e){this.storage=e,this.i18nController=new at.TranslationController((function(e,t){switch(e){case"ru":case"de":t(e,JSON.stringify(ut[e]));break;default:t("en",JSON.stringify({items:[],meta:{projectIdVersion:"1",reportMsgidBugsTo:"",potCreationDate:"",poRevisionDate:"",lastTranslator:{name:"",email:""},language:"en",languageTeam:"",pluralForms:"nplurals=1; plural=(n==1 ? 0 : 1)",mimeVersion:"",contentType:"",contentTransferEncoding:"",generatedBy:""}}))}}),(function(e,t){console.error("Failed i18n substitution: ".concat(e),t)}),(function(e){return 1==e?0:1})),this.i18n=new at.TranslationProvider(this.i18nController)}return e.prototype.init=function(e,t){var n=this.storage.get(st.idbLangKey,"string");if(n){if(-1!==lt.indexOf(n))return void this.i18nController.setLocale(n,e,t);this.storage.delete([st.idbLangKey])}for(var r=0,a=window.navigator.languages;r<a.length;r++){var o=a[r];if(-1!==lt.indexOf(o))return void this.i18nController.setLocale(o,e,t)}this.i18nController.setLocale("en",e,t)},Object.defineProperty(e.prototype,"_t",{get:function(){return this.i18n._t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_pt",{get:function(){return this.i18n._pt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_nt",{get:function(){return this.i18n._nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_npt",{get:function(){return this.i18n._npt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_gg",{get:function(){return this.i18n._gg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_ngg",{get:function(){return this.i18n._ngg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_pgg",{get:function(){return this.i18n._pgg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_npgg",{get:function(){return this.i18n._npgg},enumerable:!1,configurable:!0}),e}(),pt=[{name:"day",backgroundColor:"#F4F5F7",primaryColor:"#1565C0",secondaryColor:"#B8C0D1",textColor:"#000000"},{name:"night",backgroundColor:"#282C34",primaryColor:"#1565C0",secondaryColor:"#37445C",textColor:"#E6E6E6"}],mt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mt(t,e),t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:g})},t.prototype.onLogout=function(){(0,this.props.dispatch)({type:F})},t.prototype.onSingleDeviceModeChange=function(){this.props.dispatch},t.prototype.onLangChange=function(e){var t=this.props.dispatch,n=this.context;t({type:xe,payload:e}),n.init((function(e){t({type:xe,payload:e})}),(function(e){return console.error(e)}))},t.prototype.onThemeSelect=function(e){(0,this.props.dispatch)({type:Ke,payload:e})},t.prototype.onEventSelect=function(){(0,this.props.dispatch)({type:p})},t.prototype.render=function(){var e=this.props.state,t=this.context,n=e.currentPlayerDisplayName||t._t("Player name");return a.createElement(rt,{playerName:n,supportedLanguages:lt,currentLanguage:e.settings.currentLang||"en",supportedThemes:pt,currentTheme:e.settings.currentTheme||"day",singleDeviceMode:!1,onBackClick:this.onBackClick.bind(this),onLogout:this.onLogout.bind(this),onSingleDeviceModeChange:this.onSingleDeviceModeChange.bind(this),onLangChange:this.onLangChange.bind(this),onThemeSelect:this.onThemeSelect.bind(this),onEventSelect:this.onEventSelect.bind(this)})},t.contextType=We,t}(a.PureComponent),ft=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ft(t,e),t.prototype.render=function(){var e=this.props,t=e.playerName,n=e.wind,r=e.onPlayerClick,o=this.context;return a.createElement("div",{className:"player-dropdown"},a.createElement("div",{className:"player-dropdown"},n),a.createElement("div",{className:"player-dropdown__player",onClick:r},!!t&&a.createElement("div",{className:"player-dropdown__player-name"},t),!t&&a.createElement("div",{className:"player-dropdown__placeholder"},o._t("select player"))))},t.contextType=We,t}(a.Component),Ot=a.memo((function(e){var t=a.useContext(We),n=e.east,o=e.south,i=e.west,c=e.north,s=e.canSave,l=e.onBackClick,u=e.onShuffleClick,d=e.onSaveClick,p=e.onClearClick,m=e.onPlayerClick;return a.createElement("div",{className:"page-new-game"},a.createElement(nt,{onBackClick:l}),a.createElement("div",{className:"page-new-game__inner"},a.createElement("div",{className:"page-new-game__players"},a.createElement(yt,{wind:"\u6771",playerName:n,onPlayerClick:function(){return m("\u6771")}}),a.createElement(yt,{wind:"\u5357",playerName:o,onPlayerClick:function(){return m("\u5357")}}),a.createElement(yt,{wind:"\u897f",playerName:i,onPlayerClick:function(){return m("\u897f")}}),a.createElement(yt,{wind:"\u5317",playerName:c,onPlayerClick:function(){return m("\u5317")}}),a.createElement("div",{className:"page-new-game__buttons"},a.createElement("div",{className:"flat-btn",onClick:p},a.createElement(je,{type:r.CLOSE}),a.createElement("label",null,t._t("Clear players"))),a.createElement("div",{className:"flat-btn",onClick:u},a.createElement(je,{type:r.SHUFFLE}),a.createElement("label",null,t._t("Shuffle players"))),a.createElement("div",{className:Ve()("flat-btn",{"flat-btn--disabled":!s}),onClick:d},a.createElement(je,{type:r.SAVE}),a.createElement("label",null,t._t("Start game")))))))})),gt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.onBackClick=function(){this.props.dispatch({type:g})},t.prototype.onShuffleClick=function(){this.props.dispatch({type:Te})},t.prototype.onSaveClick=function(){var e=this.props,t=e.dispatch,n=e.state;this.canSave&&n.newGameSelectedUsers&&t({type:me,payload:n.newGameSelectedUsers.map((function(e){return e.id}))})},t.prototype.onPlayerClick=function(e){this.props.dispatch({type:m,payload:e})},t.prototype.onClearClick=function(){this.props.dispatch({type:_e})},Object.defineProperty(t.prototype,"canSave",{get:function(){var e=this.props.state;return!!e.newGameSelectedUsers&&e.newGameSelectedUsers.every((function(e){return-1!==e.id}))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props.state;return!e.newGameSelectedUsers||4!==e.newGameSelectedUsers.length||e.loading.players?a.createElement(ze,null):a.createElement(Ot,{east:e.newGameSelectedUsers[0].displayName,south:e.newGameSelectedUsers[1].displayName,west:e.newGameSelectedUsers[2].displayName,north:e.newGameSelectedUsers[3].displayName,canSave:this.canSave,onBackClick:this.onBackClick.bind(this),onShuffleClick:this.onShuffleClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onClearClick:this.onClearClick.bind(this),onPlayerClick:this.onPlayerClick.bind(this)})},t}(a.PureComponent),It=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Et=function(e){function t(t){var n=e.call(this,t)||this;return n.state={foundUsers:t.users},n}return It(t,e),t.prototype.onSearchChange=function(e){var t=this.props.users.filter((function(t){return t.displayName.toLocaleLowerCase().includes(e.toLocaleLowerCase())}));this.setState({foundUsers:t})},t.prototype.render=function(){var e=this.props,t=e.onUserClick,n=e.onBackClick,r=this.state.foundUsers;return a.createElement("div",{className:"page-search-player"},a.createElement(nt,{onBackClick:n,showSearch:!0,onSearchChange:this.onSearchChange.bind(this)}),a.createElement("div",{className:"page-search-player__content"},r.map((function(e){return a.createElement("div",{key:e.id,className:"page-search-player__name",onClick:function(){return t(e)}},e.displayName)}))))},t}(a.PureComponent);function St(e,t,n){if(!Array.isArray(e))throw new Error("expected an array for the first argument");if(null!=t&&"boolean"!=typeof t)throw new Error("expected a number or boolean for the second argument");if(null!=n&&"boolean"!=typeof n)throw new Error("expected a number or boolean for the third argument");if(!t&&n&&e[0]!==Object(e[0]))return function(e){for(var t={},n=e.length,r=0;r<n;r++)t[e[r]]=!0;return Object.keys(t)}(e);for(var r,a,o,i=[],c=e.length,s=0;s<c;s++){var l=e[s];"number"==typeof l&&isNaN(l)&&(r=a,a=!0),(r=r||o&&o===l)||t||(r=i.indexOf(l)>-1),r?r=!1:(i.push(l),o=l)}return i}var Nt=Object.assign;function At(e,t){t||(t={});var n,r,a=t.vargs||function(e){var t=e+"",n=t.indexOf("...");return n>=0&&(n<t.indexOf(")")||t.indexOf("arguments")>=0)}(e),o=Object.create(null),i=[],c=[],s=new WeakMap,l=t.maxAge>0&&t.maxAge<1/0?function(e,n,r){return setTimeout((function(){if(r)return n.splice(e,1),void r.splice(e,1);n instanceof WeakMap?n.delete(e):delete n[e]}),t.maxAge)}:0,u=t.equals?t.equals:function(e,t){return e===t},d=t.maxArgs,p=t.serializer;return 1!==e.length||t.equals||a?n=function(){var t,n=d||arguments.length;for(t=i.length-1;t>=0;t--)if(d||i[t].length===n)for(var r=n-1;r>=0&&u(i[t][r],arguments[r]);r--)if(0===r)return c[t];return t=i.length-(t+1),!l||l(t,c,i),c[t]=e.apply(this,i[t]=arguments)}.bind(this):(n=function(t){var n=typeof t;if(!p&&("object"===n&&t||"function"===n)){var r=void 0;return s.get(t)||(!l||l(t,s),s.set(t,r=e.call(this,t)),r)}var a="number"===n||"boolean"===n||null==t?t:"string"===n?JSON.stringify(t):p(t);return o[a]||(!l||l(a,o),o[a]=e.call(this,t))}.bind(this),r=1),n.clear=function(){s=new WeakMap,o=Object.create(null),i=[],c=[]},n.keys=function(){return r?null:i.slice()},n.values=function(){return r?null:c.slice()},n.keyValues=function(){return r?{primitives:Nt({},o),objects:s}:null},n}var Tt=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},_t={displayName:"",id:-1,tenhouId:""};var Ut=At((function(e){var t,n=Tt([],e.allPlayers||[],!0),r=n.findIndex((function(t){return t.id==e.currentPlayerId})),a=n.splice(r,1),o=n.filter((function(t){return e.newGameSelectedUsers&&!e.newGameSelectedUsers.map((function(e){return e.id})).includes(t.id)})).sort((function(e,t){return e==t?0:e.displayName<t.displayName?-1:1}));return Tt(Tt([_t],a.length>0&&(null===(t=e.newGameSelectedUsers)||void 0===t?void 0:t.map((function(e){return e.id})).includes(a[0].id))?[]:a,!0),o,!0)}));At((function(e){if(!e.newGameSelectedUsers)return!1;var t=e.newGameSelectedUsers.map((function(e){return e.id}));return-1===t.indexOf(-1)&&(!(!e.currentPlayerId||-1==t.indexOf(e.currentPlayerId))&&4==St(t,!1,!1).length)}));var Ct=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ct(t,e),t.prototype.onUserClick=function(e){var t=this.props,n=t.dispatch,r=t.state;if(r.newGameSelectedPlayerSide){var a="";switch(r.newGameSelectedPlayerSide){case"\u6771":a=Ce;break;case"\u5357":a=we;break;case"\u897f":a=He;break;case"\u5317":a=be}n({type:a,payload:e.id})}n({type:g})},t.prototype.onBackClick=function(){this.props.dispatch({type:g})},t.prototype.componentDidMount=function(){this.props.dispatch({type:ue})},t.prototype.render=function(){var e=this.props.state,t=Ut(e)||[];return a.createElement(Et,{users:t,onUserClick:this.onUserClick.bind(this),onBackClick:this.onBackClick.bind(this)})},t}(a.Component);var Ht,bt=At((function(e,t,n,r,a,o,i){for(var c=[].concat(r),s=["\u6771","\u5357","\u897f","\u5317"],l=1;l<e;l++)s=[s.pop()].concat(s);for(var u=0;u<4+(t||0)&&c[0].id!==n;u++)c=c.slice(1).concat(c[0]),s=s.slice(1).concat(s[0]);var d=[!1,!1,!1,!1],p=(a||[]).map((function(e){return parseInt(e,10)}));c.forEach((function(e,t){d[t]=p.includes(e.id)}));var m=[!1,!1,!1,!1];c.forEach((function(e,t){m[t]=o===e.id}));var h=[!1,!1,!1,!1];return c.forEach((function(e,t){h[t]=i===e.id})),{players:c,seating:s,roundOffset:u,riichi:d,chombo:m,pao:h}}));function kt(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("expected both arguments to be arrays");for(var n=[],r=e.length,a=0;a<r;a++){var o=e[a];t.indexOf(o)>-1&&-1==n.indexOf(o)&&n.push(o)}return n}!function(e){e[e.__OPENHAND=-1]="__OPENHAND",e[e.TOITOI=1]="TOITOI",e[e.HONROTO=2]="HONROTO",e[e.SANANKOU=3]="SANANKOU",e[e.SANSHOKUDOUKOU=4]="SANSHOKUDOUKOU",e[e.SANKANTSU=5]="SANKANTSU",e[e.SUUKANTSU=6]="SUUKANTSU",e[e.SUUANKOU=7]="SUUANKOU",e[e.PINFU=8]="PINFU",e[e.IIPEIKOU=9]="IIPEIKOU",e[e.RYANPEIKOU=10]="RYANPEIKOU",e[e.SANSHOKUDOUJUN=11]="SANSHOKUDOUJUN",e[e.ITTSU=12]="ITTSU",e[e.YAKUHAI1=13]="YAKUHAI1",e[e.YAKUHAI2=14]="YAKUHAI2",e[e.YAKUHAI3=15]="YAKUHAI3",e[e.YAKUHAI4=16]="YAKUHAI4",e[e.YAKUHAI5=17]="YAKUHAI5",e[e.SHOSANGEN=18]="SHOSANGEN",e[e.DAISANGEN=19]="DAISANGEN",e[e.SHOSUUSHII=20]="SHOSUUSHII",e[e.DAISUUSHII=21]="DAISUUSHII",e[e.TSUUIISOU=22]="TSUUIISOU",e[e.TANYAO=23]="TANYAO",e[e.CHANTA=24]="CHANTA",e[e.JUNCHAN=25]="JUNCHAN",e[e.CHINROTO=26]="CHINROTO",e[e.HONITSU=27]="HONITSU",e[e.CHINITSU=28]="CHINITSU",e[e.CHUURENPOUTO=29]="CHUURENPOUTO",e[e.RYUUIISOU=30]="RYUUIISOU",e[e.CHIITOITSU=31]="CHIITOITSU",e[e.KOKUSHIMUSOU=32]="KOKUSHIMUSOU",e[e.RIICHI=33]="RIICHI",e[e.DOUBLERIICHI=34]="DOUBLERIICHI",e[e.IPPATSU=35]="IPPATSU",e[e.MENZENTSUMO=36]="MENZENTSUMO",e[e.HAITEI=37]="HAITEI",e[e.RINSHANKAIHOU=38]="RINSHANKAIHOU",e[e.TENHOU=39]="TENHOU",e[e.CHIHOU=40]="CHIHOU",e[e.HOUTEI=41]="HOUTEI",e[e.CHANKAN=42]="CHANKAN",e[e.RENHOU=43]="RENHOU",e[e.OPENRIICHI=44]="OPENRIICHI"}(Ht||(Ht={}));var Rt=[{id:Ht.__OPENHAND,yakuman:!1,name:function(e){return e._t("Opened hand")},shortName:function(e){return e._t("Opened hand")}},{id:Ht.TOITOI,yakuman:!1,name:function(e){return e._t("Toitoi")},shortName:function(e){return e._t("Toitoi")}},{id:Ht.HONROTO,yakuman:!1,name:function(e){return e._t("Honroutou")},shortName:function(e){return e._t("Honroutou")}},{id:Ht.SANANKOU,yakuman:!1,name:function(e){return e._t("Sanankou")},shortName:function(e){return e._t("Sanankou")}},{id:Ht.SANKANTSU,yakuman:!1,name:function(e){return e._t("Sankantsu")},shortName:function(e){return e._t("Sankantsu")}},{id:Ht.SUUKANTSU,yakuman:!0,name:function(e){return e._t("Suukantsu")},shortName:function(e){return e._t("Suukantsu")}},{id:Ht.SUUANKOU,yakuman:!0,name:function(e){return e._t("Suuankou")},shortName:function(e){return e._t("Suuankou")}},{id:Ht.PINFU,yakuman:!1,name:function(e){return e._t("Pinfu")},shortName:function(e){return e._t("Pinfu")}},{id:Ht.IIPEIKOU,yakuman:!1,name:function(e){return e._t("Iipeikou")},shortName:function(e){return e._t("Iipeikou")}},{id:Ht.RYANPEIKOU,yakuman:!1,name:function(e){return e._t("Ryanpeikou")},shortName:function(e){return e._t("Ryanpeikou")}},{id:Ht.SANSHOKUDOUJUN,yakuman:!1,name:function(e){return e._t("Sanshoku")},shortName:function(e){return e._t("Sanshoku")}},{id:Ht.SANSHOKUDOUKOU,yakuman:!1,name:function(e){return e._t("Sanshoku doukou")},shortName:function(e){return e._t("Sanshoku doukou")}},{id:Ht.ITTSU,yakuman:!1,name:function(e){return e._t("Ittsu")},shortName:function(e){return e._t("Ittsu")}},{id:Ht.YAKUHAI1,yakuman:!1,name:function(e){return e._t("Yakuhai x1")},shortName:function(e){return e._t("Yakuhai")}},{id:Ht.YAKUHAI2,yakuman:!1,name:function(e){return e._t("Yakuhai x2")},shortName:function(e){return e._t("x2")}},{id:Ht.YAKUHAI3,yakuman:!1,name:function(e){return e._t("Yakuhai x3")},shortName:function(e){return e._t("x3")}},{id:Ht.YAKUHAI4,yakuman:!1,name:function(e){return e._t("Yakuhai x4")},shortName:function(e){return e._t("x4")}},{id:Ht.SHOSANGEN,yakuman:!1,name:function(e){return e._t("Shousangen")},shortName:function(e){return e._t("Shousangen")}},{id:Ht.DAISANGEN,yakuman:!0,name:function(e){return e._t("Daisangen")},shortName:function(e){return e._t("Daisangen")}},{id:Ht.SHOSUUSHII,yakuman:!0,name:function(e){return e._t("Shousuushii")},shortName:function(e){return e._t("Shousuushii")}},{id:Ht.DAISUUSHII,yakuman:!0,name:function(e){return e._t("Daisuushii")},shortName:function(e){return e._t("Daisuushii")}},{id:Ht.TSUUIISOU,yakuman:!0,name:function(e){return e._t("Tsuuiisou")},shortName:function(e){return e._t("Tsuuiisou")}},{id:Ht.TANYAO,yakuman:!1,name:function(e){return e._t("Tanyao")},shortName:function(e){return e._t("Tanyao")}},{id:Ht.CHANTA,yakuman:!1,name:function(e){return e._t("Chanta")},shortName:function(e){return e._t("Chanta")}},{id:Ht.JUNCHAN,yakuman:!1,name:function(e){return e._t("Junchan")},shortName:function(e){return e._t("Junchan")}},{id:Ht.CHINROTO,yakuman:!0,name:function(e){return e._t("Chinroutou")},shortName:function(e){return e._t("Chinroutou")}},{id:Ht.HONITSU,yakuman:!1,name:function(e){return e._t("Honitsu")},shortName:function(e){return e._t("Honitsu")}},{id:Ht.CHINITSU,yakuman:!1,name:function(e){return e._t("Chinitsu")},shortName:function(e){return e._t("Chinitsu")}},{id:Ht.CHUURENPOUTO,yakuman:!0,name:function(e){return e._t("Chuuren poutou")},shortName:function(e){return e._t("Chuuren poutou")}},{id:Ht.RYUUIISOU,yakuman:!0,name:function(e){return e._t("Ryuuiisou")},shortName:function(e){return e._t("Ryuuiisou")}},{id:Ht.CHIITOITSU,yakuman:!1,name:function(e){return e._t("Chiitoitsu")},shortName:function(e){return e._t("Chiitoitsu")}},{id:Ht.KOKUSHIMUSOU,yakuman:!0,name:function(e){return e._t("Kokushi musou")},shortName:function(e){return e._t("Kokushi musou")}},{id:Ht.RIICHI,yakuman:!1,name:function(e){return e._t("Riichi")},shortName:function(e){return e._t("Riichi")}},{id:Ht.DOUBLERIICHI,yakuman:!1,name:function(e){return e._t("Daburu riichi")},shortName:function(e){return e._t("Daburu")}},{id:Ht.IPPATSU,yakuman:!1,name:function(e){return e._t("Ippatsu")},shortName:function(e){return e._t("Ippatsu")}},{id:Ht.MENZENTSUMO,yakuman:!1,name:function(e){return e._t("Menzentsumo")},shortName:function(e){return e._t("Menzentsumo")}},{id:Ht.HAITEI,yakuman:!1,name:function(e){return e._t("Haitei")},shortName:function(e){return e._t("Haitei")}},{id:Ht.RINSHANKAIHOU,yakuman:!1,name:function(e){return e._t("Rinshan kaihou")},shortName:function(e){return e._t("Rinshan")}},{id:Ht.TENHOU,yakuman:!0,name:function(e){return e._t("Tenhou")},shortName:function(e){return e._t("Tenhou")}},{id:Ht.CHIHOU,yakuman:!0,name:function(e){return e._t("Chiihou")},shortName:function(e){return e._t("Chiihou")}},{id:Ht.HOUTEI,yakuman:!1,name:function(e){return e._t("Houtei raoyui")},shortName:function(e){return e._t("Houtei")}},{id:Ht.CHANKAN,yakuman:!1,name:function(e){return e._t("Chankan")},shortName:function(e){return e._t("Chankan")}},{id:Ht.RENHOU,yakuman:!1,name:function(e){return e._t("Renhou")},shortName:function(e){return e._t("Renhou")}},{id:Ht.OPENRIICHI,yakuman:!1,name:function(e){return e._t("Open riichi")},shortName:function(e){return e._t("Open riichi")}}],Pt={};Rt.forEach((function(e){return Pt[e.id]=e}));var Lt;Ht.RIICHI,Ht.DOUBLERIICHI,Ht.OPENRIICHI,Ht.IPPATSU,Ht.MENZENTSUMO,Ht.CHIITOITSU,Ht.CHINITSU,Ht.TANYAO,Ht.PINFU,Ht.SANSHOKUDOUJUN,Ht.CHANTA,Ht.JUNCHAN,Ht.ITTSU,Ht.IIPEIKOU,Ht.RYANPEIKOU,Ht.SHOSANGEN,Ht.HONITSU,Ht.YAKUHAI1,Ht.YAKUHAI2,Ht.YAKUHAI3,Ht.YAKUHAI4,Ht.YAKUHAI5,Ht.TOITOI,Ht.SANKANTSU,Ht.SANANKOU,Ht.HONROTO,Ht.SANSHOKUDOUKOU,Ht.HAITEI,Ht.HOUTEI,Ht.CHANKAN,Ht.RINSHANKAIHOU,Ht.SUUKANTSU,Ht.SUUANKOU,Ht.DAISANGEN,Ht.SHOSUUSHII,Ht.DAISUUSHII,Ht.TSUUIISOU,Ht.CHINROTO,Ht.CHUURENPOUTO,Ht.RYUUIISOU,Ht.KOKUSHIMUSOU,Ht.TENHOU,Ht.CHIHOU,Ht.RENHOU;!function(e){e[e.Combines=1]="Combines",e[e.Suppresses=2]="Suppresses",e[e.IsSuppressed=3]="IsSuppressed"}(Lt||(Lt={}));for(var Kt=function(){function e(){this._nodes={},this._edges={}}return e.prototype._edgeId=function(e,t){return"".concat(e,"->").concat(t)},e.prototype.addNode=function(e){return this._nodes[e.id.toString()]||(this._nodes[e.id.toString()]=e),this},e.prototype.getNodeById=function(e){return this._nodes[e.toString()]||null},e.prototype.addBiEdge=function(e,t,n){return this.addEdge(e,t,n),this.addEdge(t,e,n),this},e.prototype.addEdge=function(e,t,n){return this._edges[this._edgeId(e.id.toString(),t.id.toString())]=n,this},e.prototype.edgeExists=function(e,t){return void 0!==this._edges[this._edgeId(e.id.toString(),t.id.toString())]},e.prototype._isClique=function(e){for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)if(!this.edgeExists(e[t],e[n])||!this.edgeExists(e[n],e[t]))return!1;return!0},e.prototype.tryAddAllowedNode=function(e,t){var n=[t].concat(e);if(!this._isClique(n))throw new Error("Node list is not a valid clique of this graph after addition of new node");for(var r=[],a=0;a<n.length;a++)for(var o=a+1;o<n.length;o++)switch(this._edges[this._edgeId(n[a].id.toString(),n[o].id.toString())]){case Lt.Suppresses:r.push(n[o]);break;case Lt.IsSuppressed:r.push(n[a]);case Lt.Combines:}if(0===r.length)return n;for(var i=[],c=0,s=n;c<s.length;c++){var l=s[c];-1===r.indexOf(l)&&i.push(l)}return i},e.prototype.getAllowedNodes=function(e){var t=this;if(!this._isClique(e))throw new Error("Node list is not a valid clique of this graph");for(var n=[],r={},a=0,o=e;a<o.length;a++){r[(i=o[a]).id.toString()]=i}for(var i in this._nodes)r[this._nodes[i].id.toString()]||n.push(this._nodes[i]);var c=n.filter((function(n){return t._isClique([n].concat(e))}));return c.filter((function(n){for(var r=0,a=e;r<a.length;r++){var o=a[r];if(t._edges[t._edgeId(o.id.toString(),n.id.toString())]===Lt.Suppresses)return!1}return!0}))},e}(),xt=[Ht.TOITOI,Ht.HONROTO,Ht.SANANKOU,Ht.SANSHOKUDOUKOU,Ht.SANKANTSU,Ht.PINFU,Ht.IIPEIKOU,Ht.RYANPEIKOU,Ht.SANSHOKUDOUJUN,Ht.ITTSU,Ht.YAKUHAI1,Ht.YAKUHAI2,Ht.YAKUHAI3,Ht.YAKUHAI4,Ht.SHOSANGEN,Ht.TANYAO,Ht.CHANTA,Ht.JUNCHAN,Ht.HONITSU,Ht.CHINITSU,Ht.CHIITOITSU,Ht.RIICHI,Ht.DOUBLERIICHI,Ht.IPPATSU,Ht.MENZENTSUMO,Ht.HAITEI,Ht.RINSHANKAIHOU,Ht.HOUTEI,Ht.CHANKAN,Ht.OPENRIICHI],Dt=[Ht.SUUKANTSU,Ht.SUUANKOU,Ht.DAISANGEN,Ht.SHOSUUSHII,Ht.DAISUUSHII,Ht.TSUUIISOU,Ht.CHINROTO,Ht.CHUURENPOUTO,Ht.RYUUIISOU,Ht.KOKUSHIMUSOU,Ht.TENHOU,Ht.CHIHOU,Ht.RENHOU],Mt=[[Ht.HONROTO,Ht.CHANTA],[Ht.RYANPEIKOU,Ht.IIPEIKOU],[Ht.YAKUHAI2,Ht.YAKUHAI1],[Ht.YAKUHAI3,Ht.YAKUHAI2],[Ht.YAKUHAI3,Ht.YAKUHAI1],[Ht.YAKUHAI4,Ht.YAKUHAI3],[Ht.YAKUHAI4,Ht.YAKUHAI2],[Ht.YAKUHAI4,Ht.YAKUHAI1],[Ht.JUNCHAN,Ht.CHANTA],[Ht.CHINITSU,Ht.HONITSU],[Ht.CHIITOITSU,Ht.IIPEIKOU],[Ht.RYANPEIKOU,Ht.CHIITOITSU],[Ht.DOUBLERIICHI,Ht.RIICHI],[Ht.DAISUUSHII,Ht.SHOSUUSHII],[Ht.__OPENHAND,Ht.CHIITOITSU],[Ht.__OPENHAND,Ht.CHUURENPOUTO],[Ht.__OPENHAND,Ht.DOUBLERIICHI],[Ht.__OPENHAND,Ht.IIPEIKOU],[Ht.__OPENHAND,Ht.IPPATSU],[Ht.__OPENHAND,Ht.KOKUSHIMUSOU],[Ht.__OPENHAND,Ht.OPENRIICHI],[Ht.__OPENHAND,Ht.PINFU],[Ht.__OPENHAND,Ht.RIICHI],[Ht.__OPENHAND,Ht.RYANPEIKOU],[Ht.__OPENHAND,Ht.SUUANKOU]].concat(Dt.map((function(e){return xt.map((function(t){return[e,t]}))})).reduce((function(e,t){return e.concat(t)}))),Gt=[[Ht.__OPENHAND,Ht.TOITOI],[Ht.__OPENHAND,Ht.HONROTO],[Ht.__OPENHAND,Ht.SANANKOU],[Ht.__OPENHAND,Ht.SANSHOKUDOUKOU],[Ht.__OPENHAND,Ht.SANKANTSU],[Ht.__OPENHAND,Ht.SUUKANTSU],[Ht.__OPENHAND,Ht.SANSHOKUDOUJUN],[Ht.__OPENHAND,Ht.ITTSU],[Ht.__OPENHAND,Ht.YAKUHAI1],[Ht.__OPENHAND,Ht.YAKUHAI2],[Ht.__OPENHAND,Ht.YAKUHAI3],[Ht.__OPENHAND,Ht.YAKUHAI4],[Ht.__OPENHAND,Ht.SHOSANGEN],[Ht.__OPENHAND,Ht.DAISANGEN],[Ht.__OPENHAND,Ht.SHOSUUSHII],[Ht.__OPENHAND,Ht.DAISUUSHII],[Ht.__OPENHAND,Ht.TSUUIISOU],[Ht.__OPENHAND,Ht.TANYAO],[Ht.__OPENHAND,Ht.CHANTA],[Ht.__OPENHAND,Ht.JUNCHAN],[Ht.__OPENHAND,Ht.CHINROTO],[Ht.__OPENHAND,Ht.HONITSU],[Ht.__OPENHAND,Ht.CHINITSU],[Ht.__OPENHAND,Ht.RYUUIISOU],[Ht.__OPENHAND,Ht.HAITEI],[Ht.__OPENHAND,Ht.RINSHANKAIHOU],[Ht.__OPENHAND,Ht.HOUTEI],[Ht.__OPENHAND,Ht.CHANKAN],[Ht.__OPENHAND,Ht.MENZENTSUMO],[Ht.TOITOI,Ht.HONROTO],[Ht.TOITOI,Ht.SANANKOU],[Ht.TOITOI,Ht.SANSHOKUDOUKOU],[Ht.TOITOI,Ht.SANKANTSU],[Ht.TOITOI,Ht.YAKUHAI1],[Ht.TOITOI,Ht.YAKUHAI2],[Ht.TOITOI,Ht.YAKUHAI3],[Ht.TOITOI,Ht.YAKUHAI4],[Ht.TOITOI,Ht.SHOSANGEN],[Ht.TOITOI,Ht.TANYAO],[Ht.TOITOI,Ht.HONITSU],[Ht.TOITOI,Ht.CHINITSU],[Ht.TOITOI,Ht.RIICHI],[Ht.TOITOI,Ht.DOUBLERIICHI],[Ht.TOITOI,Ht.IPPATSU],[Ht.TOITOI,Ht.HAITEI],[Ht.TOITOI,Ht.RINSHANKAIHOU],[Ht.TOITOI,Ht.HOUTEI],[Ht.TOITOI,Ht.OPENRIICHI],[Ht.HONROTO,Ht.SANANKOU],[Ht.HONROTO,Ht.SANSHOKUDOUKOU],[Ht.HONROTO,Ht.SANKANTSU],[Ht.HONROTO,Ht.YAKUHAI1],[Ht.HONROTO,Ht.YAKUHAI2],[Ht.HONROTO,Ht.YAKUHAI3],[Ht.HONROTO,Ht.YAKUHAI4],[Ht.HONROTO,Ht.SHOSANGEN],[Ht.HONROTO,Ht.HONITSU],[Ht.HONROTO,Ht.CHIITOITSU],[Ht.HONROTO,Ht.RIICHI],[Ht.HONROTO,Ht.DOUBLERIICHI],[Ht.HONROTO,Ht.MENZENTSUMO],[Ht.HONROTO,Ht.IPPATSU],[Ht.HONROTO,Ht.HAITEI],[Ht.HONROTO,Ht.RINSHANKAIHOU],[Ht.HONROTO,Ht.HOUTEI],[Ht.HONROTO,Ht.OPENRIICHI],[Ht.SANANKOU,Ht.SANSHOKUDOUKOU],[Ht.SANANKOU,Ht.SANKANTSU],[Ht.SANANKOU,Ht.YAKUHAI1],[Ht.SANANKOU,Ht.YAKUHAI2],[Ht.SANANKOU,Ht.YAKUHAI3],[Ht.SANANKOU,Ht.YAKUHAI4],[Ht.SANANKOU,Ht.SHOSANGEN],[Ht.SANANKOU,Ht.TANYAO],[Ht.SANANKOU,Ht.HONITSU],[Ht.SANANKOU,Ht.CHINITSU],[Ht.SANANKOU,Ht.RIICHI],[Ht.SANANKOU,Ht.IPPATSU],[Ht.SANANKOU,Ht.DOUBLERIICHI],[Ht.SANANKOU,Ht.MENZENTSUMO],[Ht.SANANKOU,Ht.HAITEI],[Ht.SANANKOU,Ht.RINSHANKAIHOU],[Ht.SANANKOU,Ht.HOUTEI],[Ht.SANANKOU,Ht.CHANKAN],[Ht.SANANKOU,Ht.OPENRIICHI],[Ht.SANANKOU,Ht.CHANTA],[Ht.SANANKOU,Ht.JUNCHAN],[Ht.SANSHOKUDOUKOU,Ht.SANKANTSU],[Ht.SANSHOKUDOUKOU,Ht.YAKUHAI1],[Ht.SANSHOKUDOUKOU,Ht.YAKUHAI2],[Ht.SANSHOKUDOUKOU,Ht.TANYAO],[Ht.SANSHOKUDOUKOU,Ht.CHANTA],[Ht.SANSHOKUDOUKOU,Ht.JUNCHAN],[Ht.SANSHOKUDOUKOU,Ht.RIICHI],[Ht.SANSHOKUDOUKOU,Ht.DOUBLERIICHI],[Ht.SANSHOKUDOUKOU,Ht.IPPATSU],[Ht.SANSHOKUDOUKOU,Ht.MENZENTSUMO],[Ht.SANSHOKUDOUKOU,Ht.HAITEI],[Ht.SANSHOKUDOUKOU,Ht.RINSHANKAIHOU],[Ht.SANSHOKUDOUKOU,Ht.HOUTEI],[Ht.SANSHOKUDOUKOU,Ht.CHANKAN],[Ht.SANSHOKUDOUKOU,Ht.OPENRIICHI],[Ht.SANKANTSU,Ht.YAKUHAI1],[Ht.SANKANTSU,Ht.YAKUHAI2],[Ht.SANKANTSU,Ht.YAKUHAI3],[Ht.SANKANTSU,Ht.YAKUHAI4],[Ht.SANKANTSU,Ht.SHOSANGEN],[Ht.SANKANTSU,Ht.TANYAO],[Ht.SANKANTSU,Ht.HONITSU],[Ht.SANKANTSU,Ht.CHINITSU],[Ht.SANKANTSU,Ht.RIICHI],[Ht.SANKANTSU,Ht.DOUBLERIICHI],[Ht.SANKANTSU,Ht.IPPATSU],[Ht.SANKANTSU,Ht.MENZENTSUMO],[Ht.SANKANTSU,Ht.HAITEI],[Ht.SANKANTSU,Ht.RINSHANKAIHOU],[Ht.SANKANTSU,Ht.HOUTEI],[Ht.SANKANTSU,Ht.CHANKAN],[Ht.SANKANTSU,Ht.CHANTA],[Ht.SANKANTSU,Ht.JUNCHAN],[Ht.SANKANTSU,Ht.OPENRIICHI],[Ht.PINFU,Ht.IIPEIKOU],[Ht.PINFU,Ht.RYANPEIKOU],[Ht.PINFU,Ht.SANSHOKUDOUJUN],[Ht.PINFU,Ht.ITTSU],[Ht.PINFU,Ht.TANYAO],[Ht.PINFU,Ht.CHANTA],[Ht.PINFU,Ht.JUNCHAN],[Ht.PINFU,Ht.HONITSU],[Ht.PINFU,Ht.CHINITSU],[Ht.PINFU,Ht.RIICHI],[Ht.PINFU,Ht.DOUBLERIICHI],[Ht.PINFU,Ht.IPPATSU],[Ht.PINFU,Ht.MENZENTSUMO],[Ht.PINFU,Ht.HAITEI],[Ht.PINFU,Ht.HOUTEI],[Ht.PINFU,Ht.CHANKAN],[Ht.PINFU,Ht.OPENRIICHI],[Ht.IIPEIKOU,Ht.SANSHOKUDOUJUN],[Ht.IIPEIKOU,Ht.ITTSU],[Ht.IIPEIKOU,Ht.YAKUHAI1],[Ht.IIPEIKOU,Ht.YAKUHAI2],[Ht.IIPEIKOU,Ht.TANYAO],[Ht.IIPEIKOU,Ht.CHANTA],[Ht.IIPEIKOU,Ht.JUNCHAN],[Ht.IIPEIKOU,Ht.HONITSU],[Ht.IIPEIKOU,Ht.CHINITSU],[Ht.IIPEIKOU,Ht.RIICHI],[Ht.IIPEIKOU,Ht.DOUBLERIICHI],[Ht.IIPEIKOU,Ht.IPPATSU],[Ht.IIPEIKOU,Ht.MENZENTSUMO],[Ht.IIPEIKOU,Ht.HAITEI],[Ht.IIPEIKOU,Ht.RINSHANKAIHOU],[Ht.IIPEIKOU,Ht.HOUTEI],[Ht.IIPEIKOU,Ht.CHANKAN],[Ht.IIPEIKOU,Ht.OPENRIICHI],[Ht.IIPEIKOU,Ht.SHOSANGEN],[Ht.RYANPEIKOU,Ht.TANYAO],[Ht.RYANPEIKOU,Ht.CHANTA],[Ht.RYANPEIKOU,Ht.JUNCHAN],[Ht.RYANPEIKOU,Ht.HONITSU],[Ht.RYANPEIKOU,Ht.CHINITSU],[Ht.RYANPEIKOU,Ht.RIICHI],[Ht.RYANPEIKOU,Ht.DOUBLERIICHI],[Ht.RYANPEIKOU,Ht.IPPATSU],[Ht.RYANPEIKOU,Ht.MENZENTSUMO],[Ht.RYANPEIKOU,Ht.HAITEI],[Ht.RYANPEIKOU,Ht.HOUTEI],[Ht.RYANPEIKOU,Ht.OPENRIICHI],[Ht.SANSHOKUDOUJUN,Ht.YAKUHAI1],[Ht.SANSHOKUDOUJUN,Ht.YAKUHAI2],[Ht.SANSHOKUDOUJUN,Ht.TANYAO],[Ht.SANSHOKUDOUJUN,Ht.CHANTA],[Ht.SANSHOKUDOUJUN,Ht.JUNCHAN],[Ht.SANSHOKUDOUJUN,Ht.RIICHI],[Ht.SANSHOKUDOUJUN,Ht.DOUBLERIICHI],[Ht.SANSHOKUDOUJUN,Ht.IPPATSU],[Ht.SANSHOKUDOUJUN,Ht.MENZENTSUMO],[Ht.SANSHOKUDOUJUN,Ht.HAITEI],[Ht.SANSHOKUDOUJUN,Ht.RINSHANKAIHOU],[Ht.SANSHOKUDOUJUN,Ht.HOUTEI],[Ht.SANSHOKUDOUJUN,Ht.CHANKAN],[Ht.SANSHOKUDOUJUN,Ht.OPENRIICHI],[Ht.ITTSU,Ht.YAKUHAI1],[Ht.ITTSU,Ht.YAKUHAI2],[Ht.ITTSU,Ht.HONITSU],[Ht.ITTSU,Ht.CHINITSU],[Ht.ITTSU,Ht.RIICHI],[Ht.ITTSU,Ht.DOUBLERIICHI],[Ht.ITTSU,Ht.IPPATSU],[Ht.ITTSU,Ht.MENZENTSUMO],[Ht.ITTSU,Ht.HAITEI],[Ht.ITTSU,Ht.RINSHANKAIHOU],[Ht.ITTSU,Ht.HOUTEI],[Ht.ITTSU,Ht.CHANKAN],[Ht.ITTSU,Ht.OPENRIICHI],[Ht.YAKUHAI1,Ht.CHANTA],[Ht.YAKUHAI1,Ht.HONITSU],[Ht.YAKUHAI1,Ht.RIICHI],[Ht.YAKUHAI1,Ht.DOUBLERIICHI],[Ht.YAKUHAI1,Ht.IPPATSU],[Ht.YAKUHAI1,Ht.MENZENTSUMO],[Ht.YAKUHAI1,Ht.HAITEI],[Ht.YAKUHAI1,Ht.RINSHANKAIHOU],[Ht.YAKUHAI1,Ht.HOUTEI],[Ht.YAKUHAI1,Ht.CHANKAN],[Ht.YAKUHAI1,Ht.OPENRIICHI],[Ht.YAKUHAI2,Ht.SHOSANGEN],[Ht.YAKUHAI2,Ht.CHANTA],[Ht.YAKUHAI2,Ht.HONITSU],[Ht.YAKUHAI2,Ht.RIICHI],[Ht.YAKUHAI2,Ht.DOUBLERIICHI],[Ht.YAKUHAI2,Ht.IPPATSU],[Ht.YAKUHAI2,Ht.MENZENTSUMO],[Ht.YAKUHAI2,Ht.HAITEI],[Ht.YAKUHAI2,Ht.RINSHANKAIHOU],[Ht.YAKUHAI2,Ht.HOUTEI],[Ht.YAKUHAI2,Ht.CHANKAN],[Ht.YAKUHAI2,Ht.OPENRIICHI],[Ht.YAKUHAI3,Ht.SHOSANGEN],[Ht.YAKUHAI3,Ht.CHANTA],[Ht.YAKUHAI3,Ht.HONITSU],[Ht.YAKUHAI3,Ht.RIICHI],[Ht.YAKUHAI3,Ht.DOUBLERIICHI],[Ht.YAKUHAI3,Ht.IPPATSU],[Ht.YAKUHAI3,Ht.MENZENTSUMO],[Ht.YAKUHAI3,Ht.HAITEI],[Ht.YAKUHAI3,Ht.RINSHANKAIHOU],[Ht.YAKUHAI3,Ht.HOUTEI],[Ht.YAKUHAI3,Ht.CHANKAN],[Ht.YAKUHAI3,Ht.OPENRIICHI],[Ht.YAKUHAI4,Ht.SHOSANGEN],[Ht.YAKUHAI4,Ht.CHANTA],[Ht.YAKUHAI4,Ht.HONITSU],[Ht.YAKUHAI4,Ht.RIICHI],[Ht.YAKUHAI4,Ht.DOUBLERIICHI],[Ht.YAKUHAI4,Ht.IPPATSU],[Ht.YAKUHAI4,Ht.MENZENTSUMO],[Ht.YAKUHAI4,Ht.HAITEI],[Ht.YAKUHAI4,Ht.RINSHANKAIHOU],[Ht.YAKUHAI4,Ht.HOUTEI],[Ht.YAKUHAI4,Ht.CHANKAN],[Ht.YAKUHAI4,Ht.OPENRIICHI],[Ht.SHOSANGEN,Ht.CHANTA],[Ht.SHOSANGEN,Ht.HONITSU],[Ht.SHOSANGEN,Ht.RIICHI],[Ht.SHOSANGEN,Ht.DOUBLERIICHI],[Ht.SHOSANGEN,Ht.IPPATSU],[Ht.SHOSANGEN,Ht.MENZENTSUMO],[Ht.SHOSANGEN,Ht.HAITEI],[Ht.SHOSANGEN,Ht.RINSHANKAIHOU],[Ht.SHOSANGEN,Ht.HOUTEI],[Ht.SHOSANGEN,Ht.CHANKAN],[Ht.SHOSANGEN,Ht.OPENRIICHI],[Ht.TANYAO,Ht.CHINITSU],[Ht.TANYAO,Ht.CHIITOITSU],[Ht.TANYAO,Ht.RIICHI],[Ht.TANYAO,Ht.DOUBLERIICHI],[Ht.TANYAO,Ht.IPPATSU],[Ht.TANYAO,Ht.MENZENTSUMO],[Ht.TANYAO,Ht.HAITEI],[Ht.TANYAO,Ht.RINSHANKAIHOU],[Ht.TANYAO,Ht.HOUTEI],[Ht.TANYAO,Ht.CHANKAN],[Ht.TANYAO,Ht.OPENRIICHI],[Ht.CHANTA,Ht.HONITSU],[Ht.CHANTA,Ht.RIICHI],[Ht.CHANTA,Ht.DOUBLERIICHI],[Ht.CHANTA,Ht.IPPATSU],[Ht.CHANTA,Ht.MENZENTSUMO],[Ht.CHANTA,Ht.HAITEI],[Ht.CHANTA,Ht.RINSHANKAIHOU],[Ht.CHANTA,Ht.HOUTEI],[Ht.CHANTA,Ht.CHANKAN],[Ht.CHANTA,Ht.OPENRIICHI],[Ht.JUNCHAN,Ht.CHINITSU],[Ht.JUNCHAN,Ht.RIICHI],[Ht.JUNCHAN,Ht.DOUBLERIICHI],[Ht.JUNCHAN,Ht.IPPATSU],[Ht.JUNCHAN,Ht.MENZENTSUMO],[Ht.JUNCHAN,Ht.HAITEI],[Ht.JUNCHAN,Ht.RINSHANKAIHOU],[Ht.JUNCHAN,Ht.HOUTEI],[Ht.JUNCHAN,Ht.CHANKAN],[Ht.JUNCHAN,Ht.OPENRIICHI],[Ht.HONITSU,Ht.CHIITOITSU],[Ht.HONITSU,Ht.RIICHI],[Ht.HONITSU,Ht.DOUBLERIICHI],[Ht.HONITSU,Ht.IPPATSU],[Ht.HONITSU,Ht.MENZENTSUMO],[Ht.HONITSU,Ht.HAITEI],[Ht.HONITSU,Ht.RINSHANKAIHOU],[Ht.HONITSU,Ht.HOUTEI],[Ht.HONITSU,Ht.CHANKAN],[Ht.HONITSU,Ht.OPENRIICHI],[Ht.CHINITSU,Ht.CHIITOITSU],[Ht.CHINITSU,Ht.RIICHI],[Ht.CHINITSU,Ht.DOUBLERIICHI],[Ht.CHINITSU,Ht.IPPATSU],[Ht.CHINITSU,Ht.MENZENTSUMO],[Ht.CHINITSU,Ht.HAITEI],[Ht.CHINITSU,Ht.RINSHANKAIHOU],[Ht.CHINITSU,Ht.HOUTEI],[Ht.CHINITSU,Ht.CHANKAN],[Ht.CHINITSU,Ht.OPENRIICHI],[Ht.CHIITOITSU,Ht.RIICHI],[Ht.CHIITOITSU,Ht.DOUBLERIICHI],[Ht.CHIITOITSU,Ht.IPPATSU],[Ht.CHIITOITSU,Ht.MENZENTSUMO],[Ht.CHIITOITSU,Ht.HAITEI],[Ht.CHIITOITSU,Ht.HOUTEI],[Ht.CHIITOITSU,Ht.OPENRIICHI],[Ht.RIICHI,Ht.IPPATSU],[Ht.RIICHI,Ht.MENZENTSUMO],[Ht.RIICHI,Ht.HAITEI],[Ht.RIICHI,Ht.RINSHANKAIHOU],[Ht.RIICHI,Ht.HOUTEI],[Ht.RIICHI,Ht.CHANKAN],[Ht.RIICHI,Ht.OPENRIICHI],[Ht.DOUBLERIICHI,Ht.IPPATSU],[Ht.DOUBLERIICHI,Ht.MENZENTSUMO],[Ht.DOUBLERIICHI,Ht.HAITEI],[Ht.DOUBLERIICHI,Ht.RINSHANKAIHOU],[Ht.DOUBLERIICHI,Ht.HOUTEI],[Ht.DOUBLERIICHI,Ht.CHANKAN],[Ht.DOUBLERIICHI,Ht.OPENRIICHI],[Ht.IPPATSU,Ht.MENZENTSUMO],[Ht.IPPATSU,Ht.HAITEI],[Ht.IPPATSU,Ht.CHANKAN],[Ht.IPPATSU,Ht.OPENRIICHI],[Ht.MENZENTSUMO,Ht.HAITEI],[Ht.MENZENTSUMO,Ht.RINSHANKAIHOU],[Ht.MENZENTSUMO,Ht.OPENRIICHI],[Ht.HAITEI,Ht.OPENRIICHI],[Ht.RINSHANKAIHOU,Ht.OPENRIICHI]],Bt=[[Ht.SUUKANTSU,Ht.SUUANKOU],[Ht.SUUKANTSU,Ht.DAISANGEN],[Ht.SUUKANTSU,Ht.SHOSUUSHII],[Ht.SUUKANTSU,Ht.DAISUUSHII],[Ht.SUUKANTSU,Ht.TSUUIISOU],[Ht.SUUKANTSU,Ht.CHINROTO],[Ht.SUUKANTSU,Ht.RYUUIISOU],[Ht.SUUANKOU,Ht.DAISANGEN],[Ht.SUUANKOU,Ht.SHOSUUSHII],[Ht.SUUANKOU,Ht.DAISUUSHII],[Ht.SUUANKOU,Ht.TSUUIISOU],[Ht.SUUANKOU,Ht.CHINROTO],[Ht.SUUANKOU,Ht.RYUUIISOU],[Ht.SUUANKOU,Ht.TENHOU],[Ht.SUUANKOU,Ht.CHIHOU],[Ht.DAISANGEN,Ht.TSUUIISOU],[Ht.DAISANGEN,Ht.TENHOU],[Ht.DAISANGEN,Ht.CHIHOU],[Ht.SHOSUUSHII,Ht.TSUUIISOU],[Ht.SHOSUUSHII,Ht.TENHOU],[Ht.SHOSUUSHII,Ht.CHIHOU],[Ht.DAISUUSHII,Ht.TSUUIISOU],[Ht.DAISUUSHII,Ht.TENHOU],[Ht.DAISUUSHII,Ht.CHIHOU],[Ht.TSUUIISOU,Ht.TENHOU],[Ht.TSUUIISOU,Ht.CHIHOU],[Ht.CHINROTO,Ht.TENHOU],[Ht.CHINROTO,Ht.CHIHOU],[Ht.CHUURENPOUTO,Ht.TENHOU],[Ht.CHUURENPOUTO,Ht.CHIHOU],[Ht.RYUUIISOU,Ht.TENHOU],[Ht.RYUUIISOU,Ht.CHIHOU],[Ht.KOKUSHIMUSOU,Ht.TENHOU],[Ht.KOKUSHIMUSOU,Ht.CHIHOU],[Ht.CHUURENPOUTO,Ht.TENHOU],[Ht.CHUURENPOUTO,Ht.CHIHOU]],Yt={},jt=0,Ft=Rt;jt<Ft.length;jt++){var Vt=Ft[jt];Yt[Vt.id]={id:Vt.id,data:Vt}}function Wt(e){void 0===e&&(e=!1);for(var t=new Kt,n=0,r=Rt;n<r.length;n++){var a=r[n];t.addNode(Yt[a.id])}for(var o=0,i=Gt;o<i.length;o++){var c=i[o];t.addBiEdge(Yt[c[0]],Yt[c[1]],Lt.Combines)}if(e)for(var s=0,l=Bt;s<l.length;s++){c=l[s];t.addBiEdge(Yt[c[0]],Yt[c[1]],Lt.Combines)}for(var u=0,d=Mt;u<d.length;u++){var p=d[u];t.addEdge(Yt[p[0]],Yt[p[1]],Lt.Suppresses),t.addEdge(Yt[p[1]],Yt[p[0]],Lt.IsSuppressed)}return t}function Zt(e,t){return e?e.getAllowedNodes(t.map((function(e){return Yt[e]}))).map((function(e){return e.data.id})):[]}function Jt(e){return Rt.reduce((function(t,n){return t+(-1===e.indexOf(n.id)?".":"+")}),"")}function zt(e){var t=0;return Rt.reduce((function(n,r){return"+"===e[t++]?n.concat(r.id):n}),[])}var qt=At((function(e){var t;if("ron"===(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome)){var n=[];for(var r in e.currentOutcome.wins)if(e.currentOutcome.wins.hasOwnProperty(r)){var a=e.currentOutcome.wins[r];n.push({winner:a.winner,han:a.han,fu:a.fu,dora:a.dora,paoPlayerId:a.paoPlayerId,uradora:0,kandora:0,kanuradora:0,yaku:zt(a.yaku),openHand:a.openHand})}return n}return[]}));At((function(e){if(!e.gameConfig)return!1;var t=e.currentOutcome,n=e.gameConfig;if(!t)return!1;switch(t.selectedOutcome){case"tsumo":return kt(zt(t.yaku),n.yakuWithPao).length>0;case"ron":return Object.keys(t.wins).reduce((function(e,r){return e||kt(zt(t.wins[r].yaku),n.yakuWithPao).length>0}),!1);default:throw new Error("No pao exist on this outcome")}}));var Xt=At((function(e){var t,n,r=e.currentOutcome;switch(null===r||void 0===r?void 0:r.selectedOutcome){case"tsumo":var a=r.winner&&(null===(t=e.players)||void 0===t?void 0:t.find((function(e){return e.id===r.winner})));return a?[a]:[];case"ron":var o=[],i=function(t){if(!r.wins.hasOwnProperty(t))return"continue";var a=null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===r.wins[t].winner}));a&&o.push(a)};for(var c in r.wins)i(c);return o;case"draw":case"nagashi":return r.tempai.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));default:return[]}}));var Qt=At((function(e){var t,n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"ron":case"chombo":var r=null===(t=e.players)||void 0===t?void 0:t.find((function(e){return e.id===n.loser}));return r?[r]:[];default:return[]}}));var $t=At((function(e){var t,n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":var r=n.paoPlayerId&&(null===(t=e.players)||void 0===t?void 0:t.find((function(e){return e.id===n.paoPlayerId})));return r?[r]:[];case"ron":return Object.keys(n.wins).reduce((function(t,r){var a;if(n.wins[r].paoPlayerId){var o=null===(a=e.players)||void 0===a?void 0:a.find((function(e){return e.id===n.wins[r].paoPlayerId}));o&&t.push(o)}return t}),[]);default:return[]}}));var en=At((function(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"draw":case"nagashi":return t.deadhands.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));default:return[]}}));var tn=At((function(e){var t=e.currentOutcome;return"nagashi"===(null===t||void 0===t?void 0:t.selectedOutcome)?t.nagashi.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e})):[]}));var nn=At((function(e,t){var n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return-1!==zt(n.yaku).indexOf(t);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return-1!==zt(n.wins[e.multironCurrentWinner].yaku).indexOf(t);default:return!1}}));var rn=At((function(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"ron":case"tsumo":case"draw":case"nagashi":case"abort":return t.riichiBets.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));default:return[]}}));At((function(e){var t,n,r,a,o,i;switch(null===(t=e.gameConfig)||void 0===t?void 0:t.timerPolicy){case"redZone":if((i=e.gameConfig.redZone)&&((null===(n=e.timer)||void 0===n?void 0:n.secondsRemaining)||0)<i&&!(null===(r=e.timer)||void 0===r?void 0:r.waiting))return"redZone";break;case"yellowZone":if((i=e.gameConfig.yellowZone)&&((null===(a=e.timer)||void 0===a?void 0:a.secondsRemaining)||0)<i&&!(null===(o=e.timer)||void 0===o?void 0:o.waiting))return e.yellowZoneAlreadyPlayed?"redZone":"yellowZone"}return"none"}));At((function(e,t,n,r){var a;switch(t){case"other_overview":case"confirmation":case"overview":a=e.changesOverview}if(a){var o=a.payments,i=o.direct&&o.direct[r.id+"<-"+n.id]||0,c=o.direct&&o.direct[n.id+"<-"+r.id]||0,s=o.riichi&&o.riichi[r.id+"<-"+n.id]||0,l=o.riichi&&o.riichi[n.id+"<-"+r.id]||0,u=o.honba&&o.honba[r.id+"<-"+n.id]||0,d=o.honba&&o.honba[n.id+"<-"+r.id]||0;if(i!==c||0===i)return i+s>0?{backward:!1,riichi:s>0,title:[i,u].filter((function(e){return!!e})).join(" + ")}:c+l>0?{backward:!0,riichi:l>0,title:[c,d].filter((function(e){return!!e})).join(" + ")}:void 0}}));var an,on,cn,sn,ln=function(e,t){if(e.currentPlayerId)switch(t){case"overview":if(!e.players)return;return{round:e.currentRound,currentPlayerId:e.currentPlayerId,players:e.players,riichiBets:[],penaltyFor:void 0,paoPlayer:void 0};case"confirmation":if(!e.currentOutcome||!e.players)return;var n=$t(e)[0];return{round:e.currentRound,currentPlayerId:e.currentPlayerId,players:e.players,riichiBets:rn(e).map((function(e){return e.id.toString()})),penaltyFor:"chombo"===e.currentOutcome.selectedOutcome?e.currentOutcome.loser:void 0,paoPlayer:n&&n.id};case"other_overview":if(!e.currentOtherTable)return;return{round:e.currentOtherTable.currentRound,currentPlayerId:e.currentOtherTablePlayers[(e.overviewViewShift||0)%4].id,players:e.currentOtherTablePlayers,riichiBets:[],penaltyFor:void 0,paoPlayer:void 0}}},un=function(e,t){var n=ln(e,t);if(!n)throw new Error("No round overview found");return bt(n.round,e.overviewViewShift||0,n.currentPlayerId,n.players,n.riichiBets,n.penaltyFor,n.paoPlayer)},dn=function(e,t){return un(e,t).players[0]},pn=function(e,t){return un(e,t).players[1]},mn=function(e,t){return un(e,t).players[2]},hn=function(e,t){return un(e,t).players[3]};function fn(e,t){var n=e.currentOutcome;if(!n)return[];var r=yn(e);switch(n.selectedOutcome){case"tsumo":if(n.winner&&-1!==n.riichiBets.indexOf(n.winner))return[Ht.RIICHI,Ht.MENZENTSUMO].filter((function(e){return!r.includes(e)}));break;case"ron":var a=t||e.multironCurrentWinner;if(!a)throw new Error("No winner selected");if(-1!==n.riichiBets.indexOf(a))return[Ht.RIICHI].filter((function(e){return!r.includes(e)}));break;default:return[]}return[]}function yn(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"tsumo":return zt(t.yaku);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return zt(t.wins[e.multironCurrentWinner].yaku);default:return[]}}function On(e,t,n,r,a){var o=e.currentOutcome;return t&&o?r.filter((function(e){return(e!==Ht.IPPATSU||"ron"!==(null===o||void 0===o?void 0:o.selectedOutcome)&&"tsumo"!==(null===o||void 0===o?void 0:o.selectedOutcome)||-1!==n.indexOf(Ht.RIICHI)||-1!==n.indexOf(Ht.DOUBLERIICHI))&&((e!==Ht.__OPENHAND||"ron"!==(null===o||void 0===o?void 0:o.selectedOutcome)&&"tsumo"!==(null===o||void 0===o?void 0:o.selectedOutcome)||-1===o.riichiBets.indexOf(t))&&((e!==Ht.RENHOU||"ron"!==(null===o||void 0===o?void 0:o.selectedOutcome)||!o.wins[t].winnerIsDealer)&&(!!(e!==Ht.TENHOU||"tsumo"===(null===o||void 0===o?void 0:o.selectedOutcome)&&o.winnerIsDealer)&&((e!==Ht.CHIHOU||"tsumo"===(null===o||void 0===o?void 0:o.selectedOutcome)&&!o.winnerIsDealer)&&-1===a.indexOf(e)))))})):[]}function gn(e){for(var t=0,n=zt(e.yaku);t<n.length;t++){var r=n[t];if(-1!==Dt.indexOf(r))return!0}return!1}!function(e){e[e.IDLE=0]="IDLE",e[e.POSITIVE=1]="POSITIVE",e[e.NEGATIVE=2]="NEGATIVE",e[e.ACTIVE=3]="ACTIVE"}(an||(an={})),function(e){e[e.IDLE=0]="IDLE",e[e.DISABLE=1]="DISABLE",e[e.PRESSED=2]="PRESSED"}(on||(on={})),function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"}(cn||(cn={})),function(e){e[e.GAME=0]="GAME",e[e.BEFORE_START=1]="BEFORE_START",e[e.SELECT_PLAYERS=2]="SELECT_PLAYERS",e[e.RESULT=3]="RESULT",e[e.OTHER_PLAYER_TABLE=4]="OTHER_PLAYER_TABLE"}(sn||(sn={}));var vn=At((function(e,t){var n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return n.han;case"ron":var r=t||e.multironCurrentWinner;return r?n.wins[r].han:0;default:return 0}}));var In=At((function(e,t){var n,r=e.currentOutcome;switch(null===r||void 0===r?void 0:r.selectedOutcome){case"tsumo":return n=r.fu,r.han+r.dora>=5&&(n=0),n;case"ron":var a=t||e.multironCurrentWinner;return a?(n=r.wins[a].fu,r.wins[a].han+r.wins[a].dora>=5&&(n=0),n):0;default:return 0}}));var En=At((function(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"tsumo":return t.possibleFu;case"ron":return e.multironCurrentWinner?t.wins[e.multironCurrentWinner].possibleFu:[];default:return[]}}));var Sn,Nn=At((function(e,t){var n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return n.dora;case"ron":var r=t||e.multironCurrentWinner;return r?n.wins[r].dora:0;default:return 0}}));function An(e){var t;return function(e){var t=e.currentOutcome;if(!t)return!1;switch(t.selectedOutcome){case"tsumo":return gn(t);case"ron":return!!e.multironCurrentWinner&&gn(t.wins[e.multironCurrentWinner]);default:throw new Error("No yaku may exist on this outcome")}}(e)?[0]:"jpmlA"===(null===(t=e.gameConfig)||void 0===t?void 0:t.rulesetTitle)?[0,1,2,3,4]:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}function Tn(e){var t=parseInt(e.toString(),10);return t>12?"\u5317"+(t-12):t>8?"\u897f"+(t-8):t>4?"\u5357"+(t-4):"\u6771"+t}function _n(e,t){return kt(zt(e),t.yakuWithPao).length>0}function Un(e,t){if(!e)return!1;switch(e.selectedOutcome){case"tsumo":return _n(e.yaku,t);case"ron":return Object.keys(e.wins).reduce((function(n,r){return n||_n(e.wins[r].yaku,t)}),!1);default:throw new Error("No pao exist on this outcome")}}!function(e){e[e.TOP=0]="TOP",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"}(Sn||(Sn={}));function Cn(e){return wn(e,void 0)}function wn(e,t){var n,r=e.gameConfig;if(r&&"paoSelect"===e.currentScreen&&"ron"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome)){var a=e.currentOutcome.wins,o=Object.keys(a);if(1!==o.length){var i=-1,c=-1,s=0;if(t)for(;s<o.length&&-1===i;s++){(l=parseInt(o[s].toString(),10))===t&&(i=s)}for(;s<o.length&&-1===c;s++){var l=parseInt(o[s].toString(),10);_n(a[o[s]].yaku,r)&&(c=l)}return-1!==c?c:void 0}}}var Hn=At((function(e){var t,n,r,a;if((null===(t=e.gameConfig)||void 0===t?void 0:t.useTimer)&&!(null===(n=e.timer)||void 0===n?void 0:n.waiting)){var o=Math.floor(((null===(r=e.timer)||void 0===r?void 0:r.secondsRemaining)||0)/60)-15;return o<0?{minutes:0,seconds:0}:{minutes:o,seconds:((null===(a=e.timer)||void 0===a?void 0:a.secondsRemaining)||0)%60}}})),bn=At((function(e){var t,n,r,a;if((null===(t=e.gameConfig)||void 0===t?void 0:t.useTimer)&&(null===(n=e.timer)||void 0===n?void 0:n.waiting)){var o=Math.floor(((null===(r=e.timer)||void 0===r?void 0:r.autostartSecondsRemaining)||0)/60);return o<0?{minutes:0,seconds:0}:{minutes:o,seconds:((null===(a=e.timer)||void 0===a?void 0:a.autostartSecondsRemaining)||0)%60}}}));function kn(e,t){return e.toString()+":"+(t<10?"0"+t.toString():t.toString())}function Rn(e,t,n){var r=xn(t);return Dn(e,mn(t,r),un(t,r).seating[2],t,n)}function Pn(e,t,n){var r=xn(t);return Dn(e,hn(t,r),un(t,r).seating[3],t,n)}function Ln(e,t,n){var r=xn(t);return Dn(e,pn(t,r),un(t,r).seating[1],t,n)}function Kn(e,t,n){var r=xn(t);return Dn(e,dn(t,r),un(t,r).seating[0],t,n)}function xn(e){switch(e.currentScreen){case"confirmation":return"confirmation";case"otherTable":return"other_overview";default:return"overview"}}function Dn(e,t,n,r,a){var o,i,c,s=an.IDLE,l=t.score,u=t.penalties,d=!0,p=void 0,m=void 0,h=void 0,f=!1,y=!1,O=r.currentOutcome;switch(r.currentScreen){case"currentGame":case"otherTable":if((null===(o=r.timer)||void 0===o?void 0:o.waiting)&&(d=!1,l=void 0,u=void 0),r.overviewDiffBy){var g=null===(i="currentGame"===r.currentScreen?r.players:r.currentOtherTablePlayers)||void 0===i?void 0:i.find((function(e){return e.id===r.overviewDiffBy}));g&&((l=t.score-g.score)>0&&(l="+".concat(l)),s=l>0?an.POSITIVE:l<0?an.NEGATIVE:an.ACTIVE,u=void 0)}break;case"confirmation":var v=function(e,t,n){var r=Bn(n);if(0===r.length&&n.changesOverview&&"chombo"===n.changesOverview.outcome&&n.changesOverview.penaltyFor){var a=n.changesOverview.penaltyFor;if(t.id===a)return e._t("Penalty")}var o=0;return r.forEach((function(e){if((e.from===t.id||e.to===t.id)&&e.from!==e.to){var n=e.directAmount+e.riichiAmount+e.honbaAmount,r=e.from===t.id?-1:1;o+=n*r}})),o}(e,t,r);l=0!==v?v:void 0,"number"===typeof v?v>0?(s=an.POSITIVE,l="+".concat(l)):v<0&&(s=an.NEGATIVE):s=an.NEGATIVE;var I=null===(c=r.changesOverview)||void 0===c?void 0:c.payments.riichi,E=t.id,S="".concat(E,"<-").concat(E);I&&-1!==Object.keys(I).indexOf(S)&&(y=!0);break;case"playersSelect":l=void 0,u=void 0;var N=null===O||void 0===O?void 0:O.selectedOutcome;if(!N)throw new Error("empty outcome");var A=["ron","tsumo","draw","nagashi"].includes(N),T=["ron","chombo"].includes(N),_=["ron","tsumo","draw","abort","nagashi"].includes(N);if(f=["draw","nagashi"].includes(N)&&function(e,t){return-1!==en(e).indexOf(t)}(r,t),A&&!f){var U=void 0;U=function(e,t){return-1!==Xt(e).indexOf(t)}(r,t)?on.PRESSED:function(e,t){var n;return!!e.currentOutcome&&(-1!==["draw","nagashi"].indexOf(e.currentOutcome.selectedOutcome)?-1!==en(e).indexOf(t):("ron"!==e.currentOutcome.selectedOutcome||(null===(n=e.gameConfig)||void 0===n?void 0:n.withAtamahane))&&Xt(e).length>0&&-1===Xt(e).indexOf(t)||-1!==Qt(e).indexOf(t))}(r,t)?on.DISABLE:on.IDLE,p={mode:U,onClick:Yn(a,t.id)}}if(T){var C=void 0;C=function(e,t){return-1!==Qt(e).indexOf(t)}(r,t)?on.PRESSED:function(e,t){return Qt(e).length>0&&-1===Qt(e).indexOf(t)||-1!==Xt(e).indexOf(t)}(r,t)?on.DISABLE:on.IDLE,m={mode:C,onClick:Wn(a,t.id)}}if(_){var w=void 0;w=function(e,t){return-1!==rn(e).indexOf(t)}(r,t)?on.PRESSED:on.IDLE,h={mode:w,onClick:Zn(a,t.id)}}break;case"nagashiSelect":l=void 0,u=void 0;var H=void 0;H=function(e,t){return-1!==tn(e).indexOf(t)}(r,t)?on.PRESSED:function(e,t){return tn(e).length>=3&&-1===tn(e).indexOf(t)}(r,t)?on.DISABLE:on.IDLE,p={mode:H,onClick:jn(a,t.id)};break;case"paoSelect":if(l=void 0,u=void 0,!O)throw new Error(e._t("empty outcome"));var b=void 0,k=!1;switch(O.selectedOutcome){case"ron":r.multironCurrentWinner===t.id?(l=e._t("Winner"),s=an.POSITIVE):O.loser===t.id?(l=e._t("Loser"),s=an.NEGATIVE):k=!0;break;case"tsumo":O.winner!==t.id?k=!0:(l=e._t("Winner"),s=an.POSITIVE);break;default:throw new Error(e._t("wrong outcome for paoSelect"))}k&&(b=function(e,t){var n,r=e.multironCurrentWinner;return!(!r||"ron"!==(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome))&&e.currentOutcome.wins[r].paoPlayerId===t.id}(r,t)?on.PRESSED:on.IDLE,m={mode:b,onClick:Fn(a,t.id)})}return{name:t.displayName,wind:n,points:l,penaltyPoints:u,pointsMode:s,rotated:!1,inlineWind:d,winButton:p,loseButton:m,riichiButton:h,showDeadButton:f,onDeadButtonClick:Vn(a,t.id),showInlineRiichi:y,onPlayerClick:er(r,a,t.id)}}function Mn(e,t){switch(t){case"ron":return e._t("Ron");case"tsumo":return e._t("Tsumo");case"draw":return e._t("Draw");case"abort":return e._t("Abort");case"chombo":return e._t("Chombo");case"nagashi":return e._t("Nagashi")}}function Gn(e,t,n){var r=function(e){var t;if(null===(t=e.timer)||void 0===t?void 0:t.waiting)return sn.BEFORE_START;switch(e.currentScreen){case"currentGame":return sn.GAME;case"confirmation":return sn.RESULT;case"otherTable":return sn.OTHER_PLAYER_TABLE;default:return sn.SELECT_PLAYERS}}(t),a=function(e,t,n){if(void 0!==t){switch(t){case"ron":case"tsumo":if("paoSelect"===n)return e._t("Select pao");break;case"nagashi":if("playersSelect"===n)return e._t("Select tempai")}return Mn(e,t)}}(e,t.currentOutcome&&t.currentOutcome.selectedOutcome,t.currentScreen),o=[sn.OTHER_PLAYER_TABLE,sn.SELECT_PLAYERS,sn.RESULT].includes(r),i=r===sn.SELECT_PLAYERS,c=!function(e){return function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":return 1===Xt(e).length;case"draw":case"abort":case"nagashi":return!0;case"ron":return Xt(e).length>=1&&1===Qt(e).length;case"chombo":return 1===Qt(e).length}}(e)}(t),s=r===sn.RESULT;return{text:a,showBack:o,showNext:i,isNextDisabled:c,showHome:[sn.GAME,sn.BEFORE_START].includes(r),showRefresh:[sn.GAME,sn.BEFORE_START,sn.OTHER_PLAYER_TABLE].includes(r),showAdd:r===sn.GAME,showLog:[sn.GAME,sn.OTHER_PLAYER_TABLE].includes(r),showSave:s,isSaveDisabled:!1,onNextClick:function(){var e;if("paoSelect"===t.currentScreen&&"ron"===(null===(e=t.currentOutcome)||void 0===e?void 0:e.selectedOutcome)){var r=wn(t,t.multironCurrentWinner);if(void 0!==r)return function(){return n({type:Ae,payload:{winner:r}})}}return function(e){return function(){e({type:O})}}(n)}(),onBackClick:Qn(n),onSaveClick:$n(t,n),onLogClick:Jn(n),onAddClick:zn(t,n),onHomeClick:qn(n),onRefreshClick:Xn(t,n)}}function Bn(e){var t=e.changesOverview;if("confirmation"!==e.currentScreen||void 0===t||e.loading.overview)return[];var n=t.payments,r=[];return Object.keys(n.direct||[]).forEach((function(e){var t=e.split("<-");if(2===t.length){var a=parseInt(t[1],10),o=parseInt(t[0],10),i=n.direct[e],c="".concat(a).concat("<-").concat(o);if(i!==n.direct[c]){var s={from:a,to:o,directAmount:i,riichiAmount:0,honbaAmount:0};r.push(s)}}})),Object.keys(n.riichi||[]).forEach((function(e){var t=e.split("<-"),a=n.riichi[e];if(2===t.length&&0!==a){var o=t[1]?parseInt(t[1],10):void 0,i=t[0]?parseInt(t[0],10):void 0,c=r.find((function(e){return e.to===i&&e.from===o}));if(c)c.riichiAmount=a;else{var s={from:o,to:i,directAmount:0,riichiAmount:a,honbaAmount:0};r.push(s)}}})),Object.keys(n.honba||[]).forEach((function(e){var t=e.split("<-"),a=n.honba[e];if(2===t.length&&0!==a){var o=parseInt(t[1],10),i=parseInt(t[0],10),c=r.find((function(e){return e.to===i&&e.from===o}));c&&(c.honbaAmount=a)}})),r}function Yn(e,t){return function(){return e({type:T,payload:t})}}function jn(e,t){return function(){return e({type:w,payload:t})}}function Fn(e,t){return function(){return e({type:U,payload:t})}}function Vn(e,t){return function(){return e({type:C,payload:t})}}function Wn(e,t){return function(){return e({type:_,payload:t})}}function Zn(e,t){return function(){return e({type:A,payload:t})}}function Jn(e){return function(){return e({type:f})}}function zn(e,t){return function(){"currentGame"===e.currentScreen?t({type:O}):"outcomeSelect"===e.currentScreen&&t({type:g})}}function qn(e){return function(){return e({type:g})}}function Xn(e,t){return function(){"otherTable"===e.currentScreen?t({type:q}):t({type:L})}}function Qn(e){return function(){return e({type:g})}}function $n(e,t){return function(){return t({type:ye,payload:e})}}function er(e,t,n){var r;if(["currentGame","otherTable"].includes(e.currentScreen)&&!(null===(r=e.timer)||void 0===r?void 0:r.waiting))return function(){t({type:ke,payload:n})}}function tr(e,t){if("currentGame"===e.currentScreen||"confirmation"===e.currentScreen){if("currentGame"===e.currentScreen)if(!e.tableIndex)return;return function(){t({type:Re})}}}var nr,rr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),t.prototype.renderName=function(){var e=this.props,t=e.name,n=e.wind,r=e.nameWidth,o=e.inlineWind;return a.createElement("div",{className:"player__name-container"},a.createElement("div",{className:"player__name",style:{width:r}},o&&a.createElement("span",{className:"player__inline-wind"},n),t))},t.prototype.onRiichiClick=function(){var e=this.props.riichiButton;e&&e.mode!==on.DISABLE&&e.onClick()},t.prototype.renderRiichiButton=function(){var e=this.props,t=e.verticalButtons,n=e.riichiButton;return void 0!==n?a.createElement("div",{onClick:this.onRiichiClick.bind(this),className:Ve()("player__riichi-button",{"player__riichi-button--rotated":t},{"player__riichi-button--empty":n.mode===on.IDLE})},a.createElement(je,{type:r.RIICHI_BIG})):null},t.prototype.onWinClick=function(){var e=this.props.winButton;e&&e.mode!==on.DISABLE&&e.onClick()},t.prototype.onLoseClick=function(){var e=this.props.loseButton;e&&e.mode!==on.DISABLE&&e.onClick()},t.prototype.renderButtons=function(){var e=this.props,t=e.startWithName,n=e.verticalButtons,o=e.winButton,i=e.loseButton,c=e.showDeadButton,s=e.onDeadButtonClick,l=void 0!==o,u=void 0!==i,d=l&&!u||u&&!l;return a.createElement(a.Fragment,null,!t&&this.renderRiichiButton(),(l||u||c)&&a.createElement("div",{className:Ve()("player__button-container",{"player__button-container--horizontal":!n})},l&&o&&a.createElement("div",{onClick:this.onWinClick.bind(this),className:Ve()("player__button flat-btn",{"flat-btn--small":!d},{"flat-btn--v-large":d&&n},{"flat-btn--large":d&&!n},{"flat-btn--disabled":o.mode===on.DISABLE},{"flat-btn--success":o.mode===on.PRESSED})},a.createElement(je,{type:r.WIN})),u&&i&&a.createElement("div",{onClick:this.onLoseClick.bind(this),className:Ve()("player__button flat-btn",{"flat-btn--small":!d},{"flat-btn--v-large":d&&n},{"flat-btn--large":d&&!n},{"flat-btn--disabled":i.mode===on.DISABLE},{"flat-btn--danger":i.mode===on.PRESSED})},a.createElement(je,{type:r.LOSE})),c&&a.createElement("div",{onClick:s,className:Ve()("player__button flat-btn flat-btn--pressed ",{"flat-btn--v-large":n},{"flat-btn--large":!n})},a.createElement("div",{className:"flat-btn__caption"},"dead hand"))),t&&this.renderRiichiButton())},t.prototype.render=function(){var e=this.props,t=e.wind,n=e.mode,o=e.rotated,i=e.startWithName,c=e.inlineWind,s=e.points,l=e.pointsMode,u=e.penaltyPoints,d=e.showInlineRiichi,p=e.onPlayerClick;return a.createElement("div",{className:Ve()("player",{"player--top":n===cn.TOP},{"player--right":n===cn.RIGHT},{"player--bottom":n===cn.BOTTOM},{"player--left":n===cn.LEFT},{"player--rotated":o}),onClick:p},i&&this.renderName(),this.renderButtons(),t&&!c&&a.createElement("div",{className:"player__wind-container"},a.createElement("div",{className:"player__wind"},t)),void 0!==s&&a.createElement("div",{className:"player__score-container"},a.createElement("div",{className:Ve()("player__score",{"player__score--success":l===an.POSITIVE},{"player__score--danger":l===an.NEGATIVE},{"player__score--active":l===an.ACTIVE})},a.createElement("p",null,s,d&&a.createElement(je,{type:r.RIICHI_BIG,svgProps:{className:"player__inline-riichi"}})),!!u&&a.createElement("div",{className:"player__penalty"},u/1e3+"k"))),!i&&this.renderName())},t}(a.Component),or=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dimension:"initial"},t}return or(t,e),t.prototype.componentDidMount=function(){this.onFrameHeightChanged(),frame.addEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.componentWillUnmount=function(){frame.removeEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.componentDidUpdate=function(){var e=this.getDimension();this.state.dimension!==e&&this.setState({dimension:e})},t.prototype.onFrameHeightChanged=function(){this.setState({dimension:this.getDimension()})},t.prototype.getDimension=function(){var e=this.props.selector;return document.querySelector(e).clientHeight+"px"},t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.propName,o=this.state.dimension;return a.cloneElement(n,((e={})[r]=o,e))},t}(a.Component),cr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cr(t,e),t.prototype.render=function(){var e=this.props.children;return a.createElement(ir,{propName:"nameWidth",selector:".page-table__center"},e)},t}(a.Component),lr=function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},lr.apply(this,arguments)},ur=function(e){return a.createElement(sr,null,a.createElement(ar,lr({},e,{mode:cn.LEFT,rotated:!0,startWithName:!0,verticalButtons:!0})))},dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},dr.apply(this,arguments)},pr=function(e){return a.createElement(ar,dr({},e,{mode:cn.BOTTOM}))},mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mr.apply(this,arguments)},hr=function(e){return a.createElement(ar,mr({},e,{mode:cn.TOP,startWithName:!0}))},fr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fr(t,e),t.prototype.onNextButtonClick=function(){var e=this.props,t=e.isNextDisabled,n=e.onNextClick;n&&!t&&n()},t.prototype.onSaveButtonClick=function(){var e=this.props,t=e.isSaveDisabled,n=e.onSaveClick;n&&!t&&n()},t.prototype.render=function(){var e=this.props,t=e.text,n=e.showBack,o=e.showNext,i=e.isNextDisabled,c=e.showSave,s=e.isSaveDisabled,l=e.showHome,u=e.showRefresh,d=e.showAdd,p=e.showLog,m=e.onAddClick,h=e.onBackClick,f=e.onHomeClick,y=e.onLogClick,O=e.onRefreshClick,g=n&&!!t&&!o&&!c;return a.createElement("div",{className:"bottom-panel"},a.createElement("div",{className:"bottom-panel__inner"},n&&a.createElement("div",{className:"svg-button",onClick:h},a.createElement(je,{type:r.BACK})),!!t&&a.createElement("div",{className:"bottom-panel__text"},t),g&&a.createElement("div",{className:"svg-button"}),o&&a.createElement("div",{className:Ve()("svg-button",{"svg-button--disabled":i}),onClick:this.onNextButtonClick.bind(this)},a.createElement(je,{type:r.NEXT})),c&&a.createElement("div",{className:Ve()("svg-button",{"svg-button--disabled":s}),onClick:this.onSaveButtonClick.bind(this)},a.createElement(je,{type:r.SAVE})),l&&a.createElement("div",{className:"svg-button",onClick:f},a.createElement(je,{type:r.HOME})),u&&a.createElement("div",{className:"svg-button",onClick:O},a.createElement(je,{type:r.REFRESH})),d&&a.createElement("div",{className:"svg-button",onClick:m},a.createElement(je,{type:r.PLUS})),p&&a.createElement("div",{className:"svg-button",onClick:y},a.createElement(je,{type:r.LOG}))))},t}(a.Component),Or=20,gr=function(e,t){this.x=e,this.y=t};function vr(e,t,n,r){var a=Ir(e.x,t.x,n.x,r),o=Ir(e.y,t.y,n.y,r);return new gr(a,o)}function Ir(e,t,n,r){return(1-r)*(1-r)*e+2*r*(1-r)*t+r*r*n}function Er(e,t){var n=t.x-e.x,r=e.y-t.y,a=(1*n+0*r)/(Math.sqrt(n*n+r*r)*Math.sqrt(1));return 180*Math.acos(a)/Math.PI}function Sr(e,t,n){return Er(e,vr(e,t,n,.08))}function Nr(e){return e.honbaPoints?"".concat(e.points," + ").concat(e.honbaPoints):e.points.toString()}!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_LEFT=2]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=3]="BOTTOM_RIGHT"}(nr||(nr={}));var Ar,Tr,_r=a.memo((function(e){var t=e.payment,n=e.pathId,r=e.withPao,o=e.isTextAbove,i=e.direction;if("0"===t&&!r)return null;var c=4+(o?0:8),s=c*([nr.TOP_RIGHT,nr.BOTTOM_RIGHT].includes(i)?1:-1),l=c*([nr.BOTTOM_RIGHT,nr.BOTTOM_LEFT].includes(i)?1:-1),u="0"!==t?t+(r?" (pao)":""):"pao";return a.createElement("text",{transform:"translate(".concat(s," ").concat(l,")")},a.createElement("textPath",{xlinkHref:"#"+n,startOffset:"50%",textAnchor:"middle",fill:"currentColor"},u))})),Ur=a.memo((function(e){var t=e.id,n=e.start,r=e.center,o=e.end;return a.createElement("g",null,a.createElement("path",{id:t,d:"M ".concat(n.x,",").concat(n.y," Q").concat(r.x,",").concat(r.y," ").concat(o.x,",").concat(o.y," "),stroke:"currentColor"}))})),Cr=a.memo((function(e){var t=e.offsetX,n=e.offsetY,r=e.angle;return a.createElement("g",{transform:"translate(".concat(t," ").concat(n,")")},a.createElement("g",{transform:"rotate(".concat(r,")")},a.createElement("rect",{width:42,height:7,x:-20.5,y:-3,rx:"4",ry:"4",stroke:"currentColor",strokeWidth:1}),a.createElement("circle",{r:1.8,cx:.5,cy:.5,style:{fill:"var(--color-danger)"}})))})),wr=a.memo((function(e){var t=e.start,n=e.center,r=e.end,o=(e.inverted,e.direction),i=vr(t,n,r,.5),c=vr(t,n,r,.52),s=[nr.TOP_RIGHT,nr.BOTTOM_LEFT].includes(o)?1:-1,l=Er(i,c)*s,u=[nr.TOP_RIGHT,nr.BOTTOM_RIGHT].includes(o)?-1:1,d=[nr.BOTTOM_RIGHT,nr.BOTTOM_LEFT].includes(o)?-1:1,p=i.x+6*u,m=i.y+6*d;return a.createElement(Cr,{offsetX:p,offsetY:m,angle:l})})),Hr=a.memo((function(e){var t=e.start,n=e.center,r=e.end,o=e.inverted,i=e.direction;if(o){var c=[nr.TOP_RIGHT,nr.BOTTOM_LEFT].includes(i)?1:-1,s=Sr(t,n,r)*c;return a.createElement(br,{offset:t,angle:s})}c=[nr.TOP_LEFT,nr.BOTTOM_RIGHT].includes(i)?1:-1,s=Sr(r,n,t)*c;return a.createElement(br,{offset:r,angle:s})})),br=a.memo((function(e){var t=e.offset,n=e.angle;return a.createElement("g",{transform:"translate(".concat(t.x," ").concat(t.y,")")},a.createElement("g",{transform:"rotate(".concat(n,")")},a.createElement("rect",{x:"-1",y:-3.5,width:11,height:7,style:{fill:"var(--bg-color)"}}),a.createElement("path",{d:"m 0,0 12.693819,-3.57903 c -1.499915,3.09366 -0.947277,5.02928 0,7.17478 l -12.693819,-3.59575",fill:"currentColor"})))})),kr=a.memo((function(e){var t=e.offsetX,n=e.offsetY,r=e.width,o=e.height,i=e.arrows,c=i.BottomLeft||i.LeftBottom;if(!c)return null;var s=c.start===Sn.LEFT,l=c.withRiichi,u=Nr(c),d="left-bottom",p=nr.BOTTOM_LEFT,m=new gr(0,o/2+Or),h=new gr(r/2-Or-t,o/2+Or+n),f=new gr(r/2-Or,o);return a.createElement("g",null,a.createElement(Ur,{id:d,start:m,center:h,end:f}),a.createElement(Hr,{start:m,center:h,end:f,inverted:!s,direction:p}),l&&a.createElement(wr,{start:m,center:h,end:f,inverted:!s,direction:p}),a.createElement(_r,{payment:u,pathId:d,withPao:c.withPao,isTextAbove:!1,direction:p}))})),Rr=a.memo((function(e){var t=e.offsetX,n=e.offsetY,r=e.width,o=e.height,i=e.arrows,c=i.BottomRight||i.RightBottom;if(!c)return null;var s=c.start===Sn.BOTTOM,l=Nr(c),u="bottom-right",d=nr.BOTTOM_RIGHT,p=new gr(r/2+Or,o),m=new gr(r/2+Or+t,o/2+Or+n),h=new gr(r,o/2+Or);return a.createElement("g",null,a.createElement(Ur,{id:u,start:p,center:m,end:h}),a.createElement(Hr,{start:p,center:m,end:h,inverted:!s,direction:d}),c.withRiichi&&a.createElement(wr,{start:p,center:m,end:h,inverted:!s,direction:d}),a.createElement(_r,{payment:l,pathId:u,withPao:c.withPao,isTextAbove:!1,direction:d}))})),Pr=a.memo((function(e){var t=e.width,n=e.height,r=e.arrows,o=r.BottomTop||r.TopBottom;if(!o)return null;var i=o.start===Sn.TOP,c=function(e){return e?"start":"end"},s=function(e){return e?"5%":"95%"},l=t/2-3.5-4,u=.05*n+21,d=Nr(o),p="top-bottom";return a.createElement("g",null,a.createElement("g",null,a.createElement("path",{id:p,d:"M ".concat(t/2," ").concat(0," V ").concat(n),stroke:"currentColor",fill:"none"}),i&&a.createElement(br,{offset:new gr(t/2,n),angle:-90}),!i&&a.createElement(br,{offset:new gr(t/2,0),angle:90}),"0"!==d&&a.createElement("text",{transform:"translate(".concat(4," ").concat(0,")")},a.createElement("textPath",{xlinkHref:"#"+p,startOffset:s(!i),textAnchor:c(!i),fill:"currentColor"},d)),o.withRiichi&&a.createElement(Cr,{offsetX:l,offsetY:u,angle:90}),o.withPao&&a.createElement("text",{transform:"translate(".concat(4," ").concat(0,")")},a.createElement("textPath",{xlinkHref:"#"+p,startOffset:s(i),textAnchor:c(i),fill:"currentColor"},"pao"))))})),Lr=a.memo((function(e){var t=e.width,n=e.height,r=e.arrows,o=r.LeftRight||r.RightLeft;if(!o)return null;var i=o.start===Sn.LEFT,c=function(e){return e?"start":"end"},s=function(e){return e?"5%":"95%"},l=.05*t+21,u=n/2+3.5+4,d=Nr(o),p="left-right";return a.createElement("g",null,a.createElement("path",{id:p,d:"M ".concat(0," ").concat(n/2," H ").concat(t),stroke:"currentColor",fill:"none"}),!i&&a.createElement(br,{offset:new gr(0,n/2),angle:0}),i&&a.createElement(br,{offset:new gr(t,n/2),angle:180}),"0"!==d&&a.createElement("text",{transform:"translate(".concat(0," ").concat(-4,")")},a.createElement("textPath",{xlinkHref:"#"+p,startOffset:s(!i),textAnchor:c(!i),fill:"currentColor"},d)),o.withRiichi&&a.createElement(Cr,{offsetX:l,offsetY:u,angle:0}),o.withPao&&a.createElement("text",{transform:"translate(".concat(0," ").concat(-4,")")},a.createElement("textPath",{xlinkHref:"#"+p,startOffset:s(i),textAnchor:c(i),fill:"currentColor"},"pao")))})),Kr=a.memo((function(e){var t=e.offsetX,n=e.offsetY,r=e.width,o=e.height,i=e.arrows,c=i.TopLeft||i.LeftTop;if(!c)return null;var s=c.start===Sn.LEFT,l=c.withRiichi,u=Nr(c),d="top-left",p=nr.TOP_LEFT,m=new gr(0,o/2-Or),h=new gr(r/2-Or-t,o/2-Or-n),f=new gr(r/2-Or,0);return a.createElement("g",null,a.createElement(Ur,{id:d,start:m,center:h,end:f}),a.createElement(Hr,{start:m,center:h,end:f,inverted:!s,direction:p}),l&&a.createElement(wr,{start:m,center:h,end:f,inverted:!s,direction:p}),a.createElement(_r,{payment:u,pathId:d,withPao:c.withPao,isTextAbove:!0,direction:p}))})),xr=a.memo((function(e){var t=e.offsetX,n=e.offsetY,r=e.width,o=e.height,i=e.arrows,c=i.TopRight||i.RightTop;if(!c)return null;var s=c.start===Sn.TOP,l=c.withRiichi,u=Nr(c),d="top-right",p=nr.TOP_RIGHT,m=new gr(r/2+Or,0),h=new gr(r/2+Or+t,o/2-Or-n),f=new gr(r,o/2-Or);return a.createElement("g",null,a.createElement(Ur,{id:d,start:m,center:h,end:f}),a.createElement(Hr,{start:m,center:h,end:f,inverted:!s,direction:p}),l&&a.createElement(wr,{start:m,center:h,end:f,inverted:!s,direction:p}),a.createElement(_r,{payment:u,pathId:d,withPao:c.withPao,isTextAbove:!0,direction:p}))})),Dr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:0,height:0},t.containerRef=a.createRef(),t}return Dr(t,e),t.prototype.componentDidMount=function(){this.onFrameHeightChanged(),frame.addEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.componentWillUnmount=function(){frame.removeEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.onFrameHeightChanged=function(){var e=this.containerRef.current;e&&this.setState({width:e.clientWidth,height:e.clientHeight})},t.prototype.render=function(){var e=this.state,t=e.width,n=e.height,r=this.props.arrows,o=.1*(t/2-40),i=.1*(n/2-40),c={};return r.forEach((function(e){var t=Sn[e.start].toLowerCase();t=t[0].toUpperCase()+t.slice(1);var n=Sn[e.end].toLowerCase();n=n[0].toUpperCase()+n.slice(1),c[t+n]=e})),a.createElement("div",{className:"result-arrows"},a.createElement("div",{className:"result-arrows__inner",ref:this.containerRef},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),fill:"none",stroke:"none"},a.createElement(kr,{offsetX:o,offsetY:i,arrows:c,width:t,height:n}),a.createElement(Rr,{offsetX:o,offsetY:i,arrows:c,width:t,height:n}),a.createElement(Kr,{offsetX:o,offsetY:i,arrows:c,width:t,height:n}),a.createElement(xr,{offsetX:o,offsetY:i,arrows:c,width:t,height:n}),a.createElement(Pr,{arrows:c,width:t,height:n}),a.createElement(Lr,{arrows:c,width:t,height:n}))))},t}(a.PureComponent),Gr=function(){return Gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Gr.apply(this,arguments)},Br=function(e){return a.createElement(sr,null,a.createElement(ar,Gr({},e,{mode:cn.RIGHT,rotated:!0,verticalButtons:!0})))},Yr=a.memo((function(e){var t=e.iconType,n=e.count;return a.createElement("div",{className:"table-info__tenbou"},a.createElement("div",{className:"svg-item"},a.createElement(je,{type:t})),a.createElement("div",{className:"table-info__tenbou-count"},n))})),jr=a.memo((function(e){var t=(0,a.useContext)(We),n=e.showRoundInfo,o=e.showTableNumber,i=e.showRotators,c=e.showTimer,s=e.isAutostartTimer,l=e.gamesLeft,u=e.round,d=e.honbaCount,p=e.riichiCount,m=e.currentTime,h=e.tableNumber,f=e.onTableInfoToggle,y=e.onRotateCcwClick,O=e.onRotateCwClick;return n||o?a.createElement("div",{className:"table-info"},i&&a.createElement(a.Fragment,null,a.createElement("div",{className:"table-info__rotator_ccw",onClick:y},a.createElement(je,{type:r.ROTATE_CCW})),a.createElement("div",{className:"table-info__rotator_cw",onClick:O},a.createElement(je,{type:r.ROTATE_CW}))),a.createElement("div",{className:"table-info__info",onClick:f},n&&a.createElement(a.Fragment,null,!!u&&a.createElement("div",{className:"table-info__round"},u),void 0!==p&&a.createElement(Yr,{iconType:r.RIICHI_SMALL,count:p}),void 0!==d&&a.createElement(Yr,{iconType:r.HONBA,count:d}),c&&a.createElement("div",{className:"table-info__timer"},m),l&&a.createElement("div",{className:"table-info__games-left"},a.createElement("div",{className:"table-info__games-left-count"},t._nt(["%1 deal left","%1 deals left"],l,[l])))),o&&a.createElement(a.Fragment,null,a.createElement("div",{className:"table-info__table-caption"},t._t("Table #%1",[h])),c&&s&&a.createElement(a.Fragment,null,a.createElement("hr",{className:"table-info__autostart-separator"}),a.createElement("div",{className:"table-info__autostart-hint"},t._t("Time before game start:"))),c&&a.createElement("div",{className:"table-info__timer"},m)))):null})),Fr=n(935),Vr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wr=function(){return Wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Wr.apply(this,arguments)},Zr=function(e){function t(t){var n=e.call(this,t)||this;return n.element=document.createElement("div"),n}return Vr(t,e),t.prototype.componentDidMount=function(){document.getElementById("screen").appendChild(this.element)},t.prototype.componentWillUnmount=function(){document.getElementById("screen").removeChild(this.element)},t.prototype.render=function(){return a.createElement(a.Fragment,null,Fr.createPortal(this.renderModal(),this.element))},t.prototype.renderModal=function(){var e=this.props,t=e.items,n=e.onHide;return a.createElement("div",{className:"modal",onClick:n},a.createElement("div",{className:"modal__bg"}),a.createElement("div",{className:"modal__content select-modal"},a.createElement("div",{className:"select-modal__pointer"}),a.createElement("div",{className:"select-modal__items"},t.filter((function(e){return!e.unavailable})).map((function(e,t){return a.createElement(Jr,Wr({key:t},e))})))))},t}(a.Component),Jr=a.memo((function(e){var t=e.text,n=e.onSelect;return a.createElement("div",{className:"select-modal__item",onClick:function(e){e.stopPropagation(),n()}},t)})),zr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qr=function(){return qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},qr.apply(this,arguments)},Xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zr(t,e),t.prototype.render=function(){var e=this.props,t=e.topPlayer,n=e.leftPlayer,r=e.rightPlayer,o=e.bottomPlayer,i=e.bottomPanel,c=e.outcomeModal,s=e.tableInfo,l=e.arrowsInfo;return a.createElement("div",{className:"flex-container page-table"},a.createElement("div",{className:"flex-container__content flex-container"},a.createElement("div",{className:"flex-container__top"},a.createElement(hr,qr({},t))),a.createElement("div",{className:"flex-container__content page-table__center"},a.createElement(ur,qr({},n)),!!s&&a.createElement(jr,qr({},s)),!!l&&a.createElement(Mr,qr({},l)),a.createElement(Br,qr({},r))),a.createElement("div",{className:"flex-container__bottom"},a.createElement(pr,qr({},o)))),a.createElement("div",{className:"flex-container__bottom"},a.createElement(yr,qr({},i))),!!c&&a.createElement(Zr,qr({},c)))},t}(a.Component),Qr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.state,r=t.dispatch;if(n.loading.events||"overview"===n.currentScreen&&(!n.gameOverviewReady||!n.players||4!==n.players.length)||n.loading.addRound||n.loading.overview)return a.createElement(ze,null);var o=Rn(e,n,r),i=Pn(e,n,r),c=Ln(e,n,r),s=Kn(e,n,r),l=function(e,t){var n,r,a,o,i,c,s,l,u;if("confirmation"!==e.currentScreen){var d=!1,p=null!==(r=null===(n=e.currentOtherTable)||void 0===n?void 0:n.tableIndex)&&void 0!==r?r:e.tableIndex,m=!0,h=!1,f=!1,y=void 0,O=void 0;if(e.showAdditionalTableInfo)"currentGame"===e.currentScreen&&(d=!0,m=!1);else if(void 0!==e.timer)if(null===(a=e.timer)||void 0===a?void 0:a.waiting)e.tableIndex&&(d=!0,m=!1),void 0!==(g=bn(e))&&(h=!0,f=!0,y=kn(g.minutes,g.seconds));else if("currentGame"===e.currentScreen||"outcomeSelect"===e.currentScreen){var g;void 0!==(g=Hn(e))&&(h=!0,0===g.minutes&&0===g.seconds?O=e.yellowZoneAlreadyPlayed?1:2:y=kn(g.minutes,g.seconds))}return{showRotators:"otherTable"===e.currentScreen,showRoundInfo:m,showTableNumber:d,showTimer:h,isAutostartTimer:f,gamesLeft:O,round:Tn(null!==(i=null===(o=e.currentOtherTable)||void 0===o?void 0:o.currentRound)&&void 0!==i?i:e.currentRound),honbaCount:null!==(s=null===(c=e.currentOtherTable)||void 0===c?void 0:c.honba)&&void 0!==s?s:e.honba,riichiCount:null!==(u=null===(l=e.currentOtherTable)||void 0===l?void 0:l.riichiOnTable)&&void 0!==u?u:e.riichiOnTable,currentTime:y,tableNumber:p,onTableInfoToggle:tr(e,t),onRotateCwClick:function(){return t({type:Le})},onRotateCcwClick:function(){return t({type:Pe})}}}}(n,r),u=function(e,t,n){if("outcomeSelect"===t.currentScreen){var r=function(e){n({type:Ne,payload:e}),n({type:O})},a=[{text:e._t("Ron"),onSelect:function(){r("ron")}},{text:e._t("Tsumo"),onSelect:function(){r("tsumo")}},{text:e._t("Exhaustive draw"),onSelect:function(){r("draw")}},{text:e._t("Chombo"),onSelect:function(){r("chombo")}}],o=t.gameConfig;return o&&(o.withAbortives&&a.push({text:e._t("Abortive draw"),onSelect:function(){r("abort")},unavailable:!1}),o.withNagashiMangan&&a.push({text:e._t("Nagashi mangan"),onSelect:function(){r("nagashi")},unavailable:!1})),{items:a,onHide:function(){n({type:g})}}}}(e,n,r),d=Gn(e,n,r),p=function(e){var t,n,r,a=e.changesOverview;if("confirmation"===e.currentScreen&&void 0!==a&&!e.loading.overview){var o=[];if(a.paoPlayer)if("tsumo"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome))e.currentOutcome.winner&&(o[e.currentOutcome.winner]=a.paoPlayer);else if("ron"===(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome)){var i=e.currentOutcome.wins;Object.keys(i).forEach((function(e){var t=i[e];t.paoPlayerId&&t.winner&&(o[t.winner]=t.paoPlayerId)}))}var c=Bn(e),s=((t={})[mn(e,"confirmation").id]=Sn.TOP,t[hn(e,"confirmation").id]=Sn.LEFT,t[pn(e,"confirmation").id]=Sn.RIGHT,t[dn(e,"confirmation").id]=Sn.BOTTOM,t),l=[];return c.forEach((function(e){if(e.from&&e.to){var t=s[e.from],n=s[e.to],r=o[e.to]===e.from,a={points:e.directAmount,honbaPoints:e.honbaAmount,withRiichi:0!==e.riichiAmount,withPao:r,start:t,end:n};l.push(a)}})),{arrows:l}}}(n);return a.createElement(Xr,{topPlayer:o,leftPlayer:i,rightPlayer:c,bottomPlayer:s,tableInfo:l,arrowsInfo:p,outcomeModal:u,bottomPanel:d})},t.contextType=We,t}(a.Component),ea=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ea(t,e),t.prototype.onYakuClick=function(e){e.disabled||e.onClick()},t.prototype.render=function(){var e=this,t=this.props.yakuGroups;return a.createElement("div",{className:"select-yaku-panel"},t.map((function(t,n){return a.createElement("div",{key:n,className:"select-yaku-panel__group"},t.map((function(t,n){return a.createElement("div",{key:n,className:Ve()("select-yaku-panel__button",{"select-yaku-panel__button--pressed":t.pressed},{"select-yaku-panel__button--disabled":t.disabled}),onClick:function(){return e.onYakuClick(t)}},t.name)})))})))},t}(a.Component),na=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return na(t,e),Object.defineProperty(t.prototype,"items",{get:function(){var e=this.props,t=e.possibleValues,n=e.onChange;return t.map((function(e){return{text:e.toString(),onSelect:function(){return n(e)}}}))},enumerable:!1,configurable:!0}),t.prototype.render=function(){return a.createElement(Zr,{items:this.items,onHide:this.props.onHide})},t}(a.Component),aa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oa=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isModalShown:!1},n}return aa(t,e),t.prototype.onValueClick=function(){0!==this.props.possibleValues.length&&this.setState({isModalShown:!0})},t.prototype.onValueSelect=function(e){var t=this.props.onChange;this.hideModal(),t(e)},t.prototype.hideModal=function(){this.setState({isModalShown:!1})},Object.defineProperty(t.prototype,"canDecrease",{get:function(){var e=this.props;return e.value>e.possibleValues[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canIncrease",{get:function(){var e=this.props,t=e.value,n=e.possibleValues;return t<n[n.length-1]},enumerable:!1,configurable:!0}),t.prototype.decrease=function(){if(this.canDecrease){var e=this.props,t=e.value,n=e.possibleValues,r=e.onChange,a=n.indexOf(t);r(n[a-1])}},t.prototype.increase=function(){if(this.canIncrease){var e=this.props,t=e.value,n=e.possibleValues,r=e.onChange,a=n.indexOf(t);r(n[a+1])}},t.prototype.render=function(){var e=this.context,t=this.props,n=t.value,r=t.possibleValues,o=this.state.isModalShown,i=0!==r.length&&-1===r.indexOf(n),c=0===r.length||i?"?":n;return i&&alert(e._t("something goes wrong, please contact your administrator")),a.createElement("div",{className:"number-select"},a.createElement("div",{className:Ve()("number-select__minus svg-button svg-button--xsmall",{"svg-button--disabled":!this.canDecrease}),onClick:this.decrease.bind(this)},a.createElement("svg",null,a.createElement("path",{d:"M 6 12 H 18",stroke:"currentColor",strokeWidth:2,fill:"none"}))),a.createElement("div",{className:"number-select__value",onClick:this.onValueClick.bind(this)},c),a.createElement("div",{className:Ve()("number-select__plus svg-button svg-button--xsmall",{"svg-button--disabled":!this.canIncrease}),onClick:this.increase.bind(this)},a.createElement("svg",null,a.createElement("path",{d:"M 6 12 H 18",stroke:"currentColor",strokeWidth:2,fill:"none"}),a.createElement("path",{d:"M 12 6 V 18",stroke:"currentColor",strokeWidth:2,fill:"none"}))),o&&a.createElement(ra,{onChange:this.onValueSelect.bind(this),possibleValues:r,onHide:this.hideModal.bind(this)}))},t.contextType=We,t}(a.Component),ia=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ia(t,e),Object.defineProperty(t.prototype,"hanCount",{get:function(){var e=this.props,t=e.yakuHan,n=e.doraCount,r=e.uraDoraCount,a=void 0===r?0:r,o=e.redFivesCount;return t+n+a+(void 0===o?0:o)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.context,t=this.props,n=t.isYakuman,r=t.yakuHan,o=t.doraCount,i=t.doraValues,c=t.onDoraSelected,s=t.withUraDora,l=t.uraDoraCount,u=t.uraDoraValues,d=t.onUraDoraSelected,p=t.withRedFives,m=t.redFivesCount,h=t.redFivesValues,f=t.onRedFivesSelected,y=t.fuCount,O=t.fuValues,g=t.onFuSelected,v=y?e._t("%1 han %2 fu",[this.hanCount,y]):e._t("%1 han",[this.hanCount]);return a.createElement("div",{className:"select-total-panel"},!n&&a.createElement(a.Fragment,null,a.createElement("div",{className:"select-total-panel__top-group"},e._t("Han from yaku")," ",a.createElement("span",null,r)),a.createElement("div",{className:"select-total-panel__max"},a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Dora")),a.createElement(oa,{value:o,possibleValues:i,onChange:c})),s&&void 0!==l&&void 0!==u&&a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Ura dora")),a.createElement(oa,{value:l,possibleValues:u,onChange:d})),p&&void 0!==m&&void 0!==h&&a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Red fives")),a.createElement(oa,{value:m,possibleValues:h,onChange:f})),a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Fu")),a.createElement(oa,{value:y,possibleValues:O,onChange:g}))),a.createElement("div",{className:"select-total-panel__bottom-group"},v)),n&&a.createElement("div",{className:"select-total-panel__center"},e._t("Yakuman")))},t.contextType=We,t}(a.Component),sa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sa(t,e),t.prototype.render=function(){var e=this.props.items;return a.createElement("div",{className:"tab-panel"},a.createElement("div",{className:"tab-panel__items"},e.map((function(e,t){return a.createElement("div",{key:t,className:Ve()("tab-panel__item",{"tab-panel__item--active":e.isActive}),onClick:e.onClick},e.caption)}))))},t}(a.Component);!function(e){e[e.UNAVAILABLE=0]="UNAVAILABLE",e[e.AVAILABLE=1]="AVAILABLE",e[e.DISABLED=2]="DISABLED"}(Ar||(Ar={})),function(e){e.YAKU="Yaku",e.TOTAL="Total"}(Tr||(Tr={}));var ua=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),da=function(e,t){return[{caption:Tr.YAKU,isActive:e===Tr.YAKU,onClick:function(){return t(Tr.YAKU)}},{caption:Tr.TOTAL,isActive:e===Tr.TOTAL,onClick:function(){return t(Tr.TOTAL)}}]},pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ua(t,e),t.prototype.onLeftArrowClick=function(){var e=this.props,t=e.leftArrowState,n=e.leftArrowClick;t!==Ar.DISABLED&&n()},t.prototype.onRightArrowClick=function(){var e=this.props,t=e.rightArrowState,n=e.rightArrowClick;t!==Ar.DISABLED&&n()},t.prototype.render=function(){var e=this.props,t=e.playerName,n=e.yakuGroups,o=e.bottomPanelText,i=e.leftArrowState,c=e.rightArrowState,s=e.activeTab,l=e.onTabClick,u=e.onBackClick,d=e.canGoNext,p=e.onNextClick,m=e.isYakuman,h=e.yakuHan,f=e.doraCount,y=e.doraValues,O=e.onDoraSelected,g=e.withUraDora,v=e.uraDoraCount,I=e.uraDoraValues,E=e.onUraDoraSelected,S=e.withRedFives,N=e.redFivesCount,A=e.redFivesValues,T=e.onRedFivesSelected,_=e.fuCount,U=e.fuValues,C=e.onFuSelected;return a.createElement("div",{className:"flex-container page-select-hand"},a.createElement("div",{className:"page-select-hand__top-panel top-panel top-panel--between"},a.createElement("div",{className:"page-select-hand__top-panel-arrow"},i!==Ar.UNAVAILABLE&&a.createElement("div",{className:Ve()("svg-button svg-button--xsmall",{"svg-button--disabled":i===Ar.DISABLED}),onClick:this.onLeftArrowClick.bind(this)},a.createElement(je,{type:r.ARROW_LEFT}))),a.createElement("div",{className:"page-select-hand__player-name"},t),a.createElement("div",{className:"page-select-hand__top-panel-arrow"},c!==Ar.UNAVAILABLE&&a.createElement("div",{className:Ve()("svg-button svg-button--xsmall",{"svg-button--disabled":c===Ar.DISABLED}),onClick:this.onRightArrowClick.bind(this)},a.createElement(je,{type:r.ARROW_RIGHT})))),a.createElement(la,{items:da(s,l)}),s===Tr.YAKU&&a.createElement(ta,{yakuGroups:n}),s===Tr.TOTAL&&a.createElement(ca,{isYakuman:m,yakuHan:h,doraCount:f,doraValues:y,onDoraSelected:O,withUraDora:g,uraDoraCount:v,uraDoraValues:I,onUraDoraSelected:E,withRedFives:S,redFivesCount:N,redFivesValues:A,onRedFivesSelected:T,fuCount:_,fuValues:U,onFuSelected:C}),a.createElement("div",{className:"flex-container__bottom"},a.createElement(yr,{text:o,showBack:!0,showNext:!0,isNextDisabled:!d,onBackClick:u,onNextClick:p})))},t}(a.Component);function ma(e,t){return e.map((function(e){return e.filter((function(e){return e.id===Ht.__OPENHAND||-1!==t.indexOf(e.id)}))})).filter((function(e){return e.length>0}))}var ha=[Rt.filter((function(e){return-1!==[Ht.__OPENHAND].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.RIICHI,Ht.IPPATSU,Ht.MENZENTSUMO].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.PINFU,Ht.TANYAO].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.YAKUHAI1,Ht.YAKUHAI2,Ht.YAKUHAI3].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.ITTSU,Ht.HONITSU,Ht.CHINITSU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.TOITOI,Ht.CHIITOITSU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.CHANTA,Ht.JUNCHAN].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.SANSHOKUDOUJUN,Ht.IIPEIKOU].indexOf(e.id)}))],fa=[Rt.filter((function(e){return-1!==[Ht.DOUBLERIICHI,Ht.OPENRIICHI].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.HONROTO,Ht.SHOSANGEN,Ht.YAKUHAI4].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.SANANKOU,Ht.SANSHOKUDOUKOU,Ht.SANKANTSU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.RYANPEIKOU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.HAITEI,Ht.HOUTEI,Ht.RINSHANKAIHOU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.CHANKAN,Ht.RENHOU].indexOf(e.id)}))],ya=[Rt.filter((function(e){return-1!==[Ht.TENHOU,Ht.CHIHOU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.DAISANGEN,Ht.DAISUUSHII,Ht.SHOSUUSHII].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.SUUANKOU,Ht.SUUKANTSU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.CHINROTO,Ht.TSUUIISOU,Ht.KOKUSHIMUSOU].indexOf(e.id)})),Rt.filter((function(e){return-1!==[Ht.RYUUIISOU,Ht.CHUURENPOUTO].indexOf(e.id)}))];var Oa=At((function(e){if(!e.gameConfig)return{};for(var t={},n=0,r=Xt(e);n<r.length;n++){var a=r[n],o=ma(ha,e.gameConfig.allowedYaku),i=ma(fa,e.gameConfig.allowedYaku),c=ma(ya,e.gameConfig.allowedYaku);t[a.id]=o.concat(i).concat(c)}return t}));var ga=At((function(e){var t=Oa(e),n=function(e){var t,n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return t=zt(n.yaku),On(e,n.winner,t,Zt(e.yakuList,t),[Ht.HOUTEI,Ht.CHANKAN,Ht.RENHOU]);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return t=zt(n.wins[e.multironCurrentWinner].yaku),On(e,e.multironCurrentWinner,t,Zt(e.yakuList,t),[Ht.MENZENTSUMO,Ht.HAITEI,Ht.TENHOU,Ht.CHIHOU]);default:return[]}}(e);return Xt(e).reduce((function(r,a){r[a.id]={};for(var o=0,i=t[a.id];o<i.length;o++)for(var c=0,s=i[o];c<s.length;c++){var l=s[c];-1!==n.indexOf(l.id)||nn(e,l.id)||(r[a.id][l.id]=!0)}return r}),{})})),va=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return va(t,e),t.prototype.onTabClick=function(e){var t=this.props,n=t.state,r=t.dispatch;"yaku"===n.currentSelectHandTab&&e===Tr.TOTAL?r({type:Ge,payload:"total"}):"total"===n.currentSelectHandTab&&e===Tr.YAKU&&r({type:Ge,payload:"yaku"})},t.prototype.onYakuClick=function(e){var t=this.props,n=t.state,r=t.dispatch;nn(n,e)?r({type:N,payload:{id:e,winner:n.multironCurrentWinner}}):r({type:E,payload:{id:e,winner:n.multironCurrentWinner}})},t.prototype.onBackClick=function(){var e=this.props;e.state;(0,e.dispatch)({type:g})},t.prototype.onNextClick=function(){(0,this.props.dispatch)({type:O})},t.prototype.onDoraSelected=function(e){var t=this.props,n=t.state;(0,t.dispatch)({type:v,payload:{count:e,winner:n.multironCurrentWinner}})},t.prototype.onUraDoraSelected=function(e){},t.prototype.onRedFivesSelected=function(e){},t.prototype.onFuSelected=function(e){var t=this.props,n=t.state;(0,t.dispatch)({type:I,payload:{count:e,winner:n.multironCurrentWinner}})},t.prototype.onLeftArrowClick=function(){this.goToMultironUser(-1)},t.prototype.onRightArrowClick=function(){this.goToMultironUser(1)},t.prototype.goToMultironUser=function(e){var t=this.props,n=t.state,r=t.dispatch,a=n.multironCurrentWinner;if(a){var o=Xt(n),i=o.findIndex((function(e){return e.id===a}));if(-1!==i){var c=o[i+e].id;r({type:Ae,payload:{winner:c}}),r({type:Ge,payload:"yaku"})}}},t.prototype.render=function(){var e=this,t=this.context,n=this.props.state;if(!n.currentOutcome||"ron"!==n.currentOutcome.selectedOutcome&&"tsumo"!==n.currentOutcome.selectedOutcome)return null;var r=n.multironCurrentWinner;if(!r)return null;var o=Xt(n),i=o.find((function(e){return e.id===r})),c=void 0!==i?i.displayName:"",s=Mn(t,n.currentOutcome.selectedOutcome),l=!!function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":return 0!=vn(e);case"ron":var n=e.currentOutcome;return Xt(e).reduce((function(e,t){return e&&0!=n.wins[t.id].han}),!0)}}(n),u=Ar.UNAVAILABLE,d=Ar.UNAVAILABLE;o.length>1&&(u=o[0].id===r?Ar.DISABLED:Ar.AVAILABLE,d=o[o.length-1].id===r?Ar.DISABLED:Ar.AVAILABLE);var p="total"===n.currentSelectHandTab?Tr.TOTAL:Tr.YAKU,m=yn(n),h=ga(n)[r],f=Oa(n)[r],y=[];f.forEach((function(n){var r=[];n.forEach((function(n){var a={name:n.name(t),onClick:function(){return e.onYakuClick(n.id)},disabled:h[n.id],pressed:-1!==m.indexOf(n.id)};r.push(a)})),y.push(r)}));var O=vn(n,r),g=O<0,v=Nn(n,r),I=An(n),E=In(n,r),S=O>0&&v+O<=4?En(n):[];return a.createElement(pa,{playerName:c,yakuGroups:y,bottomPanelText:s,leftArrowState:u,leftArrowClick:this.onLeftArrowClick.bind(this),rightArrowState:d,rightArrowClick:this.onRightArrowClick.bind(this),activeTab:p,onTabClick:this.onTabClick.bind(this),canGoNext:l,onNextClick:this.onNextClick.bind(this),onBackClick:this.onBackClick.bind(this),isYakuman:g,yakuHan:O,doraCount:v,doraValues:I,onDoraSelected:this.onDoraSelected.bind(this),withUraDora:!1,uraDoraCount:undefined,uraDoraValues:undefined,onUraDoraSelected:this.onUraDoraSelected.bind(this),withRedFives:!1,redFivesCount:undefined,redFivesValues:undefined,onRedFivesSelected:this.onRedFivesSelected.bind(this),fuCount:E,fuValues:S,onFuSelected:this.onFuSelected.bind(this)})},t.contextType=We,t}(a.Component),Ea=a.memo((function(e){var t=e.players,n=e.showRepeatButton,o=e.onCheckClick,i=e.onRepeatClick,c=(0,a.useContext)(We);return a.createElement("div",{className:"page-game-result"},t.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"page-game-result__players"},t.map((function(e,t){return a.createElement("div",{key:t,className:"player-result"},a.createElement("div",{className:"player-result__name"},e.name),a.createElement("div",{className:"player-result__score-container"},a.createElement("div",{className:"player-result__score"},e.score),a.createElement("div",{className:Ve()("player-result__delta",{"player-result__delta--danger":e.delta<0},{"player-result__delta--success":e.delta>0})},e.delta<=0?e.delta:"+"+e.delta)))}))),a.createElement("div",{className:"page-game-result__buttons"},n&&a.createElement(a.Fragment,null,a.createElement("div",{className:"flat-btn flat-btn--medium",onClick:i},a.createElement(je,{type:r.REPEAT})),a.createElement("div",{className:"flat-btn flat-btn--medium",onClick:o},a.createElement(je,{type:r.SAVE}))),!n&&a.createElement("div",{className:"flat-btn flat-btn--large",onClick:o},a.createElement(je,{type:r.SAVE})))),0===t.length&&a.createElement(a.Fragment,null,a.createElement("div",{className:"page-game-result__no-games"},c._t("No games found")),a.createElement("div",{className:"page-game-result__buttons"},a.createElement("div",{className:"flat-btn flat-btn--large",onClick:o},a.createElement(je,{type:r.SAVE})))))})),Sa=function(e){var t=e.state,n=e.dispatch;if("lastResults"!==t.currentScreen||qe(t)||!t.gameConfig)return a.createElement(ze,null);var r=[];t.lastResults&&(r=t.lastResults.map((function(e){return{name:e.displayName,score:e.score,delta:e.ratingDelta}})));var o=!t.gameConfig.autoSeating&&!t.isUniversalWatcher&&!t.currentSessionHash&&!t.gameConfig.isPrescripted,i=(0,a.useCallback)((function(){n({type:O})}),[n]),c=(0,a.useCallback)((function(){var e;t.lastResults&&(e=t.lastResults.map((function(e){return e.id}))),n({type:l,payload:e})}),[t.lastResults,n]);return a.createElement(Ea,{players:r,showRepeatButton:o,onCheckClick:i,onRepeatClick:c})},Na=function(e){var t=e.onSubmit,n=e.signupLink,r=e.recoveryLink,o=(0,a.useContext)(We),i=(0,a.useState)(""),c=i[0],s=i[1],l=(0,a.useState)(""),u=l[0],d=l[1];return a.createElement("div",{className:"page-enter-credentials"},a.createElement("div",{className:"page-enter-credentials__title"},o._t("Pantheon: log in")),a.createElement("div",{className:"page-enter-credentials__form"},a.createElement("input",{className:"page-enter-credentials__input",type:"text",onChange:function(e){return s(e.currentTarget.value)}}),a.createElement("label",null,o._t("Email")),a.createElement("input",{className:"page-enter-credentials__input",type:"password",onChange:function(e){return d(e.currentTarget.value)}}),a.createElement("label",null,o._t("Password"))),a.createElement("div",{className:"page-enter-credentials__button-container"},a.createElement("button",{className:"flat-btn flat-btn--large",style:{justifySelf:"end",width:"100%"},onClick:function(){return t(c,u)}},o._t("Log in"))),a.createElement("div",{className:"page-enter-credentials__links-container"},a.createElement("a",{className:"flat-btn flat-btn--large",href:n,target:"_blank",style:{width:"100%"}},o._t("Sign up")),a.createElement("a",{className:"flat-btn flat-btn--large",href:r,target:"_blank",style:{width:"100%"}},o._t("Forgot password?"))))},Aa=function(e){var t=e.dispatch,n=(0,a.useCallback)((function(e,n){e.length>0&&n.length>0&&t({type:H,payload:{email:e,password:n}})}),[t]);return a.createElement(Na,{onSubmit:n,signupLink:st.guiUrl+"signup",recoveryLink:st.guiUrl+"passwordRecovery"})},Ta=function(e){var t=e.onOkClick,n=e.recoveryLink,r=(0,a.useContext)(We),o="<a href=".concat(st.guiUrl+"signup"," target='_blank'>").concat(r._pt("Name of registration link","register"),"</a>");return a.createElement("div",{className:"page-login-error"},a.createElement("div",{className:"page-login-error__title"},r._t("Pantheon")),a.createElement("div",{className:"page-login-error__message"},a.createElement("div",null,r._t("Login attempt has failed. Possible reasons are:")),a.createElement("ul",null,a.createElement("li",{dangerouslySetInnerHTML:{__html:r._t("E-mail is not registered in Pantheon database (%1)",[o])}}),a.createElement("li",null,r._t("Password check has failed")," - ",a.createElement("a",{href:n,target:"_blank"},r._t("Forgot password?"))),a.createElement("li",null,r._t("Unexpected server error"))),a.createElement("div",null,r._t("If in doubt, contact the tournament administrator for further instructions."))),a.createElement("div",{className:"page-login-error__button-container"},a.createElement("div",{className:"flat-btn flat-btn--large",onClick:t},r._t("OK"))))},_a=function(e){var t=e.dispatch,n=(0,a.useCallback)((function(){t({type:R})}),[t]);return a.createElement(Ta,{onOkClick:n,recoveryLink:st.guiUrl+"passwordRecovery"})},Ua=function(){return Ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ua.apply(this,arguments)},Ca=function(e){var t=e.state;return t.loading.login?a.createElement(ze,null):t.loginError?a.createElement(_a,Ua({},e)):a.createElement(Aa,Ua({},e))},wa=function(e){var t=e.players,n=e.index,r=e.selectRound,o=e.round,i=e.scoresDelta,c=e.scores,s=e.children,l=(0,a.useCallback)((function(){r(n)}),[n,r]);return a.createElement("div",{className:"page-log__row-container",onClick:l},a.createElement("div",{className:"page-log__row"},a.createElement("div",{className:"page-log__cell page-log__cell--first"},o),Object.keys(t).map((function(e){return a.createElement(Ha,{key:e,delta:i[e],score:c[e]})}))),s)},Ha=function(e){var t=e.delta,n=e.score;return a.createElement("div",{className:"page-log__cell"},a.createElement("div",{className:Ve()("page-log__delta",{"page-log__delta--success":t>0},{"page-log__delta--danger":t<0})},t>0?"+"+t:t),a.createElement("div",{className:"page-log__score"},n))},ba=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function ka(e,t,n){if(t<0)return e._t("yakuman");var r=e._t("%1 han",[t]);return t<5&&n?e._t("%1 han %2 fu",[t,n]):r}function Ra(e,t){return e._t("Pao from: %1",[t])}function Pa(e,t){return e._t("Honba: %1",[t])}function La(e,t){return e._t("Tempai: %1",[t.join(", ")])}function Ka(e,t,n){var r;return t.length?(r=t.join(", "),n&&(r+=" + ".concat(n))):r=n.toString(),e._t("Riichi bets: %1",[r])}function xa(e,t,n){var r=e._t("dora %1",[n]),a=ba(ba([],t,!0),[n?r:null],!1).filter((function(e){return!!e})).join(", ");return"".concat(a)}function Da(e,t){switch(e.outcome){case"ron":return function(e,t){var n=e.winner,r=e.loser,a=e.paoPlayer,o=e.han,i=e.fu,c=e.dora,s=e.yakuList,l=e.riichiPlayers,u=e.riichiOnTable,d=e.honbaOnTable,p=[];return p.push(t._t("Ron, %1",[ka(t,o,i)])),p.push(t._t("%1 \u2190 %2",[n,r])),p.push(xa(t,s,c)),a&&p.push(Ra(t,a)),p.push(""),p.push(Ka(t,l,u)),p.push(Pa(t,d)),p}(e,t);case"multiron":return function(e,t){var n=e.loser,r=e.winnerList,a=e.hanList,o=e.fuList,i=e.doraList,c=e.yakuList,s=e.paoPlayerList,l=e.riichiPlayers,u=e.riichiOnTable,d=e.honbaOnTable,p=[];return p.push(t._t("Multiron, from %1",[n])),p.push(""),r.forEach((function(e,n){var r=a[n],l=o[n],u=i[n],d=c[n],m=s[n];p.push(ka(t,r,l)),p.push(e),p.push(xa(t,d,u)),m&&p.push(Ra(t,m)),p.push("")})),p.push(Ka(t,l,u)),p.push(Pa(t,d)),p}(e,t);case"tsumo":return function(e,t){var n=e.winner,r=e.paoPlayer,a=e.han,o=e.fu,i=e.dora,c=e.yakuList,s=e.riichiPlayers,l=e.riichiOnTable,u=e.honbaOnTable,d=[];return d.push(t._t("Tsumo, %1",[ka(t,a,o)])),d.push(n),d.push(xa(t,c,i)),r&&d.push(Ra(t,r)),d.push(""),d.push(Ka(t,s,l)),d.push(Pa(t,u)),d}(e,t);case"draw":return function(e,t){var n=e.tempai,r=e.riichiPlayers,a=e.riichiOnTable,o=e.honbaOnTable,i=[];return i.push(t._t("Exhaustive draw")),i.push(La(t,n)),i.push(""),i.push(Ka(t,r,a)),i.push(Pa(t,o)),i}(e,t);case"abort":return function(e,t){var n=e.riichiPlayers,r=e.riichiOnTable,a=e.honbaOnTable,o=[];return o.push(t._t("Abortive draw")),o.push(""),o.push(Ka(t,n,r)),o.push(Pa(t,a)),o}(e,t);case"chombo":return function(e,t){var n=e.penaltyFor,r=e.riichiPlayers,a=e.riichiOnTable,o=e.honbaOnTable,i=[];return i.push(t._t("Chombo")),i.push(n),i.push(""),i.push(Ka(t,r,a)),i.push(Pa(t,o)),i}(e,t);case"nagashi":return function(e,t){var n=e.nagashi,r=e.tempai,a=e.riichiPlayers,o=e.riichiOnTable,i=e.honbaOnTable,c=[];return c.push(t._t("Nagashi mangan")),c.push(n.join(", ")),c.push(La(t,r)),c.push(""),c.push(Ka(t,a,o)),c.push(Pa(t,i)),c}(e,t)}}var Ma=function(e){var t=Da(e,(0,a.useContext)(We)),n=t.length;return a.createElement("div",{className:"page-log__info"},t.map((function(e,t){return a.createElement(a.Fragment,{key:t},e,t!==n-1&&a.createElement("br",null))})))},Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ga.apply(this,arguments)},Ba=function(e){var t=(0,a.useContext)(We),n=e.players,r=e.results,o=e.rounds,i=e.onBackClick,c=(0,a.useState)(void 0),s=c[0],l=c[1],u=(0,a.useCallback)((function(e){l(s===e?void 0:e)}),[s,l]);return a.createElement("div",{className:"flex-container page-log"},!r.length&&a.createElement("div",{className:"flex-container__content page-log__no-results"},t._t("No results found")),!!r.length&&a.createElement(a.Fragment,null,a.createElement("div",{className:"flex-container__top page-log__names"},a.createElement("div",{className:"page-log__row"},a.createElement("div",{className:"page-log__cell page-log__cell--first"}),Object.keys(n).map((function(e){return a.createElement("div",{key:e,className:"page-log__cell"},n[e])})))),a.createElement("div",{className:"flex-container__content page-log__rounds"},r.map((function(e,t){return a.createElement(wa,{key:t,players:n,index:t,scoresDelta:e.scoresDelta,scores:e.scores,round:e.round,selectRound:u},s===t&&a.createElement(Ma,Ga({},o[t])))})))),a.createElement("div",{className:"flex-container__bottom"},a.createElement(yr,{text:t._t("Game log"),showBack:!0,onBackClick:i})))},Ya=function(){return Ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ya.apply(this,arguments)};function ja(e,t){return e.split(",").map((function(e){return parseInt(e,10)})).map((function(e){return Pt[e].name(t)}))}function Fa(e,t){return{riichiOnTable:e.riichi,honbaOnTable:e.honba,riichiPlayers:e.riichiIds.map((function(e){return t[e]}))}}function Va(e,t,n){switch(e.outcome){case"ron":return function(e,t,n){var r,a,o=Fa(e,t);return Ya(Ya({},o),{outcome:e.outcome,riichiPlayers:e.riichiIds.map((function(e){return t[e]})),loser:t[e.loser],winner:t[e.winner],paoPlayer:null!==e.paoPlayer?t[e.paoPlayer]:void 0,yakuList:ja(e.yaku,n),han:e.han,fu:null!==(r=e.fu)&&void 0!==r?r:void 0,dora:null!==(a=e.dora)&&void 0!==a?a:void 0})}(e,t,n);case"multiron":return function(e,t,n){var r=Fa(e,t);return Ya(Ya({},r),{outcome:e.outcome,loser:t[e.loser],winnerList:e.winner.map((function(e){return t[e]})),paoPlayerList:e.paoPlayer.map((function(e){return null!==e?t[e]:void 0})),yakuList:e.yaku.map((function(e){return ja(e,n)})),hanList:e.han,fuList:e.fu.map((function(e){return null!==e&&void 0!==e?e:void 0})),doraList:e.dora.map((function(e){return null!==e&&void 0!==e?e:void 0}))})}(e,t,n);case"tsumo":return function(e,t,n){var r,a,o=Fa(e,t);return Ya(Ya({},o),{outcome:e.outcome,riichiPlayers:e.riichiIds.map((function(e){return t[e]})),winner:t[e.winner],paoPlayer:null!==e.paoPlayer?t[e.paoPlayer]:void 0,yakuList:ja(e.yaku,n),han:e.han,fu:null!==(r=e.fu)&&void 0!==r?r:void 0,dora:null!==(a=e.dora)&&void 0!==a?a:void 0})}(e,t,n);case"draw":return function(e,t){var n=Fa(e,t);return Ya(Ya({},n),{outcome:e.outcome,tempai:e.tempai.map((function(e){return t[e]}))})}(e,t);case"abort":return function(e,t){var n=Fa(e,t);return Ya(Ya({},n),{outcome:e.outcome})}(e,t);case"chombo":return function(e,t){var n=Fa(e,t);return Ya(Ya({},n),{outcome:e.outcome,penaltyFor:t[e.penaltyFor]})}(e,t);case"nagashi":return function(e,t){var n=Fa(e,t);return Ya(Ya({},n),{outcome:e.outcome,tempai:e.tempai.map((function(e){return t[e]})),nagashi:e.nagashi.map((function(e){return t[e]}))})}(e,t)}}var Wa=function(e){var t=e.state,n=e.dispatch,r=(0,a.useContext)(We),o=(0,a.useCallback)((function(){n({type:g})}),[n]);if(t.loading.overview)return a.createElement(ze,null);var i={},c=[],s=[],l=t.currentOtherTable?t.currentOtherTablePlayers:t.players;return!t.allRoundsOverviewErrorCode&&t.allRoundsOverview&&l&&(l.forEach((function(e){i[e.id.toString()]=e.displayName})),t.allRoundsOverview.forEach((function(e){c.push({round:Tn(e.round),scores:e.scores,scoresDelta:e.scoresDelta}),s.push(Va(e,i,r))}))),a.createElement(Ba,{players:i,results:c,onBackClick:o,rounds:s})};const Za=n.p+"d264d6b14e9cdc54c38e.jpg";var Ja=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ja(t,e),t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:g})},t.prototype.render=function(){return a.createElement("div",{className:"flex-container page-donate"},a.createElement("div",{className:"flex-container__content"},a.createElement(nt,{onBackClick:this.onBackClick.bind(this)}),a.createElement("div",{className:"page-donate__meme"},a.createElement("img",{src:Za,alt:""})),a.createElement("div",{className:"page-donate__disclaimer"},"\u041f\u0430\u043d\u0442\u0435\u043e\u043d \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0430 \u0433\u043e\u043b\u043e\u043c \u044d\u043d\u0442\u0443\u0437\u0438\u0430\u0437\u043c\u0435, \u043d\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043e\u0442\u043a\u0430\u0436\u0443\u0442\u0441\u044f \u043e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 :)"),a.createElement("div",{className:"page-donate__button"},a.createElement("a",{className:"flat-btn flat-btn--large",style:{width:"100%"},href:"https://pay.cloudtips.ru/p/c9fd6eee",target:"_blank"},"\u0412\u043d\u0435\u0441\u0442\u0438 \u0441\u0432\u043e\u044e \u043a\u043e\u043f\u0435\u0435\u0447\u043a\u0443"))))},t}(a.PureComponent),qa=a.memo((function(e){var t=(0,a.useContext)(We),n=e.playerName,o=e.events,i=e.onBackClick,c=e.onSettingClick,s=e.onSelectEvent,l=e.currentEvent;return a.createElement("div",{className:"flex-container page-event-select"},a.createElement("div",{className:"flex-container__content"},a.createElement("div",{className:"top-panel top-panel--between"},o.length>0?a.createElement("div",{className:"svg-button",onClick:i},a.createElement(je,{type:r.BACK})):null,a.createElement("div",{className:"svg-button svg-button--small",onClick:c},a.createElement(je,{type:r.SETTINGS}))),a.createElement("div",{className:"page-event-select__name"},n),a.createElement("div",{className:"page-event-select__section"},o.length>0?a.createElement(a.Fragment,null,a.createElement("div",{className:"page-event-select__section-title"},t._t("Select event")),a.createElement("div",{className:"page-event-select__section-content"},o.map((function(e){return a.createElement("div",{key:e.id,className:Ve()("radio-menuitem",{"radio-menuitem--active":e.id===l}),onClick:function(){return s(e.id)}},e.title)})))):a.createElement("div",{style:{textAlign:"center"}},t._t("There is no events you participate in right now")))))})),Xa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xa(t,e),t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:g})},t.prototype.onSettingsClick=function(){(0,this.props.dispatch)({type:y})},t.prototype.onSelectEvent=function(e){(0,this.props.dispatch)({type:Se,payload:e})},t.prototype.componentDidMount=function(){(0,this.props.dispatch)({type:ve})},t.prototype.render=function(){var e=this.props.state,t=this.context,n=e.currentPlayerDisplayName||t._t("name");return e.loading.events?a.createElement(ze,null):a.createElement(qa,{playerName:n,events:e.eventsList,currentEvent:e.currentEventId,onBackClick:this.onBackClick.bind(this),onSettingClick:this.onSettingsClick.bind(this),onSelectEvent:this.onSelectEvent.bind(this)})},t.contextType=We,t}(a.PureComponent),$a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo={1:"\u67711",2:"\u67712",3:"\u67713",4:"\u67714",5:"\u53571",6:"\u53572",7:"\u53573",8:"\u53574",9:"\u897f1",10:"\u897f2",11:"\u897f3",12:"\u897f4"},to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $a(t,e),t.prototype.render=function(){var e=this.props,t=e.onTableClick,n=e.onBackClick;return a.createElement("div",{className:"page-other-tables-list"},a.createElement(nt,{onBackClick:n}),a.createElement("div",{className:"page-other-tables-list__content"},this.props.tables.map((function(e){return a.createElement("div",{key:e.hash,className:"page-other-tables-list__table",onClick:function(){return t(e.hash)}},eo[e.currentRound],e.players.map((function(e){return a.createElement("div",{key:e.id},e.displayName,": ",e.score)})))}))))},t}(a.PureComponent),no=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return no(t,e),t.prototype.onBackClick=function(){this.props.dispatch({type:g})},t.prototype.onTableClick=function(e){this.props.dispatch({type:z,payload:e})},t.prototype.render=function(){var e=this.props.state;return e.otherTablesListError?a.createElement("div",null,e.otherTablesListError.message):a.createElement(to,{tables:e.otherTablesList,onTableClick:this.onTableClick.bind(this),onBackClick:this.onBackClick.bind(this)})},t}(a.Component),ao=function(){return ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ao.apply(this,arguments)},oo=function(e){switch(e.state.currentScreen){case"login":return a.createElement(Ca,ao({},e));case"eventSelector":return a.createElement(Qa,ao({},e));case"overview":return a.createElement(Qe,ao({},e));case"settings":return a.createElement(ht,ao({},e));case"newGame":return a.createElement(vt,ao({},e));case"searchPlayer":return a.createElement(wt,ao({},e));case"currentGame":case"outcomeSelect":case"playersSelect":case"confirmation":case"nagashiSelect":case"paoSelect":case"otherTable":return a.createElement($r,ao({},e));case"handSelect":return a.createElement(Ia,ao({},e));case"lastResults":return a.createElement(Sa,ao({},e));case"gameLog":return a.createElement(Wa,ao({},e));case"otherTablesList":return a.createElement(ro,ao({},e));case"donate":return a.createElement(za,ao({},e))}return null},io=function(e){var t,n=e.state,r=e.dispatch,o=e.storage,c=e.i18nService,l=null!==(t=n.settings.currentTheme)&&void 0!==t?t:"day";(0,a.useEffect)((function(){r({type:i}),c.init((function(e){r({type:xe,payload:e})}),(function(e){return console.error(e)})),r({type:Be});var e=o.get(st.idbEventKey,"int");e&&r({type:Se,payload:e}),r({type:s,payload:{token:o.get(st.idbTokenKey,"string")||"",personId:o.get(st.idbIdKey,"int")}})}),[]);var u=new Date,d=11===u.getMonth()&&u.getDate()>20||0===u.getMonth()&&u.getDate()<10;return a.createElement("div",{id:"screen",className:"App theme-".concat(l).concat(d?" newyear":"")},a.createElement(We.Provider,{value:c},a.createElement(oo,{state:n,dispatch:r})))},co=n(173),so=function(){return so=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},so.apply(this,arguments)};function lo(e,t){var n,r,a,o,i;switch(t.type){case c:return so(so({},e),{currentScreen:"otherTable"===e.currentScreen||"otherTablesList"===e.currentScreen?e.currentScreen:"overview",currentRound:1,currentOutcome:void 0,players:void 0,mapIdToPlayer:{},riichiOnTable:0,honba:0,currentSessionHash:"",multironCurrentWinner:void 0,gameOverviewReady:!0});case l:return so(so({},e),{currentScreen:"newGame",newGameIdsToSet:t.payload});case p:return so(so({},e),{currentScreen:"eventSelector"});case u:return so(so({},e),{currentScreen:"currentGame"});case d:return so(so({},e),{currentScreen:"donate"});case m:return so(so({},e),{currentScreen:"searchPlayer",newGameSelectedPlayerSide:t.payload});case h:return so(so({},e),{currentScreen:"lastResults"});case f:return so(so({},e),{currentScreen:"gameLog"});case"SHOW_OTHER_TABLE":return so(so({},e),{currentScreen:"otherTable",currentOtherTableHash:t.payload.hash});case"SHOW_OTHER_TABLES_LIST":return so(so({},e),{currentScreen:"otherTablesList"});case y:return so(so({},e),{currentScreen:"settings"});case O:if(!e.gameConfig)return e;var s=e.currentScreen;switch(e.currentScreen){case"currentGame":case"overview":s="outcomeSelect";break;case"outcomeSelect":s="nagashi"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome)?"nagashiSelect":"playersSelect";break;case"playersSelect":switch(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome){case"ron":case"tsumo":s="handSelect";break;case"draw":case"abort":case"chombo":case"nagashi":s="confirmation"}break;case"handSelect":switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"ron":case"tsumo":s=Un(e.currentOutcome,e.gameConfig)?"paoSelect":"confirmation";break;default:s="confirmation"}break;case"paoSelect":s="confirmation";break;case"nagashiSelect":s="playersSelect";break;case"lastResults":case"gameLog":case"confirmation":s="overview"}return s===e.currentScreen?e:so(so({},e),{currentScreen:s,showAdditionalTableInfo:!1});case g:if(!e.gameConfig)return"settings"===e.currentScreen?so(so({},e),{currentScreen:"eventSelector"}):e;var v=e.currentScreen,I=e.currentOutcome;switch(e.currentScreen){case"outcomeSelect":v="currentGame",I=void 0;break;case"otherTablesList":case"newGame":case"currentGame":case"eventSelector":case"settings":case"donate":e.currentEventId&&(v="overview");break;case"searchPlayer":v="newGame";break;case"gameLog":v=e.currentSessionHash?"currentGame":"otherTable";break;case"playersSelect":"nagashi"===(null===(o=e.currentOutcome)||void 0===o?void 0:o.selectedOutcome)?v="nagashiSelect":(v="outcomeSelect",I=void 0);break;case"handSelect":v="playersSelect";break;case"confirmation":switch(null===(i=e.currentOutcome)||void 0===i?void 0:i.selectedOutcome){case"ron":case"tsumo":v=Un(e.currentOutcome,e.gameConfig)?"paoSelect":"handSelect";break;case"draw":case"abort":case"chombo":case"nagashi":v="playersSelect"}break;case"paoSelect":v="handSelect";break;case"nagashiSelect":v="outcomeSelect";break;case"otherTable":v="otherTablesList"}return v===e.currentScreen?e:so(so({},e),{currentScreen:v,currentOutcome:I,showAdditionalTableInfo:!1});default:return e}}var uo=function(e){return function(t){return function(n){return function(r){var a=t.getState().currentPlayerId,o=t.getState().currentEventId;switch(r.type){case s:if(!r.payload.token)return void t.dispatch({type:F});!function(e,t,n,r,a,o,i){e.setCredentials(r,a),e.quickAuthorize().then((function(c){t({type:P,payload:{authToken:a,personId:r}}),function(e,t,n){n({type:B}),t.getUserInfo([e]).then((function(e){return n({type:Y,payload:e[0]})})).catch((function(e){return n({type:j,payload:e})}))}(r,e,n),o?(t({type:Se,payload:o}),po(e,n,t,r,o),i&&t({type:D,payload:i})):t({type:p})})).catch((function(){t({type:F})}))}(e,t.dispatch,n,r.payload.personId,r.payload.token,o,t.getState().currentSessionHash);break;case ve:e.getMyEvents().then((function(e){return t.dispatch({type:Ie,payload:e})})).catch((function(e){return t.dispatch({type:Ee,payload:e})}));break;case H:!function(e,t,n,r){r({type:H});var a=0,o=function(){t.authorize(e.email,e.password).then((function(e){a=0,n({type:b,payload:e})})).catch((function(e){++a<5?setTimeout(o,500):(a=0,n({type:k,payload:e}))}))};o()}(r.payload,e,t.dispatch,n);break;case P:return e.setCredentials(r.payload.personId,r.payload.authToken),n(r);case L:if(!a||!o)return;po(e,n,t.dispatch,a,o);break;case D:if(!r.payload||!o)return void t.dispatch({type:c});!function(e,t,n,r){r({type:D}),n.getGameOverview(e,t).then((function(e){return r({type:M,payload:e})})).catch((function(e){return r({type:G,payload:e})}))}(r.payload,o,e,n);break;case V:if(!o)return;!function(e,t,n){t({type:V}),e.getTablesState(n).then((function(e){return t({type:Z,payload:e})})).catch((function(e){return t({type:J,payload:e})}))}(e,n,o);break;case W:if(!o)return;!function(e,t,n){t({type:W}),e.getTablesState(n).then((function(e){return t({type:Z,payload:e})})).catch((function(e){return t({type:J,payload:e})}))}(e,n,o);break;case z:if(!o)return;!function(e,t,n,r){r({type:z,payload:e}),n.getGameOverview(e,t).then((function(e){return r({type:X,payload:e})})).catch((function(e){return r({type:Q,payload:e})}))}(r.payload,o,e,n);break;case q:if(!o)return;!function(e,t,n,r){r({type:q}),n.getGameOverview(e,t).then((function(e){return r({type:X,payload:e})})).catch((function(e){return r({type:Q,payload:e})}))}(t.getState().currentOtherTableHash||"",o,e,n);break;case"GET_OTHER_TABLE_LAST_ROUND_INIT":n(r);break;case $:!function(e,t,n){n({type:$}),t.getAllRounds(e).then((function(e){return n({type:ee,payload:e})})).catch((function(e){return n({type:te,payload:e})}))}(r.payload,e,n);break;case ae:!function(e,t,n){n({type:ae}),t.getChangesOverview(e).then((function(e){return n({type:oe,payload:e})})).catch((function(e){return n({type:ie,payload:e})}))}(r.payload,e,n);break;case ce:if(!a||!o)return;!function(e,t,n,r){t({type:ce}),e.getLastResults(n,r).then((function(e){return t({type:se,payload:e})})).catch((function(e){return t({type:le,payload:e})}))}(e,n,a,o);break;case ue:if(!o)return;!function(e,t,n){t({type:ue}),e.getAllPlayers(n).then((function(e){return t({type:de,payload:e})})).catch((function(e){return t({type:pe,payload:e})}))}(e,n,o);break;case me:if(!o)return;!function(e,t,n,r,a){n({type:me}),t.startGame(a,e).then((function(e){r({type:he,payload:e}),r({type:c}),r({type:Se,payload:a}),r({type:L}),r({type:u})})).catch((function(e){return n({type:fe,payload:e})}))}(r.payload,e,n,t.dispatch,o);break;case ye:!function(e,t,n,r){n({type:ye}),t.addRound(e).then((function(t){t||n({type:ge,payload:{code:500,message:"Server error occurred while saving the game"}}),n({type:Oe,payload:t}),t._isFinished||r({type:D,payload:e.currentSessionHash})})).catch((function(e){return n({type:ge,payload:e})}))}(r.payload,e,n,t.dispatch);break;default:return n(r)}}}}};function po(e,t,n,r,a){t({type:L});var o=[e.getCurrentGames(r,a),e.getGameConfig(a),e.getTimerState(a)];Promise.all(o).then((function(e){var r=e[0],a=e[1],o=e[2];t({type:K,payload:{games:r,gameConfig:a,timerState:o}}),r.length>0&&n({type:D,payload:r[0].hashcode}),n({type:ne,payload:{waiting:o.waitingForTimer,secondsRemaining:o.timeRemaining,autostartSecondsRemaining:o.autostartTimer,haveAutostart:o.haveAutostart}})})).catch((function(e){401===e.code?n({type:F}):t({type:x,payload:e})}))}var mo=function(){function e(e,t){this._errcode=parseInt(t,10),this._message="[REMOTE]: "+e}return Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._errcode},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[REMOTE ERROR] code:"+this.code+", message: "+this.message},e}(),ho=function(){return ho=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ho.apply(this,arguments)},fo=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function yo(e){return{tableIndex:e.table_index,players:fo([],e.players.map((function(t){return{tenhouId:"",ratingDelta:0,id:t.id,displayName:t.title,score:e.state.scores[t.id]||0,penalties:e.state.penalties[t.id]||0}})),!0),currentRound:e.state.round,riichiOnTable:e.state.riichi,honba:e.state.honba,yellowZoneAlreadyPlayed:e.state.yellowZoneAlreadyPlayed}}function Oo(e){return{started:!!e.started,finished:!!e.finished,timeRemaining:e.time_remaining?parseInt(e.time_remaining.toString(),10):0,waitingForTimer:!!e.waiting_for_timer,haveAutostart:!!e.have_autostart,autostartTimer:e.autostart_timer?parseInt(e.autostart_timer.toString(),10):0}}function go(e){return e.map((function(e){return{id:parseInt(e.id.toString(),10),displayName:e.title,tenhouId:e.tenhou_id}}))}function vo(e){return e?e.map((function(e){return{id:parseInt(e.id.toString(),10),displayName:e.title,tenhouId:"",score:e.score,ratingDelta:e.rating_delta,penalties:0}})):[]}function Io(e){return e.filter((function(e){return!e.isOnline})).map((function(e){return{id:parseInt(e.id.toString(),10),description:e.description,title:e.title}}))}function Eo(e){return{yakuWithPao:(e.yakuWithPao||[]).map((function(e){return parseInt(e.toString(),10)})),allowedYaku:(e.allowedYaku||[]).map((function(e){return parseInt(e.toString(),10)})),startPoints:parseInt(e.startPoints.toString(),10),withKazoe:!!e.withKazoe,withKiriageMangan:!!e.withKiriageMangan,withAbortives:!!e.withAbortives,withNagashiMangan:!!e.withNagashiMangan,eventTitle:e.eventTitle,withAtamahane:!!e.withAtamahane,autoSeating:!!e.autoSeating,isPrescripted:!!e.isPrescripted,rulesetTitle:e.rulesetTitle,eventStatHost:st.guiFix(e.eventStatHost),tonpuusen:!!e.tonpuusen,startRating:parseInt(e.startRating.toString(),10),riichiGoesToWinner:!!e.riichiGoesToWinner,extraChomboPayments:!!e.extraChomboPayments,chomboPenalty:parseInt(e.chomboPenalty.toString(),10),withKuitan:!!e.withKuitan,withButtobi:!!e.withButtobi,withMultiYakumans:!!e.withMultiYakumans,gameExpirationTime:parseInt(e.gameExpirationTime.toString(),10),withLeadingDealerGameOver:!!e.withLeadingDealerGameOver,redZone:e.redZone?parseInt(e.redZone.toString(),10):null,yellowZone:e.yellowZone?parseInt(e.yellowZone.toString(),10):null,timerPolicy:"yellowZone"===e.timerPolicy||"redZone"===e.timerPolicy?e.timerPolicy:"none",useTimer:!!e.useTimer,isOnline:!!e.isOnline,isTextlog:!!e.isTextlog,syncStart:!!e.syncStart,sortByGames:!!e.sortByGames,allowPlayerAppend:!!e.allowPlayerAppend}}function So(e){var t=function(e){return{id:parseInt(e.id.toString(),10),displayName:e.title,score:e.score,penalties:0}};return e.map((function(e){return{hashcode:e.hashcode,tableIndex:e.table_index,status:e.status,players:[t(e.players[0]),t(e.players[1]),t(e.players[2]),t(e.players[3])]}}))}function No(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"ron":var n=0,r=qt(e).map((function(t){var r=n>0?"":rn(e).map((function(e){return e.id})).join(",");return n++,{riichi:r,winner_id:t.winner,pao_player_id:t.paoPlayerId,han:t.han+t.dora,fu:In(e,t.winner),dora:t.dora,uradora:t.uradora,kandora:t.kandora,kanuradora:t.kanuradora,yaku:t.yaku.filter((function(e){return e>0})).join(","),open_hand:-1!==t.yaku.indexOf(Ht.__OPENHAND)}}));return r.length>1?{round_index:e.currentRound,honba:e.honba,outcome:"multiron",loser_id:Qt(e)[0].id,multi_ron:r.length,wins:r}:ho({round_index:e.currentRound,honba:e.honba,outcome:"ron",loser_id:Qt(e)[0].id,multi_ron:null},r[0]);case"tsumo":return{round_index:e.currentRound,honba:e.honba,outcome:"tsumo",riichi:rn(e).map((function(e){return e.id})).join(","),winner_id:Xt(e)[0].id,pao_player_id:($t(e)[0]||{id:null}).id,han:vn(e)+Nn(e),fu:In(e),multi_ron:null,dora:Nn(e),uradora:0,kandora:0,kanuradora:0,yaku:yn(e).filter((function(e){return e>0})).join(","),open_hand:-1!==yn(e).indexOf(Ht.__OPENHAND)};case"draw":return{round_index:e.currentRound,honba:e.honba,outcome:"draw",riichi:rn(e).map((function(e){return e.id})).join(","),tempai:Xt(e).map((function(e){return e.id})).join(",")};case"nagashi":return{round_index:e.currentRound,honba:e.honba,outcome:"nagashi",riichi:rn(e).map((function(e){return e.id})).join(","),tempai:Xt(e).map((function(e){return e.id})).join(","),nagashi:tn(e).map((function(e){return e.id})).join(",")};case"abort":return{round_index:e.currentRound,honba:e.honba,outcome:"abort",riichi:rn(e).map((function(e){return e.id})).join(",")};case"chombo":return{round_index:e.currentRound,honba:e.honba,outcome:"chombo",loser_id:Qt(e)[0].id}}}function Ao(e){return e.filter((function(e){return"inprogress"===e.status})).map((function(e){return{hash:e.hash,currentRound:parseInt(e.current_round.toString(),10),index:parseInt((e.table_index||"").toString(),10),players:e.players.map((function(t){return{id:parseInt(t.id.toString(),10),displayName:t.title,score:parseInt(e.scores[t.id].toString(),10),penalties:0}}))}}))}function To(e){return{personId:parseInt((e[0]||0).toString(),10),token:e[1]}}var _o=function(){function e(e){this.onReconnect=e,this._authToken=null,this._personId=null}return e.prototype.setCredentials=function(e,t){this._authToken=t,this._personId=(e||0).toString()},e.prototype.startGame=function(e,t){return this._jsonRpcRequest("startGame",e,t)},e.prototype.getMyEvents=function(){return this._jsonRpcRequest("getMyEvents").then(Io)},e.prototype.getGameConfig=function(e){return this._jsonRpcRequest("getGameConfig",e).then(Eo)},e.prototype.getTimerState=function(e){return this._jsonRpcRequest("getTimerState",e).then(Oo)},e.prototype.getLastResults=function(e,t){return this._jsonRpcRequest("getLastResults",e,t).then(vo)},e.prototype.getAllPlayers=function(e){return this._jsonRpcRequest("getAllPlayers",[e]).then(go)},e.prototype.getGameOverview=function(e,t){return this._jsonRpcRequest("getGameOverview",e).then(yo)},e.prototype.getCurrentGames=function(e,t){return this._jsonRpcRequest("getCurrentGames",e,t).then(So)},e.prototype.getUserInfo=function(e){return this._jsonRpcRequestFrey("getPersonalInfo",e).then(go)},e.prototype.confirmRegistration=function(e){return this._jsonRpcRequest("registerPlayer",e)},e.prototype.getChangesOverview=function(e){var t=e.currentSessionHash||"",n=No(e);return this._jsonRpcRequest("addRound",t,n,!0)},e.prototype.getLastRoundByHash=function(e){return this._jsonRpcRequest("getLastRoundByHash",e).then((function(t){return t.sessionHash=e,t}))},e.prototype.getLastRound=function(e,t){return this._jsonRpcRequest("getLastRound",e,t)},e.prototype.getAllRounds=function(e){return this._jsonRpcRequest("getAllRounds",e)},e.prototype.addRound=function(e){var t=e.currentSessionHash||"",n=No(e);return this._jsonRpcRequest("addRound",t,n,!1)},e.prototype.getTablesState=function(e){return this._jsonRpcRequest("getTablesState",e).then(Ao)},e.prototype.quickAuthorize=function(){return this._jsonRpcRequestFrey("quickAuthorize",this._personId,this._authToken)},e.prototype.authorize=function(e,t){return this._jsonRpcRequestFrey("authorize",e,t).then(To)},e.prototype._jsonRpcRequest=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new Headers;r.append("Content-Type","application/json"),r.append("X-Api-Version",st.apiVersion.map((function(e){return e.toString()})).join(".")),r.append("X-Auth-Token",this._authToken||""),r.append("X-Current-Person-Id",this._personId||"");var a={jsonrpc:"2.0",method:e,params:t,id:Math.round(1e6*Math.random())},o={method:"post",headers:r,body:JSON.stringify(a)};return fetch(st.apiUrl,o).then((function(e){return e.json()})).then((function(e){if(e.error)throw st.production||console.error(e.error.message),new mo(e.error.message,e.error.code.toString());return e.result}))},e.prototype._jsonRpcRequestFrey=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new Headers;r.append("Content-Type","application/json"),r.append("X-Api-Version",st.apiVersion.map((function(e){return e.toString()})).join(".")),r.append("X-Auth-Token",this._authToken||""),r.append("X-Current-Person-Id",this._personId||"");var a={jsonrpc:"2.0",method:e,params:t,id:Math.round(1e6*Math.random())},o={method:"post",headers:r,body:JSON.stringify(a)};return fetch(st.uaUrl,o).then((function(e){return e.json()})).then((function(e){if(e.error)throw st.production||console.error(e.error.message),new mo(e.error.message,e.error.code.toString());return e.result}))},e}(),Uo=n(558),Co=n.n(Uo),wo=[[Ht.TOITOI,2,2],[Ht.HONROTO,2,2],[Ht.SANANKOU,2,2],[Ht.SANSHOKUDOUKOU,2,2],[Ht.SANKANTSU,2,2],[Ht.SUUKANTSU,-1,-1],[Ht.SUUANKOU,-1,0],[Ht.PINFU,1,0],[Ht.IIPEIKOU,1,0],[Ht.RYANPEIKOU,3,0],[Ht.SANSHOKUDOUJUN,2,1],[Ht.ITTSU,2,1],[Ht.YAKUHAI1,1,1],[Ht.YAKUHAI2,2,2],[Ht.YAKUHAI3,3,3],[Ht.YAKUHAI4,4,4],[Ht.SHOSANGEN,2,2],[Ht.DAISANGEN,-1,-1],[Ht.SHOSUUSHII,-1,-1],[Ht.DAISUUSHII,-1,-1],[Ht.TSUUIISOU,-1,-1],[Ht.TANYAO,1,1],[Ht.CHANTA,2,1],[Ht.JUNCHAN,3,2],[Ht.CHINROTO,-1,-1],[Ht.HONITSU,3,2],[Ht.CHINITSU,6,5],[Ht.CHUURENPOUTO,-1,0],[Ht.RYUUIISOU,-1,-1],[Ht.CHIITOITSU,2,0],[Ht.KOKUSHIMUSOU,-1,0],[Ht.RIICHI,1,0],[Ht.DOUBLERIICHI,2,0],[Ht.IPPATSU,1,0],[Ht.MENZENTSUMO,1,0],[Ht.HAITEI,1,1],[Ht.RINSHANKAIHOU,1,1],[Ht.TENHOU,-1,0],[Ht.CHIHOU,-1,0],[Ht.HOUTEI,1,1],[Ht.CHANKAN,1,1],[Ht.RENHOU,5,0],[Ht.OPENRIICHI,1,0]],Ho={},bo={};function ko(e,t){return-1!==e.indexOf(Ht.CHIITOITSU)?[25]:-1!==e.indexOf(Ht.PINFU)&&-1!==e.indexOf(Ht.MENZENTSUMO)&&-1===e.indexOf(Ht.__OPENHAND)?[20]:"ron"===t&&-1===e.indexOf(Ht.__OPENHAND)?-1!==e.indexOf(Ht.PINFU)?[30]:[40,50,60,70,80,90,100,110]:[30,40,50,60,70,80,90,100,110]}function Ro(e){var t=-1!==e.indexOf(Ht.__OPENHAND);return e.reduce((function(e,n){return n===Ht.__OPENHAND?e:e+(t?Ho[n]:bo[n])}),0)}wo.forEach((function(e){0!==e[1]&&(bo[e[0]]=e[1]),0!==e[2]&&(Ho[e[0]]=e[2])}));var Po=function(){return Po=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Po.apply(this,arguments)},Lo=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function Ko(e,t,n){var r,a;switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"tsumo":return Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),t)});case"ron":if(!n)throw new Error("No winner getter provided");var o=n();if(!o)throw new Error("No winner provided");return Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),{wins:Po(Po({},e.currentOutcome.wins),(r={},r[o]=Po(Po({},e.currentOutcome.wins[o]),t),r))})});default:throw new Error("Wrong outcome modifier used")}}function xo(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"abort":case"draw":case"nagashi":return Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),t)});default:throw new Error("Wrong outcome modifier used")}}var Do=[function(e,t,n){return"tsumo"===e&&(!n.includes(Ht.RIICHI)&&!n.includes(Ht.DOUBLERIICHI)||n.includes(Ht.MENZENTSUMO)||n.push(Ht.MENZENTSUMO)),n},function(e,t,n,r){if("tsumo"===e)if(r===Ht.MENZENTSUMO)-1!==(a=n.indexOf(Ht.__OPENHAND))&&n.splice(a,1),-1===n.indexOf(Ht.MENZENTSUMO)&&n.push(Ht.__OPENHAND);else if(r===Ht.__OPENHAND){var a;-1!==(a=n.indexOf(Ht.MENZENTSUMO))&&n.splice(a,1),-1===n.indexOf(Ht.__OPENHAND)&&n.push(Ht.MENZENTSUMO)}return n}],Mo=[function(e,t,n,r,a){return r===Ht.DOUBLERIICHI&&t.winner&&a.includes(t.winner)&&n.includes(Ht.DOUBLERIICHI)&&!n.includes(Ht.RIICHI)&&n.push(Ht.RIICHI),n}];function Go(e,t,n,r,a,o){if(a){var i=zt(e.yaku);if(-1===i.indexOf(n)){-1!==Dt.indexOf(n)&&(e=Po(Po({},e),{dora:0})),i=Mo.reduce((function(r,a){return a(t,e,i,n,o)}),i),i=function(e,t,n){return e.tryAddAllowedNode(n.map((function(e){return Yt[e]})),Yt[t]).map((function(e){return e.data.id}))}(a,n,i);var c=Jt(i=Do.reduce((function(r,a){return a(t,e,i,n,o)}),i));if(e.yaku!==c){var s=e.fu,l=Ro(i),u=ko(i,t);-1!==u.indexOf(e.fu)&&n!==Ht.__OPENHAND||(s=u[0]),e=Po(Po({},e),{yaku:c,han:l,fu:s,possibleFu:u})}return e}}}function Bo(e,t,n,r){var a=zt(e.yaku);if(-1!==a.indexOf(n)){var o=(a=Mo.reduce((function(o,i){return i(t,e,a,n,r)}),a)).indexOf(n);-1!==o&&a.splice(o,1);var i=Jt(a=Do.reduce((function(o,i){return i(t,e,a,n,r)}),a));if(e.yaku!==i){var c=e.fu,s=Ro(a),l=ko(a,t);-1===l.indexOf(c)&&(c=l[0]),e=Po(Po({},e),{yaku:i,han:s,fu:c,possibleFu:l})}return e}}function Yo(e,t,n){return Lo(Lo(Lo([],e.slice(0,t),!0),[n],!1),e.slice(t+1),!0)}var jo={features:{wsClient:!1},currentOtherTableIndex:0,isUniversalWatcher:!1,settings:{currentLang:"en",currentTheme:"day"},timer:void 0,yakuList:void 0,currentScreen:"overview",currentSessionHash:void 0,currentOutcome:void 0,currentRound:1,currentPlayerDisplayName:void 0,currentPlayerId:void 0,players:void 0,mapIdToPlayer:{},riichiOnTable:0,honba:0,multironCurrentWinner:void 0,isLoggedIn:!1,gameConfig:void 0,tableIndex:void 0,yellowZoneAlreadyPlayed:!1,otherTablesList:[],currentOtherTable:void 0,currentOtherTableHash:void 0,currentOtherTablePlayers:[],isIos:!1,showAdditionalTableInfo:!1,currentSelectHandTab:void 0,loading:{games:!1,overview:!1,otherTables:!1,otherTable:!1,login:!1,players:!1,addRound:!1,events:!1},eventsList:[],newGameSelectedUsers:[_t,_t,_t,_t],gameOverviewReady:!1,historyInitialized:!1};function Fo(e,t){var n;switch(t){case"ron":n={selectedOutcome:"ron",roundIndex:e,loser:void 0,loserIsDealer:!1,multiRon:0,riichiBets:[],wins:{}};break;case"tsumo":n={selectedOutcome:"tsumo",roundIndex:e,winner:void 0,winnerIsDealer:!1,han:0,fu:30,possibleFu:ko([],"tsumo"),yaku:"",riichiBets:[],dora:0,openHand:!1};break;case"draw":n={selectedOutcome:"draw",roundIndex:e,riichiBets:[],tempai:[],deadhands:[]};break;case"nagashi":n={selectedOutcome:"nagashi",roundIndex:e,riichiBets:[],tempai:[],deadhands:[],nagashi:[]};break;case"abort":n={selectedOutcome:"abort",roundIndex:e,riichiBets:[],deadhands:[]};break;case"chombo":n={selectedOutcome:"chombo",roundIndex:e,loser:void 0,loserIsDealer:!1}}return n}var Vo=function(){return Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Vo.apply(this,arguments)};function Wo(e,t){var n,r,a,o,i;switch(t.type){case H:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{login:!0}),loginError:void 0});case b:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{login:!1}),currentPlayerId:t.payload.personId||void 0,isLoggedIn:!0,currentScreen:"eventSelector",loginError:void 0});case k:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{login:!1}),isLoggedIn:!1,currentScreen:"login",loginError:{details:t.payload,message:t.payload.message}});case R:return Vo(Vo({},e),{currentScreen:"login",loginError:void 0});case B:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{players:!0})});case Y:return Vo(Vo({},e),{currentPlayerId:t.payload.id,currentPlayerDisplayName:t.payload.displayName,loading:Vo(Vo({},e.loading),{players:!1})});case j:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{players:!1}),getUserinfoError:{details:t.payload,message:t.payload.message}});case L:return Vo(Vo({},e),{currentOtherTable:void 0,currentOtherTablePlayers:[],currentOtherTableHash:void 0,currentOtherTableIndex:0,loading:Vo(Vo({},e.loading),{games:!0})});case K:t.payload.games[0]||(e=Vo(Vo({},e),{currentScreen:["otherTablesList","otherTable","lastResults"].includes(e.currentScreen)?e.currentScreen:"overview"}));var c={},s=void 0;if(t.payload.games[0])for(var l=0,u=s=t.payload.games[0].players;l<u.length;l++){var d=u[l];c[d.id.toString()]=d}return Vo(Vo({},e),{gameConfig:t.payload.gameConfig,currentSessionHash:t.payload.games[0]&&t.payload.games[0].hashcode,players:s,mapIdToPlayer:c,yakuList:Wt(t.payload.gameConfig.withMultiYakumans),timer:Vo(Vo({},e.timer),{secondsRemaining:t.payload.timerState.timeRemaining||0,lastUpdateSecondsRemaining:t.payload.timerState.timeRemaining||0,lastUpdateTimestamp:Math.round((new Date).getTime()/1e3),waiting:t.payload.timerState.waitingForTimer,autostartSecondsRemaining:t.payload.timerState.autostartTimer||0,autostartLastUpdateSecondsRemaining:t.payload.timerState.autostartTimer||0,autostartLastUpdateTimestamp:Math.round((new Date).getTime()/1e3)}),loading:Vo(Vo({},e.loading),{games:!1})});case x:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{games:!1}),updateCurrentGamesError:{details:t.payload,message:t.payload.message}});case ue:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{players:!0}),allPlayers:void 0,allPlayersError:void 0});case de:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{players:!1}),allPlayers:t.payload,allPlayersError:void 0});case pe:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{players:!1}),allPlayers:void 0,allPlayersError:{details:t.payload,message:t.payload.message}});case ae:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!0})});case oe:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),changesOverview:t.payload,changesOverviewError:void 0});case ie:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),changesOverview:void 0,changesOverviewError:{message:t.payload.message,details:t.payload}});case $:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!0}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:void 0});case ee:return t.payload?Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),allRoundsOverview:t.payload,allRoundsOverviewErrorCode:void 0}):Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:404});case te:return t.payload?t.payload.code:404,Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:418});case ce:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!0}),lastResults:void 0,lastResultsError:void 0});case se:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),lastResults:t.payload,lastResultsError:void 0});case le:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{overview:!1}),lastResults:void 0,lastResultsError:{details:t.payload,message:t.payload.message}});case me:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{games:!0}),newGameStartError:void 0});case he:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{games:!1}),newGameStartError:void 0});case fe:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{games:!1}),newGameStartError:{details:t.payload,message:t.payload.message}});case Te:var p=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}([].concat(e.newGameSelectedUsers||[]));return Vo(Vo({},e),{newGameSelectedUsers:p});case _e:return Vo(Vo({},e),{newGameSelectedUsers:[_t,_t,_t,_t],newGameIdsToSet:void 0});case Ue:if(!e.newGameIdsToSet)return e;var m=e.newGameIdsToSet.map((function(t){var n;return(null===(n=e.allPlayers)||void 0===n?void 0:n.find((function(e){return e.id===t})))||_t}));return Vo(Vo({},e),{newGameSelectedUsers:m,newGameIdsToSet:void 0});case Ce:return i=(null===(n=e.allPlayers)||void 0===n?void 0:n.find((function(e){return e.id===t.payload})))||_t,Vo(Vo({},e),{newGameSelectedUsers:Yo(e.newGameSelectedUsers||[],0,i)});case we:return i=(null===(r=e.allPlayers)||void 0===r?void 0:r.find((function(e){return e.id===t.payload})))||_t,Vo(Vo({},e),{newGameSelectedUsers:Yo(e.newGameSelectedUsers||[],1,i)});case He:return i=(null===(a=e.allPlayers)||void 0===a?void 0:a.find((function(e){return e.id===t.payload})))||_t,Vo(Vo({},e),{newGameSelectedUsers:Yo(e.newGameSelectedUsers||[],2,i)});case be:return i=(null===(o=e.allPlayers)||void 0===o?void 0:o.find((function(e){return e.id===t.payload})))||_t,Vo(Vo({},e),{newGameSelectedUsers:Yo(e.newGameSelectedUsers||[],3,i)});case Le:return Vo(Vo({},e),{overviewViewShift:((e.overviewViewShift||0)+1)%4});case Pe:return Vo(Vo({},e),{overviewViewShift:((e.overviewViewShift||0)+3)%4});case D:return Vo(Vo({},e),{currentOtherTable:void 0,currentOtherTablePlayers:[],currentOtherTableHash:void 0,currentOtherTableIndex:0,gameOverviewReady:!1});case M:return Vo(Vo(Vo({},e),{gameOverviewReady:!0}),t.payload);case G:return Vo(Vo({},e),{currentScreen:"login"});case V:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{otherTables:!0}),otherTablesListError:void 0});case Z:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{otherTables:!1}),otherTablesList:t.payload,currentScreen:"otherTablesList",otherTablesListError:void 0});case J:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{otherTables:!1}),currentScreen:"otherTablesList",otherTablesListError:{message:t.payload.message,details:t.payload}});case z:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{otherTable:!0}),currentOtherTable:void 0,currentOtherTableHash:t.payload,currentOtherTableIndex:0,allRoundsOverview:void 0,currentOtherTablePlayers:[],otherTableError:void 0});case X:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{otherTable:!1}),currentScreen:"otherTable",currentOtherTable:t.payload,currentOtherTableIndex:t.payload.tableIndex,currentOtherTablePlayers:t.payload.players,otherTableError:void 0});case Q:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{otherTable:!1}),currentScreen:"otherTable",currentOtherTable:void 0,currentOtherTableHash:void 0,currentOtherTableIndex:0,allRoundsOverview:void 0,currentOtherTablePlayers:[],otherTableError:{message:t.payload.message,details:t.payload}});case ye:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{addRound:!0})});case Oe:if(t.payload._isFinished){var h=Co()(jo);return Vo(Vo({},h),{eventsList:e.eventsList,currentEventId:e.currentEventId,currentScreen:"lastResults",gameConfig:e.gameConfig,currentPlayerDisplayName:e.currentPlayerDisplayName,currentPlayerId:e.currentPlayerId,isLoggedIn:e.isLoggedIn,isIos:e.isIos,yakuList:e.yakuList,isUniversalWatcher:e.isUniversalWatcher,settings:e.settings})}return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{addRound:!1}),currentOutcome:void 0,currentScreen:"currentGame"});case ge:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{addRound:!1}),changesOverviewError:{details:t.payload,message:t.payload.message}});case ve:return Vo(Vo({},e),{eventsListError:void 0,loading:Vo(Vo({},e.loading),{events:!0})});case Ie:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{events:!1}),currentOutcome:void 0,eventsList:t.payload});case Ee:return Vo(Vo({},e),{loading:Vo(Vo({},e.loading),{events:!1}),eventsListError:t.payload});case Se:return Vo(Vo({},e),{currentEventId:t.payload,currentScreen:"overview"});case Be:return Vo(Vo({},e),{historyInitialized:!0});default:return e}}var Zo=function(){return Zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Zo.apply(this,arguments)},Jo=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function zo(e,t){for(var n=[t[0],t[1],t[2],t[3]],r=1;r<e.roundIndex;r++)n=[n.pop()].concat(n);return n[0].id}function qo(e,t,n){var r,a=e;return t.forEach((function(e){var t,o,i;switch(null===(t=a.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":if(!(r=Go(a.currentOutcome,a.currentOutcome.selectedOutcome,e,null===(o=a.gameConfig)||void 0===o||o.allowedYaku,a.yakuList,a.currentOutcome.riichiBets)))return;break;case"ron":if(!n)return;if(!(r=Go(a.currentOutcome.wins[n],a.currentOutcome.selectedOutcome,e,null===(i=a.gameConfig)||void 0===i||i.allowedYaku,a.yakuList,a.currentOutcome.riichiBets)))return;break;default:return}a=Ko(a,r,(function(){return n}))})),a}function Xo(e,t){var n,r,a,o,i,c,s,l,u;switch(t.type){case Ne:return Zo(Zo({},e),{currentOutcome:Fo(e.currentRound,t.payload)});case v:return Ko(e,{dora:t.payload.count},(function(){return t.payload.winner}));case I:return Ko(e,{fu:t.payload.count},(function(){return t.payload.winner}));case E:return qo(e,[t.payload.id].concat(fn(e)),t.payload.winner);case S:switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"tsumo":return qo(e,fn(e),e.multironCurrentWinner);case"ron":var d=e;return Object.keys(e.currentOutcome.wins).forEach((function(t){d=qo(d,fn(e,parseInt(t,10)),parseInt(t,10))})),d;default:return e}case N:if(-1!==fn(e).indexOf(t.payload.id))return e;switch(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome){case"tsumo":if(!(l=Bo(e.currentOutcome,e.currentOutcome.selectedOutcome,t.payload.id,e.currentOutcome.riichiBets)))return e;break;case"ron":if(!(l=Bo(e.currentOutcome.wins[t.payload.winner],e.currentOutcome.selectedOutcome,t.payload.id,e.currentOutcome.riichiBets)))return e;break;default:return e}return Ko(e,l,(function(){return t.payload.winner}));case A:var p=e.currentOutcome;if(u=t.payload,p&&"chombo"===p.selectedOutcome)return e;var m=-1===(null===p||void 0===p?void 0:p.riichiBets.indexOf(u))?Jo(Jo([],p.riichiBets,!0),[u],!1):null===p||void 0===p?void 0:p.riichiBets.filter((function(e){return e!==u}));if("draw"===(null===p||void 0===p?void 0:p.selectedOutcome)||"nagashi"===(null===p||void 0===p?void 0:p.selectedOutcome)){if(-1===p.tempai.indexOf(u)&&-1===p.deadhands.indexOf(u))return xo(e,{tempai:Jo(Jo([],p.tempai,!0),[u],!1),riichiBets:m});if(-1!==p.riichiBets.indexOf(u)&&-1!==p.deadhands.indexOf(u))return xo(e,{deadhands:p.deadhands.filter((function(e){return e!==u})),riichiBets:p.riichiBets.filter((function(e){return e!==u}))})}return"ron"===(null===p||void 0===p?void 0:p.selectedOutcome)||"tsumo"===(null===p||void 0===p?void 0:p.selectedOutcome)?function(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"ron":case"tsumo":return Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),t)})}return e}(e,{riichiBets:m}):"draw"===(null===p||void 0===p?void 0:p.selectedOutcome)||"nagashi"===(null===p||void 0===p?void 0:p.selectedOutcome)||"abort"===(null===p||void 0===p?void 0:p.selectedOutcome)?xo(e,{riichiBets:m}):e;case T:switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"tsumo":return Ko(e,{winner:e.currentOutcome.winner===t.payload?void 0:t.payload,winnerIsDealer:void 0===e.currentOutcome.winner&&void 0!==e.players&&zo(e.currentOutcome,e.players)===t.payload});case"draw":case"nagashi":if(-1===e.currentOutcome.riichiBets.indexOf(t.payload))return-1===e.currentOutcome.tempai.indexOf(t.payload)?xo(e,{tempai:Jo(Jo([],e.currentOutcome.tempai,!0),[t.payload],!1)}):xo(e,{tempai:e.currentOutcome.tempai.filter((function(e){return e!==t.payload}))});if(-1!==e.currentOutcome.tempai.indexOf(t.payload)&&-1===e.currentOutcome.deadhands.indexOf(t.payload))return xo(e,{deadhands:Jo(Jo([],e.currentOutcome.deadhands,!0),[t.payload],!1),tempai:e.currentOutcome.tempai.filter((function(e){return e!==t.payload}))});throw Error("Tempai button cannot exist while deadhand button pressed");case"ron":return function(e,t,n,r){var a,o;if(void 0===r&&(r=!1),"ron"!==(null===(o=e.currentOutcome)||void 0===o?void 0:o.selectedOutcome))throw new Error("Wrong outcome modifier used");if(r){var i=Po({},e.currentOutcome.wins);return delete i[t],Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),{multiRon:e.currentOutcome.wins[t]?e.currentOutcome.multiRon-1:e.currentOutcome.multiRon,wins:i})})}return Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),{multiRon:e.currentOutcome.wins[t]?e.currentOutcome.multiRon:e.currentOutcome.multiRon+1,wins:Po(Po({},e.currentOutcome.wins),(a={},a[t]={winner:t,winnerIsDealer:n,han:0,fu:0,possibleFu:[],yaku:"",dora:0,openHand:!1},a))})})}(e,t.payload,void 0!==e.players&&zo(e.currentOutcome,e.players)===t.payload,!!e.currentOutcome.wins[t.payload]);default:throw new Error("No winners exist on this outcome")}case _:switch(null===(o=e.currentOutcome)||void 0===o?void 0:o.selectedOutcome){case"ron":case"chombo":return function(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"ron":case"chombo":return Po(Po({},e),{currentOutcome:Po(Po({},e.currentOutcome),t)});default:throw new Error("Wrong outcome modifier used")}}(e,{loser:e.currentOutcome.loser===t.payload?void 0:t.payload,loserIsDealer:void 0===e.currentOutcome.loser&&void 0!==e.players&&zo(e.currentOutcome,e.players)===t.payload});default:throw new Error("No losers exist on this outcome")}case U:switch(u=t.payload,null===(i=e.currentOutcome)||void 0===i?void 0:i.selectedOutcome){case"tsumo":return Ko(e,{paoPlayerId:e.currentOutcome.paoPlayerId===u?void 0:u});case"ron":return e.multironCurrentWinner?Ko(e,{paoPlayerId:e.currentOutcome.wins[e.multironCurrentWinner].paoPlayerId===u?void 0:u},(function(){return e.multironCurrentWinner})):e;default:throw new Error("No pao exist on this outcome")}case C:switch(null===(c=e.currentOutcome)||void 0===c?void 0:c.selectedOutcome){case"draw":case"nagashi":if(-1!==e.currentOutcome.riichiBets.indexOf(t.payload)){if(-1===e.currentOutcome.tempai.indexOf(t.payload)&&-1!==e.currentOutcome.deadhands.indexOf(t.payload))return xo(e,{deadhands:e.currentOutcome.deadhands.filter((function(e){return e!==t.payload})),tempai:Jo(Jo([],e.currentOutcome.tempai,!0),[t.payload],!1)});throw Error("Deadhand button cannot exist while tempai button pressed")}throw new Error("Deadhand button cannot exist without pressed riichi");default:throw new Error("No losers exist on this outcome")}case w:if("nagashi"===(null===(s=e.currentOutcome)||void 0===s?void 0:s.selectedOutcome))return-1===e.currentOutcome.nagashi.indexOf(t.payload)?xo(e,{nagashi:Jo(Jo([],e.currentOutcome.nagashi,!0),[t.payload],!1)}):xo(e,{nagashi:e.currentOutcome.nagashi.filter((function(e){return e!==t.payload}))});throw new Error("No nagashi exist on this outcome");default:return e}}var Qo=function(){return Qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Qo.apply(this,arguments)},$o=function(){function e(){this._eventId=null,this._metrikaId=null,this._metrikaId=st.metrikaId}return e.prototype.setUserId=function(e){this._metrikaId&&window.ym(this._metrikaId,"setUserID",e.toString())},e.prototype.setEventId=function(e){this._eventId=e},e.prototype.track=function(t,n,r){void 0===n&&(n={}),this._metrikaId&&window.ym(this._metrikaId,"reachGoal","TYR_MTT_"+t,Qo({eventId:(r?r.toString():(this._eventId||"").toString())||e.NOT_INITIALIZED},n))},e.NOT_INITIALIZED="not_initialized",e.APP_INIT="app_init",e.LOGOUT="logout",e.I18N_INIT="i18n_init",e.LANG_CHANGED="lang_changed",e.REMOTE_ERROR="remote_error",e.LOCAL_ERROR="local_error",e.SCREEN_ENTER="screen_enter",e.CONFIG_RECEIVED="config_received",e.UNIVERSAL_WATCHER_INITIALIZED="universal_watcher_initialized",e.LOAD_STARTED="load_started",e.LOAD_SUCCESS="load_success",e.LOAD_ERROR="load_error",e}(),ei=function(){return ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ei.apply(this,arguments)};function ti(e,t){var n,r,a,o;return t.type===re?ei(ei({},e),{timer:ei(ei({},e.timer),{waiting:t.payload.waiting,secondsRemaining:t.payload.secondsRemaining||0,autostartSecondsRemaining:t.payload.autostartSecondsRemaining||0,autostartLastUpdateSecondsRemaining:t.payload.autostartLastUpdateTimestamp?t.payload.autostartSecondsRemaining||0:(null===(n=e.timer)||void 0===n?void 0:n.autostartLastUpdateSecondsRemaining)||0,autostartLastUpdateTimestamp:t.payload.autostartLastUpdateTimestamp||(null===(r=e.timer)||void 0===r?void 0:r.autostartLastUpdateTimestamp)||0,lastUpdateTimestamp:t.payload.lastUpdateTimestamp||(null===(a=e.timer)||void 0===a?void 0:a.lastUpdateTimestamp)||0,lastUpdateSecondsRemaining:t.payload.lastUpdateTimestamp?t.payload.secondsRemaining||0:(null===(o=e.timer)||void 0===o?void 0:o.lastUpdateSecondsRemaining)||0})}):e}var ni=function(){return ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ni.apply(this,arguments)},ri=function(){return Math.round((new Date).getTime()/1e3)},ai=function(){return ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ai.apply(this,arguments)};function oi(e,t){switch(t.type){case i:return Co()(jo);case P:return ai(ai({},e),{currentPlayerId:t.payload.personId});case Ae:return ai(ai({},e),{multironCurrentWinner:t.payload.winner});case Ke:return ai(ai({},e),{settings:ai(ai({},e.settings),{currentTheme:t.payload})});case xe:return ai(ai({},e),{settings:ai(ai({},e.settings),{currentLang:t.payload})});case Me:return ai(ai({},e),{settings:ai(ai({},e.settings),{currentLang:(t.payload||e.settings).currentLang,currentTheme:(t.payload||e.settings).currentTheme})});case Ge:return ai(ai({},e),{currentSelectHandTab:t.payload});case ke:return ai(ai({},e),{overviewDiffBy:e.overviewDiffBy===t.payload?void 0:t.payload});case Re:return ai(ai({},e),{showAdditionalTableInfo:!e.showAdditionalTableInfo});default:return e}}var ii=function(){function e(){this.meta={},this.meta=this.get("__meta","object"),null===this.meta&&(this.meta={},this.set("__meta","object",{}))}return e.prototype.get=function(e,t){try{var n=localStorage.getItem(e);if(null===n)throw new Error;return"object"===t?JSON.parse(n):"int"===t?parseInt(n,10):n}catch(r){return null}},e.prototype.set=function(e,t,n){try{var r="object"===t?JSON.stringify(n):n;return this.meta[e]=!0,localStorage.setItem(e,r),"__meta"!==e&&this.updateMeta(),!0}catch(a){return!1}},e.prototype.delete=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];delete this.meta[r],localStorage.removeItem(r)}this.updateMeta()},e.prototype.clear=function(){for(var e in this.meta)this.meta.hasOwnProperty(e)&&localStorage.removeItem(e);this.meta={},this.updateMeta()},e.prototype.updateMeta=function(){return this.set("__meta","object",this.meta)},e}(),ci=function(){function e(e){this.meta={},this.cookieDomain=e,this.meta=this.get("__meta","object"),null===this.meta&&(this.meta={},this.set("__meta","object",{}))}return e.prototype.get=function(e,t){var n=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);try{return n?"object"===t?JSON.parse(n[1]):"int"===t?parseInt(n[1],10):n[1]:null}catch(r){return null}},e.prototype.set=function(e,t,n){var r=new Date;r.setTime(r.getTime()+31536e6);var a=";expires="+r.toUTCString(),o=this.cookieDomain?";domain=."+this.cookieDomain:"";return document.cookie=e+"="+("object"===t?JSON.stringify(n):n)+a+o+"; path=/","__meta"!==e&&(this.meta[e]=!0,this.updateMeta()),!0},e.prototype.delete=function(e){var t=this,n=new Date;n.setTime(n.getTime()+-864e5);var r=";expires="+n.toUTCString(),a=this.cookieDomain?";domain=."+this.cookieDomain:"";e.forEach((function(e){document.cookie=e+"="+r+a+"; path=/",delete t.meta[e]})),this.updateMeta()},e.prototype.clear=function(){this.delete(Object.keys(this.meta))},e.prototype.updateMeta=function(){return this.set("__meta","object",this.meta)},e}(),si=function(){function e(e){this.metrika=e,this.activeStorages=[],this.cookieEngine=new ci(st.cookieDomain),this.activeStorages.push(this.cookieEngine);try{if(localStorage.setItem("testStorageItem","1"),"1"!==localStorage.getItem("testStorageItem"))throw this.metrika.track($o.LOCAL_ERROR,{message:"Local storage not supported on device"}),new Error;localStorage.removeItem("testStorageItem"),this.storageEngine=new ii,this.activeStorages.push(this.storageEngine)}catch(t){this.storageEngine=this.cookieEngine}}return e.prototype.set=function(e,t,n){return this.activeStorages.reduce((function(r,a){return r&&a.set(e,t,n)}),!0)},e.prototype.get=function(e,t){var n=this.storageEngine.get(e,t),r=this.cookieEngine.get(e,t);return n===r?n:null===n?(this.storageEngine.set(e,t,r),r):(this.cookieEngine.set(e,t,n),n)},e.prototype.delete=function(e){this.activeStorages.forEach((function(t){return t.delete(e)}))},e.prototype.clear=function(){this.activeStorages.forEach((function(e){return e.clear()}))},e}(),li=function(e){return function(t){return function(t){return function(n){return window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(console.groupCollapsed("".concat(e,": ").concat(n.type)),console.log("Payload: ",n.payload),console.groupEnd()),t(n)}}}},ui=function(){function e(e){var t=this;this.timerSt={timer:void 0,autostartTimer:void 0,setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){return window.clearInterval(e)}};var n,r,a=function(e,t){return function(n,r){return"undefined"===typeof r&&e?e:t.reduce((function(e,t,n){if("undefined"===typeof t)throw new TypeError("An undefined reducer was passed in at index ".concat(n));return t(e,r)}),n||e)}}(jo,[oi,lo,Xo,Wo,ti]),o=new $o,c=new si(o),s=new _o((function(){if("currentGame"===t.store.getState().currentScreen){var e=t.store.getState().currentSessionHash;e&&t.dispatch({type:D,payload:e})}})),u=(0,co.md)(li("\u21e8 [middlewares]"),uo(s),(r=o,function(e){return function(e){return function(t){switch(t.type){case"TRACK_ARBITRARY_EVENT":r.track(t.payload[0],t.payload[1]);break;case"TRACK_SCREEN_ENTER":r.track($o.SCREEN_ENTER,{screen:t.payload});break;case H:r.track($o.LOAD_STARTED,{type:"screen-login",request:"confirmRegistration"});break;case b:r.track($o.LOAD_SUCCESS,{type:"screen-login",request:"confirmRegistration"});break;case k:r.track($o.LOAD_ERROR,{type:"state-init-login",request:"confirmRegistration",message:t.payload.toString()});break;case Y:r.setUserId(t.payload.id);break;case K:r.track($o.CONFIG_RECEIVED);break;case x:r.track($o.REMOTE_ERROR,{code:t.payload.code,message:t.payload.toString()});break;case D:r.track($o.LOAD_STARTED,{type:"game-overview"});break;case M:r.track($o.LOAD_SUCCESS,{type:"game-overview"});break;case G:r.track($o.LOAD_ERROR,{type:"game-overview",code:t.payload.code,message:t.payload.message});break;case F:r.track($o.LOGOUT,{screen:"screen-settings"});break;case ue:r.track($o.SCREEN_ENTER,{screen:"screen-new-game"});break;case de:r.track($o.LOAD_SUCCESS,{type:"screen-new-game",request:"getAllPlayers"});break;case pe:r.track($o.LOAD_ERROR,{type:"screen-new-game",request:"getAllPlayers",message:t.payload.toString()});break;case ie:r.track($o.LOAD_ERROR,{type:"screen-confirmation",code:t.payload.code,request:"getChangesOverview"});break;case fe:r.track($o.LOAD_ERROR,{type:"screen-new-game",request:"startGame",message:t.payload.toString()});break;case ae:r.track($o.SCREEN_ENTER,{screen:"screen-confirmation"});break;case ce:r.track($o.SCREEN_ENTER,{screen:"screen-last-results"});break;case $:r.track($o.SCREEN_ENTER,{screen:"screen-log"});break;case z:r.track($o.SCREEN_ENTER,{screen:"screen-other-table"});break;case V:r.track($o.SCREEN_ENTER,{screen:"screen-other-tables-list"});break;case xe:r.track($o.LANG_CHANGED,{localeName:t.payload})}return e(t)}}}),(function(e){return function(t){return function(n){return n.type===Be&&(e.getState().historyInitialized||(window.history.pushState({},"","/"),window.onpopstate=function(){e.dispatch({type:g}),window.history.pushState({},"")},t(n))),t(n)}}}),(n=this.timerSt,function(e){return function(t){return function(r){return r.type===ne&&(r.payload.waiting?(n.timer&&n.clearInterval(n.timer),n.timer=void 0,n.autostartTimer&&n.clearInterval(n.autostartTimer),n.autostartTimer=n.setInterval((function(){var a,o,i;if(null===(a=e.getState().gameConfig)||void 0===a?void 0:a.useTimer){var c=ri()-((null===(o=e.getState().timer)||void 0===o?void 0:o.autostartLastUpdateTimestamp)||0),s=((null===(i=e.getState().timer)||void 0===i?void 0:i.autostartLastUpdateSecondsRemaining)||0)-c;s<=0?(t({type:re,payload:ni(ni({},r.payload),{autostartLastUpdateTimestamp:ri(),autostartSecondsRemaining:0})}),n.autostartTimer&&n.clearInterval(n.autostartTimer),n.autostartTimer=void 0):t({type:re,payload:ni(ni({},r.payload),{autostartLastUpdateTimestamp:ri(),autostartSecondsRemaining:s})})}else n.autostartTimer&&n.clearInterval(n.autostartTimer)}),1e3),t({type:re,payload:ni(ni({},r.payload),{autostartLastUpdateTimestamp:ri()})})):(n.autostartTimer&&n.clearInterval(n.autostartTimer),n.timer&&n.clearInterval(n.timer),n.timer=n.setInterval((function(){var a,o,i,c=!e.getState().currentSessionHash,s=!(null===(a=e.getState().gameConfig)||void 0===a?void 0:a.useTimer);if(c||s)n.timer&&n.clearInterval(n.timer);else{var l=ri()-((null===(o=e.getState().timer)||void 0===o?void 0:o.lastUpdateTimestamp)||0),u=((null===(i=e.getState().timer)||void 0===i?void 0:i.lastUpdateSecondsRemaining)||0)-l;u<=0?(t({type:re,payload:ni(ni({},r.payload),{lastUpdateTimestamp:ri(),secondsRemaining:0})}),n.timer&&n.clearInterval(n.timer),n.timer=void 0):t({type:re,payload:ni(ni({},r.payload),{lastUpdateTimestamp:ri(),secondsRemaining:u})})}}),1e3),t({type:re,payload:ni(ni({},r.payload),{lastUpdateTimestamp:ri()})}))),t(r)}}}),function(e){return function(t){return function(n){return function(r){switch(r.type){case b:e.set(st.idbTokenKey,"string",r.payload.token),e.set(st.idbIdKey,"int",r.payload.personId),e.delete([st.idbEventKey]),t.dispatch({type:P,payload:{authToken:r.payload.token,personId:r.payload.personId}});break;case H:e.delete([st.idbTokenKey,st.idbIdKey]),t.dispatch({type:P,payload:{authToken:"",personId:0}});break;case F:e.delete([st.idbTokenKey,st.idbIdKey]),t.dispatch({type:P,payload:{authToken:"",personId:0}}),t.dispatch({type:k,payload:new mo("Not logged in","403")}),t.dispatch({type:R});break;case Ke:e.set(st.idbThemeKey,"string",r.payload),n(r);break;case Se:e.set(st.idbEventKey,"int",r.payload),n(r);break;case xe:e.set(st.idbLangKey,"string",r.payload),n(r);break;case De:var a={currentTheme:e.get(st.idbThemeKey,"string"),currentLang:e.get(st.idbLangKey,"string")};t.dispatch({type:Me,payload:a})}return n(r)}}}}(c),function(e){return function(t){return function(n){return function(r){switch(r.type){case E:case N:if(r.payload.id===Ht.RIICHI)return void alert(e._t("If you want to select a riichi, return back and press riichi button for the winner"));if(r.payload.id===Ht.DOUBLERIICHI){var a=t.getState().currentOutcome;if(("ron"===(null===a||void 0===a?void 0:a.selectedOutcome)||"tsumo"===(null===a||void 0===a?void 0:a.selectedOutcome))&&r.payload.winner&&-1===a.riichiBets.indexOf(r.payload.winner))return void alert(e._t("If you want to select a riichi, return back and press riichi button for the winner"))}n(r);break;default:n(r)}}}}}(e),li("\u21e8 [reducers]"),(function(e){return function(t){return function(n){var r,a;switch(n.type){case O:if("currentGame"===e.getState().currentScreen){var o=e.getState().currentSessionHash;o&&e.dispatch({type:D,payload:o}),t(n);break}switch(t({type:O}),(a=e.getState()).currentScreen){case"confirmation":e.dispatch({type:ae,payload:a});break;case"handSelect":if(a.currentOutcome&&["ron","tsumo"].includes(a.currentOutcome.selectedOutcome)){var c=Xt(a)[0].id;e.dispatch({type:Ge,payload:"yaku"}),e.dispatch({type:Ae,payload:{winner:c}}),e.dispatch({type:S}),"tsumo"===(null===(r=a.currentOutcome)||void 0===r?void 0:r.selectedOutcome)&&e.dispatch({type:E,payload:{id:Ht.MENZENTSUMO,winner:c}})}break;case"paoSelect":(s=Cn(a))&&e.dispatch({type:Ae,payload:{winner:s}})}break;case g:switch(t(n),(a=e.getState()).currentScreen){case"handSelect":e.dispatch({type:Ge,payload:"yaku"});break;case"paoSelect":var s;(s=Cn(a))&&e.dispatch({type:Ae,payload:{winner:s}})}break;case l:t(n),e.dispatch({type:ue});break;case i:t(n),e.dispatch({type:De});break;case Oe:t(n),"lastResults"===(a=e.getState()).currentScreen&&e.dispatch({type:ce});break;case h:t(n),e.dispatch({type:ce});break;case de:t(n),e.dispatch({type:Ue});break;case f:t(n);var u=(a=e.getState()).currentSessionHash||a.currentOtherTableHash;u&&e.dispatch({type:$,payload:u});break;default:return t(n)}}}})),d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||co.qC;this.store=(0,co.MT)(a,d(u))}return e.prototype.subscribe=function(e){var t=this;this.onUpdate=e,this.store.subscribe((function(){return t.onUpdate&&t.onUpdate(t.store.getState())}))},Object.defineProperty(e.prototype,"dispatch",{get:function(){return this.store.dispatch.bind(this.store)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"redux",{get:function(){return this.store},enumerable:!1,configurable:!0}),e}();function di(e){return"".concat(e,"px")}function pi(){var e=document.documentElement.style;e.setProperty("--screenWidth",di(window.screen.width)),e.setProperty("--screenHeight",di(window.screen.height))}function mi(e,t,n,r,a){var o=new XMLHttpRequest,i=st.apiUrl,c={jsonrpc:"2.0",method:"addErrorLog",params:["Tyr",(window.__debugInfo||{}).sh,(window.__debugInfo||{}).p,e+"\n@"+t+":"+n+":"+r,a&&a.stack],id:Math.round(1e6*Math.random())};o.open("POST",i,!0),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(c))}pi(),window.addEventListener("resize",pi),function(){if(!window.__errHandlerRegistered){if(window.onerror){var e=window.onerror;window.onerror=function(t,n,r,a,o){e(t,n,r,a,o),mi(t,n,r,a,o)}}else window.onerror=mi;window.__errHandlerRegistered=!0}}();var hi=new $o,fi=new si(hi),yi=new dt(fi),Oi=new ui(yi),gi=(0,o.s)(document.getElementById("tyr-root")),vi=function(e){window.__debugInfo={sh:e.currentSessionHash,p:e.currentPlayerId},gi.render(a.createElement(io,{state:e,dispatch:Oi.dispatch,storage:fi,i18nService:yi}))};Oi.subscribe(vi),vi(Oi.redux.getState())}},e=>{e.O(0,[532,736],(()=>{return t=938,e(e.s=t);var t}));e.O()}]);