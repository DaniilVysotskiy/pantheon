(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e){e.exports=JSON.parse('{"meta":{"projectIdVersion":"PROJECT VERSION","reportMsgidBugsTo":"","potCreationDate":"2021-10-27 02:29+0300","poRevisionDate":"2021-10-27 02:30+0300","languageTeam":"","language":"ru_RU","mimeVersion":"1.0","contentType":"text/plain; charset=UTF-8","contentTransferEncoding":"8bit","generatedBy":"i18n-json2po","pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);"},"items":[{"type":"plural","entry":["%1 deal left","%1 deals left"],"translations":["\u041e\u0441\u0442\u0430\u043b\u0430\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447\u0430","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447\u0438","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447"]},{"type":"single","entry":"%1 han","translation":"%1 \u0445\u0430\u043d"},{"type":"single","entry":"%1 han %2 fu","translation":"%1 \u0445\u0430\u043d, %2 \u0444\u0443"},{"type":"single","entry":"%1 \u2190 %2","translation":"%1 \u2190 %2"},{"type":"single","entry":"Abort","translation":"\u0410\u0431\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u043d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Abortive draw","translation":"\u0410\u0431\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u043d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Chankan","translation":"\u0427\u0430\u043d\u043a\u0430\u043d"},{"type":"single","entry":"Chanta","translation":"\u0427\u0430\u043d\u0442\u0430"},{"type":"single","entry":"Chiihou","translation":"\u0427\u0438\u0445\u043e"},{"type":"single","entry":"Chiitoitsu","translation":"\u0427\u0438\u0438\u0442\u043e\u0439\u0446\u0443"},{"type":"single","entry":"Chinitsu","translation":"\u0427\u0438\u043d\u0438\u0446\u0443"},{"type":"single","entry":"Chinroutou","translation":"\u0427\u0438\u043d\u0440\u043e\u0442\u043e"},{"type":"single","entry":"Chombo","translation":"\u0427\u043e\u043c\u0431\u043e"},{"type":"single","entry":"Chuuren poutou","translation":"\u0427\u0443\u0443\u0440\u0435\u043d\u043f\u043e\u0442\u043e"},{"type":"single","entry":"Current game","translation":"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"Daburu","translation":"\u0414\u0430\u0431\u0443\u0440\u0438"},{"type":"single","entry":"Daburu riichi","translation":"\u0414\u0430\u0431\u043b-\u0440\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Daisangen","translation":"\u0414\u0430\u0439\u0441\u0430\u043d\u0433\u0435\u043d"},{"type":"single","entry":"Daisuushii","translation":"\u0414\u0430\u0439\u0441\u0443\u0448\u0438"},{"type":"single","entry":"Dora","translation":"\u0414\u043e\u0440\u0430"},{"type":"single","entry":"Draw","translation":"\u041d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"E-mail is not registered in Pantheon database (%1)","translation":"E-mail \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 Pantheon (%1)"},{"type":"single","entry":"Email","translation":"Email"},{"type":"single","entry":"Event title","translation":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"},{"type":"single","entry":"Exhaustive draw","translation":"\u041d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Fu","translation":"\u0424\u0443"},{"type":"single","entry":"Game log","translation":"\u041b\u043e\u0433 \u0438\u0433\u0440\u044b"},{"type":"single","entry":"Games overview","translation":"\u041e\u0431\u0437\u043e\u0440 \u0438\u0433\u0440"},{"type":"single","entry":"Haitei","translation":"\u0425\u0430\u0439\u0442\u0435\u0439"},{"type":"single","entry":"Han from yaku","translation":"\u0425\u0430\u043d \u0438\u0437 \u044f\u043a\u0443"},{"type":"single","entry":"Honba: %1","translation":"\u0425\u043e\u043d\u0431\u0430: %1"},{"type":"single","entry":"Honitsu","translation":"\u0425\u043e\u043d\u0438\u0446\u0443"},{"type":"single","entry":"Honroutou","translation":"\u0425\u043e\u043d\u0440\u043e\u0442\u043e"},{"type":"single","entry":"Houtei","translation":"\u0425\u043e\u0442\u0435\u0439"},{"type":"single","entry":"Houtei raoyui","translation":"\u0425\u043e\u0442\u0435\u0439 \u0440\u0430\u043e\u044e\u0439"},{"type":"single","entry":"If in doubt, contact the tournament administrator for further instructions.","translation":"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u0442\u0443\u0440\u043d\u0438\u0440\u0430 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439."},{"type":"single","entry":"If you want to select a riichi, return back and press riichi button for the winner","translation":"\u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u043a\u0443 \u0440\u0438\u0438\u0447\u0438, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430\u0437\u0430\u0434 \u0438 \u043e\u0442\u043c\u0435\u0442\u044c\u0442\u0435 \u0441\u0442\u0430\u0432\u043a\u0443 \u0440\u0438\u0438\u0447\u0438 \u0434\u043b\u044f \u0432\u044b\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"},{"type":"single","entry":"Iipeikou","translation":"\u0418\u0438\u043f\u0435\u0439\u043a\u043e"},{"type":"single","entry":"Ippatsu","translation":"\u0418\u043f\u043f\u0430\u0446\u0443"},{"type":"single","entry":"Ittsu","translation":"\u0418\u0446\u0446\u0443"},{"type":"single","entry":"Junchan","translation":"\u0414\u0436\u0443\u043d\u0447\u0430\u043d"},{"type":"single","entry":"Kokushi musou","translation":"\u041a\u043e\u043a\u0443\u0448\u0438\u043c\u0443\u0441\u043e"},{"type":"single","entry":"Language","translation":"\u042f\u0437\u044b\u043a"},{"type":"single","entry":"Loading...","translation":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},{"type":"single","entry":"Log in","translation":"\u0412\u0445\u043e\u0434"},{"type":"single","entry":"Log out","translation":"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"type":"single","entry":"Login attempt has failed. Possible reasons are:","translation":"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b:"},{"type":"single","entry":"Loser","translation":"\u041f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0438\u0439"},{"type":"single","entry":"Menzentsumo","translation":"\u041c\u0435\u043d\u0437\u0435\u043d\u0446\u0443\u043c\u043e"},{"type":"single","entry":"Multiron, from %1","translation":"\u041c\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u043d \u0441 %1"},{"type":"single","entry":"Nagashi","translation":"\u041d\u0430\u0433\u0430\u0448\u0438 \u043c\u0430\u043d\u0433\u0430\u043d"},{"type":"single","entry":"Nagashi mangan","translation":"\u041d\u0430\u0433\u0430\u0448\u0438 \u043c\u0430\u043d\u0433\u0430\u043d"},{"type":"single","entry":"New game","translation":"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"No results found","translation":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"},{"type":"single","entry":"OK","translation":"\u041e\u041a"},{"type":"single","entry":"Open riichi","translation":"\u041e\u043f\u0435\u043d \u0440\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Opened hand","translation":"\u041e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0443\u043a\u0430"},{"type":"single","entry":"Other playing tables","translation":"\u0414\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u043e\u043b\u044b"},{"type":"single","entry":"Pantheon","translation":"Pantheon"},{"type":"single","entry":"Pantheon: log in","translation":"Pantheon: \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"},{"type":"single","entry":"Pao from: %1","translation":"\u041f\u0430\u043e \u0441: %1"},{"type":"single","entry":"Password","translation":"\u041f\u0430\u0440\u043e\u043b\u044c"},{"type":"single","entry":"Password check has failed","translation":"\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"},{"type":"single","entry":"Penalty","translation":"\u0428\u0442\u0440\u0430\u0444"},{"type":"single","entry":"Pinfu","translation":"\u041f\u0438\u043d-\u0444\u0443"},{"type":"single","entry":"Player name","translation":"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430"},{"type":"single","entry":"Previous game","translation":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0430"},{"type":"single","entry":"Red fives","translation":"\u0410\u043a\u0430\u0434\u043e\u0440\u044b"},{"type":"single","entry":"Renhou","translation":"\u0420\u0435\u043d\u0445\u043e"},{"type":"single","entry":"Riichi","translation":"\u0420\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Riichi bets: %1","translation":"\u0421\u0442\u0430\u0432\u043e\u043a \u0440\u0438\u0438\u0447\u0438: %1"},{"type":"single","entry":"Rinshan","translation":"\u0420\u0438\u043d\u0448\u0430\u043d"},{"type":"single","entry":"Rinshan kaihou","translation":"\u0420\u0438\u043d\u0448\u0430\u043d \u043a\u0430\u0439\u0445\u043e"},{"type":"single","entry":"Ron","translation":"\u0420\u043e\u043d"},{"type":"single","entry":"Ron, %1","translation":"\u0420\u043e\u043d, %1"},{"type":"single","entry":"Ryanpeikou","translation":"\u0420\u044f\u043d\u043f\u0435\u0439\u043a\u043e"},{"type":"single","entry":"Ryuuiisou","translation":"\u0420\u044e\u0438\u0441\u043e"},{"type":"single","entry":"Sanankou","translation":"\u0421\u0430\u043d\u0430\u043d\u043a\u043e"},{"type":"single","entry":"Sankantsu","translation":"\u0421\u0430\u043d\u043a\u0430\u043d\u0446\u0443"},{"type":"single","entry":"Sanshoku","translation":"\u0421\u0430\u043d\u0448\u043e\u043a\u0443"},{"type":"single","entry":"Sanshoku doukou","translation":"\u0421\u0430\u043d\u0448\u043e\u043a\u0443 \u0434\u043e\u043a\u043e"},{"type":"single","entry":"Select another event","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"type":"single","entry":"Select event","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"type":"single","entry":"Select pao","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0430\u043e"},{"type":"single","entry":"Select tempai","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043c\u043f\u0430\u0439"},{"type":"single","entry":"Shousangen","translation":"\u0428\u043e\u0441\u0430\u043d\u0433\u0435\u043d"},{"type":"single","entry":"Shousuushii","translation":"\u0428\u043e\u0441\u0443\u0448\u0438"},{"type":"single","entry":"Sign up","translation":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"type":"single","entry":"Statistics","translation":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},{"type":"single","entry":"Suuankou","translation":"\u0421\u0443\u0443\u0430\u043d\u043a\u043e"},{"type":"single","entry":"Suukantsu","translation":"\u0421\u0443\u0443\u043a\u0430\u043d\u0446\u0443"},{"type":"single","entry":"Table #%1","translation":"\u0421\u0442\u043e\u043b \u2116%1"},{"type":"single","entry":"Tanyao","translation":"\u0422\u0430\u043d-\u044f\u043e"},{"type":"single","entry":"Tempai: %1","translation":"\u0422\u0435\u043c\u043f\u0430\u0439: %1"},{"type":"single","entry":"Tenhou","translation":"\u0422\u0435\u043d\u0445\u043e"},{"type":"single","entry":"Theme","translation":"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435"},{"type":"single","entry":"There is no events you participate in right now","translation":"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442\u0435"},{"type":"single","entry":"Toitoi","translation":"\u0422\u043e\u0439\u0442\u043e\u0439"},{"type":"single","entry":"Tsumo","translation":"\u0426\u0443\u043c\u043e"},{"type":"single","entry":"Tsumo, %1","translation":"\u0426\u0443\u043c\u043e, %1"},{"type":"single","entry":"Tsuuiisou","translation":"\u0426\u0443\u0438\u0441\u043e"},{"type":"single","entry":"Unexpected server error","translation":"\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"},{"type":"single","entry":"Ura dora","translation":"\u0423\u0440\u0430\u0434\u043e\u0440\u0430"},{"type":"single","entry":"Winner","translation":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c"},{"type":"single","entry":"Yakuhai","translation":"\u042f\u043a\u0443\u0445\u0430\u0439"},{"type":"single","entry":"Yakuhai x1","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 1"},{"type":"single","entry":"Yakuhai x2","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 2"},{"type":"single","entry":"Yakuhai x3","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 3"},{"type":"single","entry":"Yakuhai x4","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 4"},{"type":"single","entry":"Yakuman","translation":"\u042f\u043a\u0443\u043c\u0430\u043d"},{"type":"single","entry":"dora %1","translation":"\u0434\u043e\u0440\u0430 %1"},{"type":"single","entry":"empty outcome","translation":"\u043f\u0443\u0441\u0442\u043e\u0439 \u0438\u0441\u0445\u043e\u0434"},{"type":"single","entry":"name","translation":"\u0438\u043c\u044f"},{"type":"single","entry":"register","context":"Name of registration link","translation":"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"type":"single","entry":"select player","translation":"\u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"},{"type":"single","entry":"something goes wrong, please contact your administrator","translation":"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"type":"single","entry":"type to find someone","translation":"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{"type":"single","entry":"wrong outcome for paoSelect","translation":"\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0438\u0441\u0445\u043e\u0434 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0430\u043e"},{"type":"single","entry":"x2","translation":"\u04452"},{"type":"single","entry":"x3","translation":"\u04453"},{"type":"single","entry":"x4","translation":"\u04454"},{"type":"single","entry":"yakuman","translation":"\u044f\u043a\u0443\u043c\u0430\u043d"}]}')},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3);n(21),n(22),n(23);const s="INIT_STATE",o="RESET_STATE",c="STARTUP_WITH_AUTH",l="START_NEW_GAME",u="GO_TO_CURRENT_GAME",d="GOTO_EVENT_SELECT",m="SEARCH_PLAYER",h="SHOW_LAST_RESULTS",p="SHOW_GAME_LOG",O="OPEN_SETTINGS",g="GOTO_NEXT_SCREEN",I="GOTO_PREV_SCREEN",E="SET_DORA_COUNT",N="SET_FU_COUNT",S="ADD_YAKU",y="INIT_REQUIRED_YAKU",A="REMOVE_YAKU",T="TOGGLE_RIICHI",U="TOGGLE_WINNER",f="TOGGLE_LOSER",v="TOGGLE_PAO",C="TOGGLE_DEADHAND",_="TOGGLE_NAGASHI",b="LOGIN_INIT",H="LOGIN_SUCCESS",w="LOGIN_FAIL",k="RESET_LOGIN_ERROR",R="SET_CREDENTIALS",P="UPDATE_CURRENT_GAMES_INIT",L="UPDATE_CURRENT_GAMES_SUCCESS",K="UPDATE_CURRENT_GAMES_FAIL",j="GET_GAME_OVERVIEW_INIT",x="GET_GAME_OVERVIEW_SUCCESS",D="GET_GAME_OVERVIEW_FAIL",M="FORCE_LOGOUT",G="GET_OTHER_TABLES_LIST_INIT",B="GET_OTHER_TABLES_LIST_RELOAD",Y="GET_OTHER_TABLES_LIST_SUCCESS",F="GET_OTHER_TABLES_LIST_FAIL",V="GET_OTHER_TABLE_INIT",W="GET_OTHER_TABLE_RELOAD",Z="GET_OTHER_TABLE_SUCCESS",J="GET_OTHER_TABLE_FAIL",q="GET_ALL_ROUNDS_INIT",z="GET_ALL_ROUNDS_SUCCESS",$="GET_ALL_ROUNDS_FAIL",X="SET_TIMER",Q="UPDATE_TIMER_DATA",ee="GET_CHANGES_OVERVIEW_INIT",te="GET_CHANGES_OVERVIEW_SUCCESS",ne="GET_CHANGES_OVERVIEW_FAIL",ae="GET_LAST_RESULTS_INIT",re="GET_LAST_RESULTS_SUCCESS",ie="GET_LAST_RESULTS_FAIL",se="GET_ALL_PLAYERS_INIT",oe="GET_ALL_PLAYERS_SUCCESS",ce="GET_ALL_PLAYERS_FAIL",le="START_GAME_INIT",ue="START_GAME_SUCCESS",de="START_GAME_FAIL",me="ADD_GAME_INIT",he="ADD_GAME_SUCCESS",pe="ADD_GAME_FAIL",Oe="EVENTS_GET_LIST_INIT",ge="EVENTS_GET_LIST_SUCCESS",Ie="EVENTS_GET_LIST_FAIL",Ee="SELECT_EVENT",Ne="INIT_BLANK_OUTCOME",Se="SELECT_MULTIRON_WINNER",ye="RANDOMIZE_NEWGAME_PLAYERS",Ae="SET_NEWGAME_PLAYERS",Te="SELECT_NEWGAME_PLAYER_EAST",Ue="SELECT_NEWGAME_PLAYER_SOUTH",fe="SELECT_NEWGAME_PLAYER_WEST",ve="SELECT_NEWGAME_PLAYER_NORTH",Ce="TOGGLE_OVERVIEW_DIFFBY",_e="TOGGLE_ADDITIONAL_TABLE_INFO",be="TABLE_ROTATE_COUNTERCLOCKWISE",He="TABLE_ROTATE_CLOCKWISE",we="SETTINGS_SAVE_THEME",ke="SETTINGS_SAVE_LANG",Re="UPDATE_STATE_SETTINGS",Pe="SET_STATE_SETTINGS",Le="SET_SELECT_HAND_TAB",Ke="HISTORY_INIT";n(24);const je={"arrow-left":r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}," ",r.a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}," ",r.a.createElement("polyline",{points:"15 3 6 12 15 21"})," ")),"arrow-right":r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}," ",r.a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}," ",r.a.createElement("polyline",{points:"9 3 18 12 9 21"})," ")," "),"rotate-cw":r.a.createElement("svg",{height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 0h48v48h-48z",fill:"none"}),r.a.createElement("path",{d:"M31.1 11.1l-9.1-9.1v6.14c-7.89.98-14 7.7-14 15.86s6.11 14.88 14 15.86v-4.04c-5.67-.95-10-5.88-10-11.82s4.33-10.87 10-11.82v7.82l9.1-8.9zm8.76 10.9c-.34-2.78-1.45-5.46-3.25-7.78l-2.83 2.83c1.07 1.51 1.75 3.2 2.04 4.95h4.04zm-13.86 13.81v4.05c2.78-.34 5.48-1.42 7.8-3.22l-2.87-2.87c-1.5 1.06-3.18 1.74-4.93 2.04zm7.78-4.86l2.83 2.83c1.8-2.32 2.91-5 3.25-7.78h-4.04c-.29 1.75-.97 3.44-2.04 4.95z"})),"rotate-ccw":r.a.createElement("svg",{height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 0h48v48h-48z",fill:"none"}),r.a.createElement("path",{d:"M14.22 17.05l-2.83-2.83c-1.8 2.32-2.91 5-3.25 7.78h4.04c.29-1.75.97-3.44 2.04-4.95zm-2.04 8.95h-4.04c.34 2.78 1.45 5.46 3.25 7.78l2.83-2.83c-1.07-1.51-1.75-3.2-2.04-4.95zm2.02 10.63c2.32 1.81 5.02 2.88 7.8 3.22v-4.04c-1.75-.29-3.43-.98-4.93-2.05l-2.87 2.87zm11.8-28.49v-6.14l-9.1 9.1 9.1 8.9v-7.82c5.67.95 10 5.88 10 11.82s-4.33 10.87-10 11.82v4.04c7.89-.99 14-7.7 14-15.86s-6.11-14.87-14-15.86z"})),back:r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M15.8561 4.8904L5.41614 15.1346L15.7777 25.6138",stroke:"currentColor",strokeWidth:"3.36"})," ",r.a.createElement("path",{d:"M24.0388 15H7",stroke:"currentColor",strokeWidth:"3.36"})," "),close:r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M10.1886 8.25939L13.4721 4.97639C13.9531 4.49489 13.9531 3.70689 13.4721 3.22539L13.0341 2.78789C12.5526 2.30589 11.7646 2.30589 11.2836 2.78789L8.00005 6.07089L4.71655 2.78739C4.23555 2.30589 3.44755 2.30589 2.96605 2.78739L2.52805 3.22489C2.04706 3.70639 2.04706 4.49439 2.52805 4.97589L5.81105 8.25889L2.52805 11.5424C2.04706 12.0239 2.04706 12.8114 2.52805 13.2929L2.96605 13.7309C3.44755 14.2124 4.23555 14.2124 4.71655 13.7309L8.00005 10.4479L11.2836 13.7309C11.7646 14.2124 12.5526 14.2124 13.0341 13.7309L13.4721 13.2929C13.9531 12.8114 13.9531 12.0239 13.4721 11.5424L10.1886 8.25939Z",fill:"#8491AE"})," "),home:r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M0.870483 12.6323L14.1744 2.64941L27.13 12.9722",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",r.a.createElement("path",{d:"M23.7683 10.3079L23.8204 25.2879L16.7868 25.3506L16.7476 18.0179L11.5648 18.016L11.543 25.2876L4.16272 25.2419L4.20192 10.2163",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"})," "),honba:r.a.createElement("svg",{width:"31",height:"24",viewBox:"0 0 31 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M29.8054 11.7288V11.7288C29.8054 9.32924 28.2087 7.38404 26.2391 7.38404L4.84099 7.38404C2.87135 7.38404 1.27464 9.32924 1.27464 11.7288V11.7288C1.27464 14.1283 2.87135 16.0735 4.84099 16.0735L26.2391 16.0735C28.2087 16.0735 29.8054 14.1283 29.8054 11.7288Z",stroke:"currentColor",strokeWidth:"0.775"})," ",r.a.createElement("g",{fill:"currentColor"}," ",r.a.createElement("path",{d:"M16.9996 13.2886C16.9996 12.8368 17.3658 12.4705 17.8176 12.4705C18.2694 12.4705 18.6356 12.8368 18.6356 13.2886C18.6356 13.7403 18.2694 14.1066 17.8176 14.1066C17.3658 14.1066 16.9996 13.7403 16.9996 13.2886Z"})," ",r.a.createElement("path",{d:"M17.0069 10.1978C17.0069 9.74604 17.3731 9.37979 17.8249 9.37979C18.2767 9.37979 18.6429 9.74604 18.6429 10.1978C18.6429 10.6496 18.2767 11.0159 17.8249 11.0159C17.3731 11.0159 17.0069 10.6496 17.0069 10.1978Z"})," ",r.a.createElement("path",{d:"M19.8998 13.2681C19.8998 12.8164 20.2661 12.4501 20.7179 12.4501C21.1696 12.4501 21.5359 12.8164 21.5359 13.2681C21.5359 13.7199 21.1696 14.0862 20.7179 14.0862C20.2661 14.0862 19.8998 13.7199 19.8998 13.2681Z"})," ",r.a.createElement("path",{d:"M19.9072 10.1774C19.9072 9.72562 20.2734 9.35938 20.7252 9.35938C21.177 9.35938 21.5432 9.72562 21.5432 10.1774C21.5432 10.6292 21.177 10.9954 20.7252 10.9954C20.2734 10.9954 19.9072 10.6292 19.9072 10.1774Z"})," ",r.a.createElement("path",{d:"M14.1094 13.3192C14.1094 12.8674 14.4757 12.5012 14.9275 12.5012C15.3792 12.5012 15.7455 12.8674 15.7455 13.3192C15.7455 13.771 15.3792 14.1372 14.9275 14.1372C14.4757 14.1372 14.1094 13.771 14.1094 13.3192Z"})," ",r.a.createElement("path",{d:"M14.1167 10.2285C14.1167 9.77668 14.483 9.41044 14.9348 9.41044C15.3866 9.41044 15.7528 9.77668 15.7528 10.2285C15.7528 10.6802 15.3866 11.0465 14.9348 11.0465C14.483 11.0465 14.1167 10.6802 14.1167 10.2285Z"})," ",r.a.createElement("path",{d:"M11.2193 13.3396C11.2193 12.8878 11.5855 12.5216 12.0373 12.5216C12.4891 12.5216 12.8553 12.8878 12.8553 13.3396C12.8553 13.7914 12.4891 14.1576 12.0373 14.1576C11.5855 14.1576 11.2193 13.7914 11.2193 13.3396Z"})," ",r.a.createElement("path",{d:"M11.2265 10.2489C11.2265 9.79713 11.5927 9.43088 12.0445 9.43088C12.4963 9.43088 12.8625 9.79713 12.8625 10.2489C12.8625 10.7007 12.4963 11.0669 12.0445 11.0669C11.5927 11.0669 11.2265 10.7007 11.2265 10.2489Z"})," ")," "),info:r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 28 28"}," ",r.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2 2)"}," ",r.a.createElement("circle",{cx:"12",cy:"12",r:"12",stroke:"currentColor",strokeWidth:"2"}," ")," ",r.a.createElement("path",{fill:"currentColor",d:"M11 5h2v10h-2zm0 12h2v2h-2z"})," ")," "),link:r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}," ",r.a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}," ",r.a.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"})," ",r.a.createElement("polyline",{points:"15 3 21 3 21 9"})," ",r.a.createElement("line",{x1:"10",x2:"21",y1:"14",y2:"3"})," ")," "),log:r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M24.8326 3.49072L10.5396 13.6823L24.8165 23.7408L24.8326 3.49072Z",fill:"currentColor"})," ",r.a.createElement("path",{d:"M3.88452 3.12473L7.2268 3.11865L7.2296 24.1027L3.88147 24.0963L3.88452 3.12473Z",fill:"currentColor"})," "),lose:r.a.createElement("svg",{width:"36",height:"37",viewBox:"0 0 36 37",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M20.1998 35.2166C19.5168 35.2166 18.9141 34.9688 18.3918 34.4733C17.8159 33.9108 17.4007 33.1876 17.1462 32.3036C16.8918 31.4197 16.6875 30.5726 16.5335 29.7624C16.3795 28.9521 16.1418 28.3795 15.8203 28.0447C15.1641 27.3349 14.4476 26.4778 13.6708 25.4733C12.3181 23.7188 11.4007 22.6809 10.9185 22.3595H5.41408C4.70426 22.3595 4.09823 22.1083 3.596 21.6061C3.09377 21.1039 2.84265 20.4978 2.84265 19.788V6.93088C2.84265 6.22106 3.09377 5.61503 3.596 5.1128C4.09823 4.61057 4.70426 4.35945 5.41408 4.35945H11.1998C11.4944 4.35945 12.4185 4.0916 13.9721 3.55588C15.6194 2.97999 17.0692 2.54137 18.3214 2.24003C19.5737 1.93869 20.8427 1.78802 22.1284 1.78802H24.7199C26.6083 1.78802 28.1284 2.32709 29.2802 3.40521C30.4319 4.48334 31.0011 5.9532 30.9877 7.81481C31.7913 8.84606 32.1931 10.038 32.1931 11.3907C32.1931 11.6853 32.173 11.9733 32.1328 12.2545C32.6418 13.1519 32.8962 14.1162 32.8962 15.1474C32.8962 15.6295 32.836 16.0916 32.7154 16.5336C33.3717 17.5246 33.6998 18.6161 33.6998 19.8081C33.6998 21.1876 33.1909 22.3862 32.173 23.4041C31.1552 24.422 29.9498 24.9309 28.5569 24.9309H25.0212C25.6641 26.2568 25.9855 27.5425 25.9855 28.788C25.9855 30.355 25.7511 31.6005 25.2824 32.5246C24.8136 33.4487 24.1306 34.1284 23.2333 34.5637C22.336 34.999 21.3248 35.2166 20.1998 35.2166ZM20.1998 32.6452C21.4855 32.6452 22.3427 32.3304 22.7712 31.701C23.1998 31.0715 23.4141 30.1005 23.4141 28.788C23.4141 27.9978 23.0927 26.9231 22.4498 25.5637C21.8069 24.2043 21.4855 23.1362 21.4855 22.3595H28.5569C29.2266 22.3595 29.8226 22.1016 30.3449 21.586C30.8672 21.0704 31.1284 20.4711 31.1284 19.788C31.1284 19.3193 30.9844 18.7769 30.6965 18.1608C30.4085 17.5447 30.0502 17.23 29.6217 17.2166C29.8226 16.9889 29.99 16.6708 30.1239 16.2624C30.2578 15.8539 30.3248 15.4822 30.3248 15.1474C30.3248 14.2233 29.9699 13.4264 29.2601 12.7568C29.5011 12.3282 29.6217 11.8662 29.6217 11.3706C29.6217 10.8751 29.5045 10.3829 29.2701 9.89405C29.0357 9.40521 28.7177 9.05365 28.3159 8.83936C28.3828 8.43758 28.4163 8.06258 28.4163 7.71436C28.4163 5.47776 27.1306 4.35945 24.5592 4.35945H22.1284C20.3739 4.35945 18.0837 4.84829 15.2578 5.82597C15.1909 5.85276 14.9967 5.92307 14.6752 6.03691C14.3538 6.15075 14.1161 6.23445 13.9621 6.28803C13.8081 6.3416 13.5737 6.41861 13.2589 6.51905C12.9442 6.6195 12.6898 6.69316 12.4956 6.74003C12.3014 6.78691 12.0804 6.83044 11.8326 6.87061C11.5848 6.91079 11.3739 6.93088 11.1998 6.93088H10.5569V19.788H11.1998C11.4141 19.788 11.6518 19.8483 11.913 19.9688C12.1741 20.0894 12.442 20.2702 12.7165 20.5112C12.9911 20.7523 13.2489 20.99 13.49 21.2244C13.731 21.4588 13.9989 21.7534 14.2935 22.1083C14.5882 22.4632 14.8192 22.7478 14.9866 22.9621C15.154 23.1764 15.365 23.451 15.6194 23.7858C15.8739 24.1206 16.0279 24.3215 16.0815 24.3885C16.8181 25.2992 17.3337 25.9086 17.6284 26.2166C18.1775 26.7925 18.5759 27.5257 18.8237 28.4164C19.0714 29.307 19.2757 30.1474 19.4364 30.9376C19.5971 31.7278 19.8516 32.297 20.1998 32.6452ZM5.26557 19.8494H8.5424V6.855H5.22037L5.26557 19.8494Z",fill:"currentColor"})," "),next:r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("g",{transform:"rotate(180) translate(-31 -31.9)"}," ",r.a.createElement("path",{d:"M15.8561 4.8904L5.41614 15.1346L15.7777 25.6138",stroke:"currentColor",strokeWidth:"3.36"})," ",r.a.createElement("path",{d:"M24.0388 15H7",stroke:"currentColor",strokeWidth:"3.36"})," ")," "),plus:r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M14.044 4.17188L14.0356 23.8273M4.172 14.2961L23.828 14.3843L4.172 14.2961Z",stroke:"currentColor",strokeWidth:"3.8",strokeLinecap:"round",strokeLinejoin:"round"})," "),qr:r.a.createElement("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("g",{stroke:"currentColor",strokeWidth:"30",strokeLinecap:"round",strokeLinejoin:"round"}," ",r.a.createElement("circle",{cx:"176.89153",cy:"256.38351",r:"85.77359"})," ",r.a.createElement("line",{x1:"210.54286",x2:"247.73389",y1:"287.8663",y2:"342.15714"})," ",r.a.createElement("path",{d:"m 301.94996,170.60991 h 68.27489 a 51.449201,51.449201 0 0 1 51.44919,51.44921 v 0 a 51.449201,51.449201 0 0 1 -51.44919,51.4492 h -68.27489 z"})," ",r.a.createElement("line",{x1:"301.94992",x2:"301.94992",y1:"273.48334",y2:"342.15714"})," ",r.a.createElement("line",{x1:"370.22485",x2:"411.87778",y1:"273.48334",y2:"342.15714",id:"line16"})," ",r.a.createElement("path",{d:"m 402.67972,17.084901 h 51.05036 a 41.976965,41.976965 0 0 1 41.95204,41.952048 v 51.050361"})," ",r.a.createElement("path",{d:"m 495.68212,402.67971 v 51.05037 a 41.976965,41.976965 0 0 1 -41.95204,41.95204 h -51.05036"})," ",r.a.createElement("path",{d:"M 110.08731,495.68212 H 59.03695 A 41.976965,41.976965 0 0 1 17.084901,453.73008 v -51.05037"})," ",r.a.createElement("path",{d:"M 17.084901,110.08731 V 59.036949 A 41.976965,41.976965 0 0 1 59.03695,17.084901 h 51.05036"})," ")," "),refresh:r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M13.1843 16.9414L13.1662 19.4318L13.1575 20.6396L14.3653 20.6483C19.4918 20.6855 23.7107 16.5249 23.7478 11.3975C23.7849 6.27016 19.6267 2.0489 14.5001 2.01175C9.78266 1.97757 5.8337 5.49796 5.20466 10.0553L4.91557 10.0532C5.54875 5.34048 9.63289 1.68849 14.5022 1.72377C19.7802 1.76202 24.073 6.11848 24.0348 11.3996C23.9965 16.6807 19.6411 20.9745 14.3632 20.9363L13.1554 20.9275L13.1467 22.1353L13.1286 24.6257L9.31579 20.7557L13.1843 16.9414Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2.5"})," "),repeat:r.a.createElement("svg",{height:"48",width:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{fill:"currentColor",d:"M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"})," "),"riichi-big":r.a.createElement("svg",{width:"106",height:"17",viewBox:"0 0 106 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("rect",{width:"104",height:"14",x:"1.4",y:"1.4",rx:"8",ry:"8",stroke:"currentColor",style:{fill:"var(--riichi-fill-color)"},strokeWidth:"1.4"})," ",r.a.createElement("circle",{r:"3.6",cx:"53.4",cy:"8.4",style:{fill:"var(--riichi-circle-color)"}})," "),"riichi-small":r.a.createElement("svg",{width:"31",height:"24",viewBox:"0 0 31 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M29.8054 11.7288V11.7288C29.8054 9.32926 28.2087 7.38406 26.2391 7.38406L4.84099 7.38406C2.87135 7.38406 1.27464 9.32926 1.27464 11.7288V11.7288C1.27464 14.1283 2.87135 16.0735 4.84099 16.0735L26.2391 16.0735C28.2087 16.0735 29.8054 14.1283 29.8054 11.7288Z",stroke:"currentColor",strokeWidth:"0.775"})," ",r.a.createElement("path",{d:"M14.1798 11.6742C14.1798 10.8182 14.8737 10.1242 15.7298 10.1242C16.5858 10.1242 17.2798 10.8182 17.2798 11.6742C17.2798 12.5303 16.5858 13.2242 15.7298 13.2242C14.8737 13.2242 14.1798 12.5303 14.1798 11.6742Z",fill:"currentColor"})," "),save:r.a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{d:"M5.50003 18L14.5 26.5L29.5 8.5",stroke:"currentColor",strokeWidth:"4.96"})," "),settings:r.a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}," ",r.a.createElement("path",{fill:"currentColor",d:"M26,48h-4c-1.654,0-3-1.346-3-3v-3.724c-1.28-0.37-2.512-0.881-3.681-1.527l-2.634,2.635 c-1.134,1.134-3.109,1.132-4.243,0l-2.829-2.828c-0.567-0.566-0.879-1.32-0.879-2.121s0.312-1.555,0.879-2.121l2.635-2.636 c-0.645-1.166-1.156-2.398-1.525-3.679H3c-1.654,0-3-1.346-3-3v-4c0-0.802,0.312-1.555,0.878-2.121 c0.567-0.566,1.32-0.879,2.122-0.879h3.724c0.37-1.278,0.88-2.511,1.526-3.679l-2.634-2.635c-1.17-1.17-1.17-3.072,0-4.242 l2.828-2.829c1.133-1.132,3.109-1.134,4.243,0l2.635,2.635C16.49,7.604,17.722,7.093,19,6.724V3c0-1.654,1.346-3,3-3h4 c1.654,0,3,1.346,3,3v3.724c1.28,0.37,2.512,0.881,3.678,1.525l2.635-2.635c1.134-1.132,3.109-1.134,4.243,0l2.829,2.828 c0.567,0.566,0.879,1.32,0.879,2.121s-0.312,1.555-0.879,2.121l-2.634,2.635c0.646,1.168,1.157,2.4,1.526,3.68H45 c1.654,0,3,1.346,3,3v4c0,0.802-0.312,1.555-0.878,2.121s-1.32,0.879-2.122,0.879h-3.724c-0.37,1.28-0.881,2.513-1.526,3.68 l2.634,2.635c1.17,1.17,1.17,3.072,0,4.242l-2.828,2.829c-1.134,1.133-3.109,1.133-4.243,0L32.68,39.75 c-1.168,0.646-2.401,1.156-3.679,1.526V45C29,46.654,27.655,48,26,48z M15.157,37.498c0.179,0,0.36,0.048,0.521,0.146 c1.416,0.866,2.949,1.502,4.557,1.891C20.684,39.644,21,40.045,21,40.507V45c0,0.552,0.449,1,1,1h4c0.551,0,1-0.448,1-1v-4.493 c0-0.462,0.316-0.863,0.765-0.972c1.606-0.389,3.139-1.023,4.556-1.89c0.396-0.241,0.902-0.18,1.229,0.146l3.178,3.179 c0.375,0.374,1.039,0.376,1.415,0l2.828-2.829c0.39-0.39,0.39-1.024,0-1.414l-3.179-3.179c-0.327-0.326-0.387-0.835-0.146-1.229 c0.865-1.414,1.5-2.947,1.889-4.556c0.108-0.449,0.51-0.766,0.972-0.766H45c0.267,0,0.519-0.104,0.708-0.293 C45.896,26.518,46,26.267,46,25.999v-4c0-0.552-0.449-1-1-1h-4.493c-0.462,0-0.864-0.316-0.972-0.766 c-0.388-1.607-1.023-3.14-1.889-4.556c-0.241-0.394-0.181-0.901,0.146-1.229l3.179-3.179c0.186-0.187,0.293-0.444,0.293-0.707 s-0.107-0.521-0.293-0.707l-2.829-2.828c-0.378-0.377-1.037-0.377-1.415,0l-3.179,3.179c-0.326,0.328-0.833,0.389-1.229,0.146 c-1.413-0.864-2.945-1.5-4.554-1.889C27.317,8.356,27,7.955,27,7.493V3c0-0.552-0.449-1-1-1h-4c-0.551,0-1,0.448-1,1v4.493 c0,0.462-0.316,0.863-0.765,0.972c-1.606,0.388-3.139,1.023-4.556,1.889c-0.395,0.241-0.902,0.181-1.228-0.146l-3.179-3.179 c-0.378-0.377-1.037-0.377-1.415,0L7.03,9.857c-0.39,0.39-0.39,1.024,0,1.414l3.179,3.179c0.327,0.326,0.387,0.835,0.146,1.229 c-0.866,1.416-1.501,2.949-1.889,4.555c-0.108,0.449-0.51,0.766-0.972,0.766H3c-0.267,0-0.519,0.104-0.708,0.293 C2.104,21.48,2,21.731,2,21.999v4c0,0.552,0.449,1,1,1h4.493c0.462,0,0.864,0.316,0.972,0.766 c0.389,1.608,1.024,3.141,1.889,4.555c0.241,0.394,0.181,0.901-0.146,1.229l-3.179,3.18c-0.186,0.187-0.293,0.444-0.293,0.707 s0.107,0.521,0.293,0.707l2.829,2.828c0.377,0.377,1.037,0.377,1.415,0l3.178-3.179C14.643,37.598,14.898,37.498,15.157,37.498z"})," ",r.a.createElement("path",{fill:"currentColor",d:"M24,34c-5.514,0-10-4.486-10-10s4.486-10,10-10s10,4.486,10,10S29.515,34,24,34z M24,16c-4.411,0-8,3.589-8,8 s3.589,8,8,8s8-3.589,8-8S28.412,16,24,16z"})," "),shuffle:r.a.createElement("svg",{width:"16px",height:"16px",version:"1.1",viewBox:"0 0 16 16"}," ",r.a.createElement("g",{fill:"none",fillRule:"evenodd",id:"Icons with numbers",stroke:"none",strokeWidth:"1"}," ",r.a.createElement("g",{fill:"currentColor",id:"Group",transform:"translate(-384.000000, -96.000000)"}," ",r.a.createElement("path",{d:"M393,109 L391.383673,106.844897 L392.637981,105.183975 L394,107 L396,107 L396,105 L400,108 L396,111 L396,109 Z M388.383673,102.844897 L387,101 L384,101 L384,99 L388,99 L389.637981,101.183975 Z M393.04248,99 L396,99 L396,97 L400,100 L396,103 L396,101 L394.04248,101 L388.000977,109 L384,109 L384,107 L387.000977,107 Z M393.04248,99",id:"Shape"})," ")," ")," "),win:r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792"}," ",r.a.createElement("path",{fill:"currentColor",d:"M992 0c-34 0-64 12.333-90 37-28.667 28-49.333 64-62 108-12.667 44-22.833 86.167-30.5 126.5-7.667 40.333-19.5 68.833-35.5 85.5-32.667 35.333-68.333 78-107 128-67.333 87.333-113 139-137 155H256c-35.333 0-65.5 12.5-90.5 37.5S128 732.667 128 768v640c0 35.333 12.5 65.5 37.5 90.5s55.167 37.5 90.5 37.5h288c14.667 0 60.667 13.333 138 40 82 28.667 154.167 50.5 216.5 65.5S1024 1664 1088 1664h129c94 0 169.667-26.833 227-80.5s85.667-126.833 85-219.5c40-51.333 60-110.667 60-178 0-14.667-1-29-3-43 25.333-44.667 38-92.667 38-144 0-24-3-47-9-69 32.667-49.333 49-103.667 49-163 0-68.667-25.333-128.333-76-179s-110.667-76-180-76h-176c32-66 48-130 48-192 0-78-11.667-140-35-186s-57.333-79.833-102-101.5S1048 0 992 0zm0 128c64 0 106.667 15.667 128 47s32 79.667 32 145c0 39.333-16 92.833-48 160.5s-48 120.833-48 159.5h352c33.333 0 63 12.833 89 38.5s39 55.5 39 89.5c0 23.333-7.167 50.333-21.5 81s-32.167 46.333-53.5 47c10 11.333 18.333 27.167 25 47.5 6.667 20.333 10 38.833 10 55.5 0 46-17.667 85.667-53 119 12 21.333 18 44.333 18 69s-5.833 49.167-17.5 73.5-27.5 41.833-47.5 52.5c3.333 20 5 38.667 5 56 0 111.333-64 167-192 167h-121c-87.333 0-201.333-24.333-342-73-3.333-1.333-13-4.833-29-10.5s-27.833-9.833-35.5-12.5c-7.667-2.667-19.333-6.5-35-11.5-15.667-5-28.333-8.667-38-11-9.667-2.333-20.667-4.5-33-6.5-12.333-2-22.833-3-31.5-3h-32V768h32c10.667 0 22.5-3 35.5-9s26.333-15 40-27c13.667-12 26.5-23.833 38.5-35.5 12-11.667 25.333-26.333 40-44 14.667-17.667 26.167-31.833 34.5-42.5 8.333-10.667 18.833-24.333 31.5-41 12.667-16.667 20.333-26.667 23-30 36.667-45.333 62.333-75.667 77-91 27.333-28.667 47.167-65.167 59.5-109.5C935.833 294.167 946 252.333 954 213s20.667-67.667 38-85zM248.607 764.947h163.114v646.83H246.357l2.25-646.83z"})," ")},xe=r.a.memo((function({type:e,svgProps:t}){const n=je[e];return r.a.cloneElement(n,t)}));var De;!function(e){e.ARROW_LEFT="arrow-left",e.ARROW_RIGHT="arrow-right",e.ROTATE_CW="rotate-cw",e.ROTATE_CCW="rotate-ccw",e.BACK="back",e.CLOSE="close",e.HOME="home",e.HONBA="honba",e.INFO="info",e.LINK="link",e.LOG="log",e.LOSE="lose",e.NEXT="next",e.PLUS="plus",e.QR="qr",e.REFRESH="refresh",e.REPEAT="repeat",e.RIICHI_BIG="riichi-big",e.RIICHI_SMALL="riichi-small",e.SAVE="save",e.SETTINGS="settings",e.SHUFFLE="shuffle",e.WIN="win"}(De||(De={}));var Me=n(1),Ge=n.n(Me);const Be=a.createContext(null),Ye=a.memo((function(e){const t=Object(a.useContext)(Be),{eventName:n,canStartGame:r,hasStartedGame:i,hasPrevGame:s,canSeeOtherTables:o,hasStat:c,onSettingClick:l,onRefreshClick:u,onOtherTablesClick:d,onPrevGameClick:m,onNewGameClick:h,onCurrentGameClick:p,onStatClick:O}=e;return a.createElement("div",{className:"page-home"},a.createElement("div",{className:"top-panel top-panel--between"},a.createElement("div",{className:"svg-button svg-button--small",onClick:u},a.createElement(xe,{type:De.REFRESH})),a.createElement("div",{className:"svg-button svg-button--small",onClick:l},a.createElement(xe,{type:De.SETTINGS}))),a.createElement("div",{className:"page-home__title"},n),a.createElement("div",{className:"page-home__bottom"},a.createElement(Fe,{caption:t._t("New game"),isVisible:r,isActive:!0,iconType:De.PLUS,onClick:h}),a.createElement(Fe,{caption:t._t("Current game"),isVisible:i,isActive:!0,onClick:p}),a.createElement(Fe,{caption:t._t("Previous game"),isVisible:s,isBordered:!r&&!i,onClick:m}),a.createElement(Fe,{caption:t._t("Other playing tables"),isVisible:o,isBordered:!r&&!i||s,onClick:d}),a.createElement(Fe,{caption:t._t("Statistics"),isVisible:c,isBordered:!r&&!i||s||o,iconType:De.LINK,isIconRight:!0,onClick:O})))})),Fe=a.memo((function(e){const{caption:t,isVisible:n,isActive:r,isBordered:i,iconType:s,isIconRight:o,onClick:c}=e;return n?a.createElement("div",{className:Ge()("page-home__button",{"page-home__button--active":r,"page-home__button--bordered":i}),onClick:c},a.createElement("div",{className:"page-home__button-content"},s&&a.createElement("div",{className:Ge()("icon",{"icon--right":o})},a.createElement(xe,{type:s})),t)):null}));n(25);function Ve(){return a.createElement("div",{className:"inline-preloader"})}const We=e=>e.loading.overview||e.loading.addRound||e.loading.games;class Ze extends a.PureComponent{onSettingClick(){this.props.dispatch({type:O})}onRefreshClick(){this.props.dispatch({type:P})}onOtherTablesClick(){this.props.dispatch({type:G})}onPrevGameClick(){this.props.dispatch({type:h})}onNewGameClick(){this.props.dispatch({type:l})}onCurrentGameClick(){const{dispatch:e}=this.props;e({type:P}),e({type:u})}onStatClick(){const{gameConfig:e}=this.props.state;e&&window.open(`https://${e.eventStatHost}/last/`)}componentDidMount(){if(this.props.state.currentEventId){const{dispatch:e}=this.props;e({type:P})}}render(){const{state:e}=this.props,t=this.context;if(!e.gameConfig||We(e))return a.createElement(Ve,null);const n=e.gameConfig.eventTitle||t._t("Event title");return a.createElement(Ye,{eventName:n,canStartGame:!e.gameConfig.autoSeating&&!e.isUniversalWatcher&&!e.currentSessionHash,hasStartedGame:!!e.currentSessionHash&&e.gameOverviewReady,hasPrevGame:!e.isUniversalWatcher,canSeeOtherTables:!0,hasStat:!!e.gameConfig.eventStatHost&&!e.isUniversalWatcher,onSettingClick:this.onSettingClick.bind(this),onRefreshClick:this.onRefreshClick.bind(this),onOtherTablesClick:this.onOtherTablesClick.bind(this),onPrevGameClick:this.onPrevGameClick.bind(this),onNewGameClick:this.onNewGameClick.bind(this),onCurrentGameClick:this.onCurrentGameClick.bind(this),onStatClick:this.onStatClick.bind(this)})}}Ze.contextType=Be;n(26),n(27);const Je=a.memo((function(e){const{onChange:t}=e,[n,r]=Object(a.useState)(""),i=function(e,t){const[n,r]=Object(a.useState)(e);return Object(a.useEffect)(()=>{const n=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(n)}},[e]),n}(n,500);return Object(a.useEffect)(()=>{i&&t(i)},[i]),a.createElement(qe,{onChange:e=>r(e),onClear:()=>t("")})}));class qe extends a.Component{constructor(){super(...arguments),this.state={searchValue:""}}onInputChange(e){const t=e.target.value;this.setState({searchValue:t}),this.props.onChange(t)}onClearClick(){this.setState({searchValue:""}),this.props.onClear()}render(){const{searchValue:e}=this.state,t=this.context;return a.createElement(a.Fragment,null,a.createElement("input",{value:e,placeholder:t._t("type to find someone"),onChange:this.onInputChange.bind(this)}),!!e&&a.createElement("div",{onClick:this.onClearClick.bind(this)},a.createElement(xe,{type:De.CLOSE})))}}qe.contextType=Be;const ze=a.memo((function(e){const{showSearch:t,onBackClick:n,onSearchChange:r}=e;return a.createElement("div",{className:"top-panel"},a.createElement("div",{className:"svg-button",onClick:n},a.createElement(xe,{type:De.BACK})),t&&r&&a.createElement("div",{className:"top-panel__search"},a.createElement(Je,{onChange:r})))})),$e=a.memo((function(e){const t=Object(a.useContext)(Be),{playerName:n,supportedLanguages:r,currentLanguage:i,supportedThemes:s,currentTheme:o,onLogout:c,onBackClick:l,onLangChange:u,onThemeSelect:d,onEventSelect:m}=e;return a.createElement("div",{className:"flex-container page-setting"},a.createElement("div",{className:"flex-container__content"},a.createElement(ze,{onBackClick:l}),a.createElement("div",{className:"page-setting__name"},n),a.createElement("div",{className:"page-setting__section"},a.createElement("div",{className:"page-setting__section-title"},t._t("Language")),a.createElement("div",{className:"page-setting__section-content"},r.map(e=>a.createElement("div",{key:e,className:Ge()("radio-btn radio-btn--small",{"radio-btn--active":e===i}),onClick:()=>u(e)},e)))),a.createElement("div",{className:"page-setting__section"},a.createElement("div",{className:"page-setting__section-title"},t._t("Theme")),a.createElement("div",{className:"page-setting__section-content"},s.map(e=>a.createElement("div",{key:e.name,className:Ge()("theme",{"theme--selected":e.name===o})},a.createElement("div",{className:"theme__visual",onClick:()=>d(e.name)},a.createElement("div",{className:"theme__visual-inner",style:{backgroundColor:e.backgroundColor}},a.createElement("div",{className:"theme__secondary-color",style:{backgroundColor:e.secondaryColor}}),a.createElement("div",{className:"theme__text-color",style:{backgroundColor:e.textColor}}),a.createElement("div",{className:"theme__primary-color",style:{backgroundColor:e.primaryColor}}))),a.createElement("div",{className:"theme__name"},e.name))))),a.createElement("div",{className:"page-setting__section"},a.createElement("div",{className:"page-setting__section-content"},a.createElement("button",{onClick:()=>m()},t._t("Select another event"))))),a.createElement("div",{className:"flex-container__bottom page-setting__bottom",onClick:c},a.createElement("div",{className:"link"},t._t("Log out"))))}));var Xe=n(7),Qe=n(15);let et,tt;switch(window.location.host){case"m1.mjtop.net":et="http://api1.mjtop.net",tt=e=>e.replace(/gui\./gi,"gui1.");break;case"m2.mjtop.net":et="http://api2.mjtop.net",tt=e=>e.replace(/gui\./gi,"gui2.");break;case"m3.mjtop.net":et="http://api3.mjtop.net",tt=e=>e.replace(/gui\./gi,"gui3.");break;case"m4.mjtop.net":et="http://api4.mjtop.net",tt=e=>e.replace(/gui\./gi,"gui4.");break;default:et="https://g.riichi.top/",tt=e=>e}const nt={production:!0,apiUrl:et,uaUrl:"https://u.riichi.top/",guiUrl:"https://r.riichi.top/",idbTokenKey:"pantheon_authToken",idbIdKey:"pantheon_currentPersonId",idbEventKey:"pantheon_currentEventId",idbLangKey:"pantheon_currentLanguage",idbThemeKey:"pantheon_currentTheme",cookieDomain:".riichi.top",guiFix:tt,metrikaId:64318630,apiVersion:[1,0]},at=["en","ru"],rt={ru:Qe};const it=[{name:"day",backgroundColor:"#F4F5F7",primaryColor:"#1565C0",secondaryColor:"#B8C0D1",textColor:"#000000"},{name:"night",backgroundColor:"#282C34",primaryColor:"#1565C0",secondaryColor:"#37445C",textColor:"#E6E6E6"}];class st extends a.PureComponent{onBackClick(){const{dispatch:e}=this.props;e({type:I})}onLogout(){const{dispatch:e}=this.props;e({type:M})}onSingleDeviceModeChange(){const{dispatch:e}=this.props}onLangChange(e){const{dispatch:t}=this.props,n=this.context;t({type:ke,payload:e}),n.init(e=>{t({type:ke,payload:e})},e=>console.error(e))}onThemeSelect(e){const{dispatch:t}=this.props;t({type:we,payload:e})}onEventSelect(){const{dispatch:e}=this.props;e({type:d})}render(){const{state:e}=this.props,t=this.context,n=e.currentPlayerDisplayName||t._t("Player name");return a.createElement($e,{playerName:n,supportedLanguages:at,currentLanguage:e.settings.currentLang||"en",supportedThemes:it,currentTheme:e.settings.currentTheme||"day",singleDeviceMode:!1,onBackClick:this.onBackClick.bind(this),onLogout:this.onLogout.bind(this),onSingleDeviceModeChange:this.onSingleDeviceModeChange.bind(this),onLangChange:this.onLangChange.bind(this),onThemeSelect:this.onThemeSelect.bind(this),onEventSelect:this.onEventSelect.bind(this)})}}st.contextType=Be;n(29),n(30);class ot extends a.Component{render(){const{playerName:e,wind:t,onPlayerClick:n}=this.props,r=this.context;return a.createElement("div",{className:"player-dropdown"},a.createElement("div",{className:"player-dropdown"},t),a.createElement("div",{className:"player-dropdown__player",onClick:n},!!e&&a.createElement("div",{className:"player-dropdown__player-name"},e),!e&&a.createElement("div",{className:"player-dropdown__placeholder"},r._t("select player"))))}}ot.contextType=Be;const ct=a.memo((function(e){const{east:t,south:n,west:r,north:i,canSave:s,onBackClick:o,onShuffleClick:c,onSaveClick:l,onPlayerClick:u}=e;return a.createElement("div",{className:"page-new-game"},a.createElement(ze,{onBackClick:o}),a.createElement("div",{className:"page-new-game__inner"},a.createElement("div",{className:"page-new-game__players"},a.createElement(ot,{wind:"\u6771",playerName:t,onPlayerClick:()=>u("\u6771")}),a.createElement(ot,{wind:"\u5357",playerName:n,onPlayerClick:()=>u("\u5357")}),a.createElement(ot,{wind:"\u897f",playerName:r,onPlayerClick:()=>u("\u897f")}),a.createElement(ot,{wind:"\u5317",playerName:i,onPlayerClick:()=>u("\u5317")}),a.createElement("div",{className:"page-new-game__buttons"},a.createElement("div",{className:"flat-btn flat-btn--medium",onClick:c},a.createElement(xe,{type:De.SHUFFLE})),a.createElement("div",{className:Ge()("flat-btn flat-btn--medium",{"flat-btn--disabled":!s}),onClick:l},a.createElement(xe,{type:De.SAVE}))))))}));class lt extends a.PureComponent{onBackClick(){this.props.dispatch({type:I})}onShuffleClick(){this.props.dispatch({type:ye})}onSaveClick(){const{dispatch:e,state:t}=this.props;this.canSave&&t.newGameSelectedUsers&&e({type:le,payload:t.newGameSelectedUsers.map(e=>e.id)})}onPlayerClick(e){this.props.dispatch({type:m,payload:e})}get canSave(){const{state:e}=this.props;return!!e.newGameSelectedUsers&&e.newGameSelectedUsers.every(e=>-1!==e.id)}render(){const{state:e}=this.props;return!e.newGameSelectedUsers||4!==e.newGameSelectedUsers.length||e.loading.players?a.createElement(Ve,null):a.createElement(ct,{east:e.newGameSelectedUsers[0].displayName,south:e.newGameSelectedUsers[1].displayName,west:e.newGameSelectedUsers[2].displayName,north:e.newGameSelectedUsers[3].displayName,canSave:this.canSave,onBackClick:this.onBackClick.bind(this),onShuffleClick:this.onShuffleClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onPlayerClick:this.onPlayerClick.bind(this)})}}n(10);class ut extends a.PureComponent{constructor(e){super(e),this.state={foundUsers:e.users}}onSearchChange(e){const t=this.props.users.filter(t=>t.displayName.toLocaleLowerCase().includes(e.toLocaleLowerCase()));this.setState({foundUsers:t})}render(){const{onUserClick:e,onBackClick:t}=this.props,{foundUsers:n}=this.state;return a.createElement("div",{className:"page-search-player"},a.createElement(ze,{onBackClick:t,showSearch:!0,onSearchChange:this.onSearchChange.bind(this)}),a.createElement("div",{className:"page-search-player__content"},n.map(t=>a.createElement("div",{key:t.id,className:"page-search-player__name",onClick:()=>e(t)},t.displayName))))}}function dt(e,t,n){if(!Array.isArray(e))throw new Error("expected an array for the first argument");if(null!=t&&"boolean"!=typeof t)throw new Error("expected a number or boolean for the second argument");if(null!=n&&"boolean"!=typeof n)throw new Error("expected a number or boolean for the third argument");if(!t&&n&&e[0]!==Object(e[0]))return function(e){for(var t={},n=e.length,a=0;a<n;a++)t[e[a]]=!0;return Object.keys(t)}(e);for(var a,r,i,s=[],o=e.length,c=0;c<o;c++){var l=e[c];"number"==typeof l&&isNaN(l)&&(a=r,r=!0),(a=a||i&&i===l)||t||(a=s.indexOf(l)>-1),a?a=!1:(s.push(l),i=l)}return s}let mt=Object.assign;function ht(e,t){t||(t={});let n,a,r=t.vargs||function(e){let t=e+"",n=t.indexOf("...");return n>=0&&(n<t.indexOf(")")||t.indexOf("arguments")>=0)}(e),i=Object.create(null),s=[],o=[],c=new WeakMap,l=t.maxAge>0&&t.maxAge<1/0?function(e,n,a){return setTimeout((function(){if(a)return n.splice(e,1),void a.splice(e,1);n instanceof WeakMap?n.delete(e):delete n[e]}),t.maxAge)}:0,u=t.equals?t.equals:function(e,t){return e===t},d=t.maxArgs,m=t.serializer;return 1!==e.length||t.equals||r?n=function(){let t,n=d||arguments.length;for(t=s.length-1;t>=0;t--)if(d||s[t].length===n)for(let e=n-1;e>=0&&u(s[t][e],arguments[e]);e--)if(0===e)return o[t];return t=s.length-(t+1),!l||l(t,o,s),o[t]=e.apply(this,s[t]=arguments)}.bind(this):(n=function(t){let n=typeof t;if(!m&&("object"===n&&t||"function"===n)){let n;return c.get(t)||(!l||l(t,c),c.set(t,n=e.call(this,t)),n)}let a="number"===n||"boolean"===n||null==t?t:"string"===n?JSON.stringify(t):m(t);return i[a]||(!l||l(a,i),i[a]=e.call(this,t))}.bind(this),a=1),n.clear=function(){c=new WeakMap,i=Object.create(null),s=[],o=[]},n.keys=function(){return a?null:s.slice()},n.values=function(){return a?null:o.slice()},n.keyValues=function(){return a?{primitives:mt({},i),objects:c}:null},n}const pt={displayName:"",id:-1,tenhouId:""};const Ot=ht((function(e){var t;const n=[...e.allPlayers||[]];let a=n.findIndex(t=>t.id==e.currentPlayerId),r=n.splice(a,1);const i=n.filter(t=>e.newGameSelectedUsers&&!e.newGameSelectedUsers.map(e=>e.id).includes(t.id)).sort((e,t)=>e==t?0:e.displayName<t.displayName?-1:1);return[pt,...r.length>0&&(null===(t=e.newGameSelectedUsers)||void 0===t?void 0:t.map(e=>e.id).includes(r[0].id))?[]:r,...i]}));ht((function(e){if(!e.newGameSelectedUsers)return!1;const t=e.newGameSelectedUsers.map(e=>e.id);return-1===t.indexOf(-1)&&(!(!e.currentPlayerId||-1==t.indexOf(e.currentPlayerId))&&4==dt(t,!1,!1).length)}));class gt extends a.Component{onUserClick(e){const{dispatch:t,state:n}=this.props;if(n.newGameSelectedPlayerSide){let a="";switch(n.newGameSelectedPlayerSide){case"\u6771":a=Te;break;case"\u5357":a=Ue;break;case"\u897f":a=fe;break;case"\u5317":a=ve}t({type:a,payload:e.id})}t({type:I})}onBackClick(){this.props.dispatch({type:I})}componentDidMount(){this.props.dispatch({type:se})}render(){const{state:e}=this.props,t=Ot(e)||[];return a.createElement(ut,{users:t,onUserClick:this.onUserClick.bind(this),onBackClick:this.onBackClick.bind(this)})}}const It=ht((function(e,t,n,a,r,i,s){let o=[].concat(a),c=["\u6771","\u5357","\u897f","\u5317"];for(let p=1;p<e;p++)c=[c.pop()].concat(c);let l=0;for(;l<4+(t||0)&&o[0].id!==n;l++)o=o.slice(1).concat(o[0]),c=c.slice(1).concat(c[0]);let u=[!1,!1,!1,!1];const d=(r||[]).map(e=>parseInt(e,10));o.forEach((e,t)=>{u[t]=d.includes(e.id)});let m=[!1,!1,!1,!1];o.forEach((e,t)=>{m[t]=i===e.id});let h=[!1,!1,!1,!1];return o.forEach((e,t)=>{h[t]=s===e.id}),{players:o,seating:c,roundOffset:l,riichi:u,chombo:m,pao:h}}));function Et(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("expected both arguments to be arrays");const n=[],a=e.length;for(let r=0;r<a;r++){const a=e[r];t.indexOf(a)>-1&&-1==n.indexOf(a)&&n.push(a)}return n}var Nt;!function(e){e[e.__OPENHAND=-1]="__OPENHAND",e[e.TOITOI=1]="TOITOI",e[e.HONROTO=2]="HONROTO",e[e.SANANKOU=3]="SANANKOU",e[e.SANSHOKUDOUKOU=4]="SANSHOKUDOUKOU",e[e.SANKANTSU=5]="SANKANTSU",e[e.SUUKANTSU=6]="SUUKANTSU",e[e.SUUANKOU=7]="SUUANKOU",e[e.PINFU=8]="PINFU",e[e.IIPEIKOU=9]="IIPEIKOU",e[e.RYANPEIKOU=10]="RYANPEIKOU",e[e.SANSHOKUDOUJUN=11]="SANSHOKUDOUJUN",e[e.ITTSU=12]="ITTSU",e[e.YAKUHAI1=13]="YAKUHAI1",e[e.YAKUHAI2=14]="YAKUHAI2",e[e.YAKUHAI3=15]="YAKUHAI3",e[e.YAKUHAI4=16]="YAKUHAI4",e[e.YAKUHAI5=17]="YAKUHAI5",e[e.SHOSANGEN=18]="SHOSANGEN",e[e.DAISANGEN=19]="DAISANGEN",e[e.SHOSUUSHII=20]="SHOSUUSHII",e[e.DAISUUSHII=21]="DAISUUSHII",e[e.TSUUIISOU=22]="TSUUIISOU",e[e.TANYAO=23]="TANYAO",e[e.CHANTA=24]="CHANTA",e[e.JUNCHAN=25]="JUNCHAN",e[e.CHINROTO=26]="CHINROTO",e[e.HONITSU=27]="HONITSU",e[e.CHINITSU=28]="CHINITSU",e[e.CHUURENPOUTO=29]="CHUURENPOUTO",e[e.RYUUIISOU=30]="RYUUIISOU",e[e.CHIITOITSU=31]="CHIITOITSU",e[e.KOKUSHIMUSOU=32]="KOKUSHIMUSOU",e[e.RIICHI=33]="RIICHI",e[e.DOUBLERIICHI=34]="DOUBLERIICHI",e[e.IPPATSU=35]="IPPATSU",e[e.MENZENTSUMO=36]="MENZENTSUMO",e[e.HAITEI=37]="HAITEI",e[e.RINSHANKAIHOU=38]="RINSHANKAIHOU",e[e.TENHOU=39]="TENHOU",e[e.CHIHOU=40]="CHIHOU",e[e.HOUTEI=41]="HOUTEI",e[e.CHANKAN=42]="CHANKAN",e[e.RENHOU=43]="RENHOU",e[e.OPENRIICHI=44]="OPENRIICHI"}(Nt||(Nt={}));const St=[{id:Nt.__OPENHAND,yakuman:!1,name:e=>e._t("Opened hand"),shortName:e=>e._t("Opened hand")},{id:Nt.TOITOI,yakuman:!1,name:e=>e._t("Toitoi"),shortName:e=>e._t("Toitoi")},{id:Nt.HONROTO,yakuman:!1,name:e=>e._t("Honroutou"),shortName:e=>e._t("Honroutou")},{id:Nt.SANANKOU,yakuman:!1,name:e=>e._t("Sanankou"),shortName:e=>e._t("Sanankou")},{id:Nt.SANKANTSU,yakuman:!1,name:e=>e._t("Sankantsu"),shortName:e=>e._t("Sankantsu")},{id:Nt.SUUKANTSU,yakuman:!0,name:e=>e._t("Suukantsu"),shortName:e=>e._t("Suukantsu")},{id:Nt.SUUANKOU,yakuman:!0,name:e=>e._t("Suuankou"),shortName:e=>e._t("Suuankou")},{id:Nt.PINFU,yakuman:!1,name:e=>e._t("Pinfu"),shortName:e=>e._t("Pinfu")},{id:Nt.IIPEIKOU,yakuman:!1,name:e=>e._t("Iipeikou"),shortName:e=>e._t("Iipeikou")},{id:Nt.RYANPEIKOU,yakuman:!1,name:e=>e._t("Ryanpeikou"),shortName:e=>e._t("Ryanpeikou")},{id:Nt.SANSHOKUDOUJUN,yakuman:!1,name:e=>e._t("Sanshoku"),shortName:e=>e._t("Sanshoku")},{id:Nt.SANSHOKUDOUKOU,yakuman:!1,name:e=>e._t("Sanshoku doukou"),shortName:e=>e._t("Sanshoku doukou")},{id:Nt.ITTSU,yakuman:!1,name:e=>e._t("Ittsu"),shortName:e=>e._t("Ittsu")},{id:Nt.YAKUHAI1,yakuman:!1,name:e=>e._t("Yakuhai x1"),shortName:e=>e._t("Yakuhai")},{id:Nt.YAKUHAI2,yakuman:!1,name:e=>e._t("Yakuhai x2"),shortName:e=>e._t("x2")},{id:Nt.YAKUHAI3,yakuman:!1,name:e=>e._t("Yakuhai x3"),shortName:e=>e._t("x3")},{id:Nt.YAKUHAI4,yakuman:!1,name:e=>e._t("Yakuhai x4"),shortName:e=>e._t("x4")},{id:Nt.SHOSANGEN,yakuman:!1,name:e=>e._t("Shousangen"),shortName:e=>e._t("Shousangen")},{id:Nt.DAISANGEN,yakuman:!0,name:e=>e._t("Daisangen"),shortName:e=>e._t("Daisangen")},{id:Nt.SHOSUUSHII,yakuman:!0,name:e=>e._t("Shousuushii"),shortName:e=>e._t("Shousuushii")},{id:Nt.DAISUUSHII,yakuman:!0,name:e=>e._t("Daisuushii"),shortName:e=>e._t("Daisuushii")},{id:Nt.TSUUIISOU,yakuman:!0,name:e=>e._t("Tsuuiisou"),shortName:e=>e._t("Tsuuiisou")},{id:Nt.TANYAO,yakuman:!1,name:e=>e._t("Tanyao"),shortName:e=>e._t("Tanyao")},{id:Nt.CHANTA,yakuman:!1,name:e=>e._t("Chanta"),shortName:e=>e._t("Chanta")},{id:Nt.JUNCHAN,yakuman:!1,name:e=>e._t("Junchan"),shortName:e=>e._t("Junchan")},{id:Nt.CHINROTO,yakuman:!0,name:e=>e._t("Chinroutou"),shortName:e=>e._t("Chinroutou")},{id:Nt.HONITSU,yakuman:!1,name:e=>e._t("Honitsu"),shortName:e=>e._t("Honitsu")},{id:Nt.CHINITSU,yakuman:!1,name:e=>e._t("Chinitsu"),shortName:e=>e._t("Chinitsu")},{id:Nt.CHUURENPOUTO,yakuman:!0,name:e=>e._t("Chuuren poutou"),shortName:e=>e._t("Chuuren poutou")},{id:Nt.RYUUIISOU,yakuman:!0,name:e=>e._t("Ryuuiisou"),shortName:e=>e._t("Ryuuiisou")},{id:Nt.CHIITOITSU,yakuman:!1,name:e=>e._t("Chiitoitsu"),shortName:e=>e._t("Chiitoitsu")},{id:Nt.KOKUSHIMUSOU,yakuman:!0,name:e=>e._t("Kokushi musou"),shortName:e=>e._t("Kokushi musou")},{id:Nt.RIICHI,yakuman:!1,name:e=>e._t("Riichi"),shortName:e=>e._t("Riichi")},{id:Nt.DOUBLERIICHI,yakuman:!1,name:e=>e._t("Daburu riichi"),shortName:e=>e._t("Daburu")},{id:Nt.IPPATSU,yakuman:!1,name:e=>e._t("Ippatsu"),shortName:e=>e._t("Ippatsu")},{id:Nt.MENZENTSUMO,yakuman:!1,name:e=>e._t("Menzentsumo"),shortName:e=>e._t("Menzentsumo")},{id:Nt.HAITEI,yakuman:!1,name:e=>e._t("Haitei"),shortName:e=>e._t("Haitei")},{id:Nt.RINSHANKAIHOU,yakuman:!1,name:e=>e._t("Rinshan kaihou"),shortName:e=>e._t("Rinshan")},{id:Nt.TENHOU,yakuman:!0,name:e=>e._t("Tenhou"),shortName:e=>e._t("Tenhou")},{id:Nt.CHIHOU,yakuman:!0,name:e=>e._t("Chiihou"),shortName:e=>e._t("Chiihou")},{id:Nt.HOUTEI,yakuman:!1,name:e=>e._t("Houtei raoyui"),shortName:e=>e._t("Houtei")},{id:Nt.CHANKAN,yakuman:!1,name:e=>e._t("Chankan"),shortName:e=>e._t("Chankan")},{id:Nt.RENHOU,yakuman:!1,name:e=>e._t("Renhou"),shortName:e=>e._t("Renhou")},{id:Nt.OPENRIICHI,yakuman:!1,name:e=>e._t("Open riichi"),shortName:e=>e._t("Open riichi")}],yt={};St.forEach(e=>yt[e.id]=e);Nt.RIICHI,Nt.DOUBLERIICHI,Nt.OPENRIICHI,Nt.IPPATSU,Nt.MENZENTSUMO,Nt.CHIITOITSU,Nt.CHINITSU,Nt.TANYAO,Nt.PINFU,Nt.SANSHOKUDOUJUN,Nt.CHANTA,Nt.JUNCHAN,Nt.ITTSU,Nt.IIPEIKOU,Nt.RYANPEIKOU,Nt.SHOSANGEN,Nt.HONITSU,Nt.YAKUHAI1,Nt.YAKUHAI2,Nt.YAKUHAI3,Nt.YAKUHAI4,Nt.YAKUHAI5,Nt.TOITOI,Nt.SANKANTSU,Nt.SANANKOU,Nt.HONROTO,Nt.SANSHOKUDOUKOU,Nt.HAITEI,Nt.HOUTEI,Nt.CHANKAN,Nt.RINSHANKAIHOU,Nt.SUUKANTSU,Nt.SUUANKOU,Nt.DAISANGEN,Nt.SHOSUUSHII,Nt.DAISUUSHII,Nt.TSUUIISOU,Nt.CHINROTO,Nt.CHUURENPOUTO,Nt.RYUUIISOU,Nt.KOKUSHIMUSOU,Nt.TENHOU,Nt.CHIHOU,Nt.RENHOU;var At;!function(e){e[e.Combines=1]="Combines",e[e.Suppresses=2]="Suppresses",e[e.IsSuppressed=3]="IsSuppressed"}(At||(At={}));class Tt{constructor(){this._nodes={},this._edges={}}_edgeId(e,t){return`${e}->${t}`}addNode(e){return this._nodes[e.id.toString()]||(this._nodes[e.id.toString()]=e),this}getNodeById(e){return this._nodes[e.toString()]||null}addBiEdge(e,t,n){return this.addEdge(e,t,n),this.addEdge(t,e,n),this}addEdge(e,t,n){return this._edges[this._edgeId(e.id.toString(),t.id.toString())]=n,this}edgeExists(e,t){return void 0!==this._edges[this._edgeId(e.id.toString(),t.id.toString())]}_isClique(e){for(let t=0;t<e.length;t++)for(let n=t+1;n<e.length;n++)if(!this.edgeExists(e[t],e[n])||!this.edgeExists(e[n],e[t]))return!1;return!0}tryAddAllowedNode(e,t){let n=[t].concat(e);if(!this._isClique(n))throw new Error("Node list is not a valid clique of this graph after addition of new node");let a=[];for(let i=0;i<n.length;i++)for(let e=i+1;e<n.length;e++)switch(this._edges[this._edgeId(n[i].id.toString(),n[e].id.toString())]){case At.Suppresses:a.push(n[e]);break;case At.IsSuppressed:a.push(n[i]);break;case At.Combines:}if(0===a.length)return n;let r=[];for(let i of n)-1===a.indexOf(i)&&r.push(i);return r}getAllowedNodes(e){if(!this._isClique(e))throw new Error("Node list is not a valid clique of this graph");let t=[],n={};for(let a of e)n[a.id.toString()]=a;for(let a in this._nodes)n[this._nodes[a].id.toString()]||t.push(this._nodes[a]);return t.filter(t=>this._isClique([t].concat(e))).filter(t=>{for(let n of e)if(this._edges[this._edgeId(n.id.toString(),t.id.toString())]===At.Suppresses)return!1;return!0})}}const Ut=[Nt.TOITOI,Nt.HONROTO,Nt.SANANKOU,Nt.SANSHOKUDOUKOU,Nt.SANKANTSU,Nt.PINFU,Nt.IIPEIKOU,Nt.RYANPEIKOU,Nt.SANSHOKUDOUJUN,Nt.ITTSU,Nt.YAKUHAI1,Nt.YAKUHAI2,Nt.YAKUHAI3,Nt.YAKUHAI4,Nt.SHOSANGEN,Nt.TANYAO,Nt.CHANTA,Nt.JUNCHAN,Nt.HONITSU,Nt.CHINITSU,Nt.CHIITOITSU,Nt.RIICHI,Nt.DOUBLERIICHI,Nt.IPPATSU,Nt.MENZENTSUMO,Nt.HAITEI,Nt.RINSHANKAIHOU,Nt.HOUTEI,Nt.CHANKAN,Nt.OPENRIICHI],ft=[Nt.SUUKANTSU,Nt.SUUANKOU,Nt.DAISANGEN,Nt.SHOSUUSHII,Nt.DAISUUSHII,Nt.TSUUIISOU,Nt.CHINROTO,Nt.CHUURENPOUTO,Nt.RYUUIISOU,Nt.KOKUSHIMUSOU,Nt.TENHOU,Nt.CHIHOU,Nt.RENHOU],vt=[[Nt.HONROTO,Nt.CHANTA],[Nt.RYANPEIKOU,Nt.IIPEIKOU],[Nt.YAKUHAI2,Nt.YAKUHAI1],[Nt.YAKUHAI3,Nt.YAKUHAI2],[Nt.YAKUHAI3,Nt.YAKUHAI1],[Nt.YAKUHAI4,Nt.YAKUHAI3],[Nt.YAKUHAI4,Nt.YAKUHAI2],[Nt.YAKUHAI4,Nt.YAKUHAI1],[Nt.JUNCHAN,Nt.CHANTA],[Nt.CHINITSU,Nt.HONITSU],[Nt.CHIITOITSU,Nt.IIPEIKOU],[Nt.RYANPEIKOU,Nt.CHIITOITSU],[Nt.DOUBLERIICHI,Nt.RIICHI],[Nt.DAISUUSHII,Nt.SHOSUUSHII],[Nt.__OPENHAND,Nt.CHIITOITSU],[Nt.__OPENHAND,Nt.CHUURENPOUTO],[Nt.__OPENHAND,Nt.DOUBLERIICHI],[Nt.__OPENHAND,Nt.IIPEIKOU],[Nt.__OPENHAND,Nt.IPPATSU],[Nt.__OPENHAND,Nt.KOKUSHIMUSOU],[Nt.__OPENHAND,Nt.OPENRIICHI],[Nt.__OPENHAND,Nt.PINFU],[Nt.__OPENHAND,Nt.RIICHI],[Nt.__OPENHAND,Nt.RYANPEIKOU],[Nt.__OPENHAND,Nt.SUUANKOU]].concat(ft.map(e=>Ut.map(t=>[e,t])).reduce((e,t)=>e.concat(t))),Ct=[[Nt.__OPENHAND,Nt.TOITOI],[Nt.__OPENHAND,Nt.HONROTO],[Nt.__OPENHAND,Nt.SANANKOU],[Nt.__OPENHAND,Nt.SANSHOKUDOUKOU],[Nt.__OPENHAND,Nt.SANKANTSU],[Nt.__OPENHAND,Nt.SUUKANTSU],[Nt.__OPENHAND,Nt.SANSHOKUDOUJUN],[Nt.__OPENHAND,Nt.ITTSU],[Nt.__OPENHAND,Nt.YAKUHAI1],[Nt.__OPENHAND,Nt.YAKUHAI2],[Nt.__OPENHAND,Nt.YAKUHAI3],[Nt.__OPENHAND,Nt.YAKUHAI4],[Nt.__OPENHAND,Nt.SHOSANGEN],[Nt.__OPENHAND,Nt.DAISANGEN],[Nt.__OPENHAND,Nt.SHOSUUSHII],[Nt.__OPENHAND,Nt.DAISUUSHII],[Nt.__OPENHAND,Nt.TSUUIISOU],[Nt.__OPENHAND,Nt.TANYAO],[Nt.__OPENHAND,Nt.CHANTA],[Nt.__OPENHAND,Nt.JUNCHAN],[Nt.__OPENHAND,Nt.CHINROTO],[Nt.__OPENHAND,Nt.HONITSU],[Nt.__OPENHAND,Nt.CHINITSU],[Nt.__OPENHAND,Nt.RYUUIISOU],[Nt.__OPENHAND,Nt.HAITEI],[Nt.__OPENHAND,Nt.RINSHANKAIHOU],[Nt.__OPENHAND,Nt.HOUTEI],[Nt.__OPENHAND,Nt.CHANKAN],[Nt.__OPENHAND,Nt.MENZENTSUMO],[Nt.TOITOI,Nt.HONROTO],[Nt.TOITOI,Nt.SANANKOU],[Nt.TOITOI,Nt.SANSHOKUDOUKOU],[Nt.TOITOI,Nt.SANKANTSU],[Nt.TOITOI,Nt.YAKUHAI1],[Nt.TOITOI,Nt.YAKUHAI2],[Nt.TOITOI,Nt.YAKUHAI3],[Nt.TOITOI,Nt.YAKUHAI4],[Nt.TOITOI,Nt.SHOSANGEN],[Nt.TOITOI,Nt.TANYAO],[Nt.TOITOI,Nt.HONITSU],[Nt.TOITOI,Nt.CHINITSU],[Nt.TOITOI,Nt.RIICHI],[Nt.TOITOI,Nt.DOUBLERIICHI],[Nt.TOITOI,Nt.IPPATSU],[Nt.TOITOI,Nt.HAITEI],[Nt.TOITOI,Nt.RINSHANKAIHOU],[Nt.TOITOI,Nt.HOUTEI],[Nt.TOITOI,Nt.OPENRIICHI],[Nt.HONROTO,Nt.SANANKOU],[Nt.HONROTO,Nt.SANSHOKUDOUKOU],[Nt.HONROTO,Nt.SANKANTSU],[Nt.HONROTO,Nt.YAKUHAI1],[Nt.HONROTO,Nt.YAKUHAI2],[Nt.HONROTO,Nt.YAKUHAI3],[Nt.HONROTO,Nt.YAKUHAI4],[Nt.HONROTO,Nt.SHOSANGEN],[Nt.HONROTO,Nt.HONITSU],[Nt.HONROTO,Nt.CHIITOITSU],[Nt.HONROTO,Nt.RIICHI],[Nt.HONROTO,Nt.DOUBLERIICHI],[Nt.HONROTO,Nt.MENZENTSUMO],[Nt.HONROTO,Nt.IPPATSU],[Nt.HONROTO,Nt.HAITEI],[Nt.HONROTO,Nt.RINSHANKAIHOU],[Nt.HONROTO,Nt.HOUTEI],[Nt.HONROTO,Nt.OPENRIICHI],[Nt.SANANKOU,Nt.SANSHOKUDOUKOU],[Nt.SANANKOU,Nt.SANKANTSU],[Nt.SANANKOU,Nt.YAKUHAI1],[Nt.SANANKOU,Nt.YAKUHAI2],[Nt.SANANKOU,Nt.YAKUHAI3],[Nt.SANANKOU,Nt.YAKUHAI4],[Nt.SANANKOU,Nt.SHOSANGEN],[Nt.SANANKOU,Nt.TANYAO],[Nt.SANANKOU,Nt.HONITSU],[Nt.SANANKOU,Nt.CHINITSU],[Nt.SANANKOU,Nt.RIICHI],[Nt.SANANKOU,Nt.IPPATSU],[Nt.SANANKOU,Nt.DOUBLERIICHI],[Nt.SANANKOU,Nt.MENZENTSUMO],[Nt.SANANKOU,Nt.HAITEI],[Nt.SANANKOU,Nt.RINSHANKAIHOU],[Nt.SANANKOU,Nt.HOUTEI],[Nt.SANANKOU,Nt.CHANKAN],[Nt.SANANKOU,Nt.OPENRIICHI],[Nt.SANANKOU,Nt.CHANTA],[Nt.SANANKOU,Nt.JUNCHAN],[Nt.SANSHOKUDOUKOU,Nt.SANKANTSU],[Nt.SANSHOKUDOUKOU,Nt.YAKUHAI1],[Nt.SANSHOKUDOUKOU,Nt.YAKUHAI2],[Nt.SANSHOKUDOUKOU,Nt.TANYAO],[Nt.SANSHOKUDOUKOU,Nt.CHANTA],[Nt.SANSHOKUDOUKOU,Nt.JUNCHAN],[Nt.SANSHOKUDOUKOU,Nt.RIICHI],[Nt.SANSHOKUDOUKOU,Nt.DOUBLERIICHI],[Nt.SANSHOKUDOUKOU,Nt.IPPATSU],[Nt.SANSHOKUDOUKOU,Nt.MENZENTSUMO],[Nt.SANSHOKUDOUKOU,Nt.HAITEI],[Nt.SANSHOKUDOUKOU,Nt.RINSHANKAIHOU],[Nt.SANSHOKUDOUKOU,Nt.HOUTEI],[Nt.SANSHOKUDOUKOU,Nt.CHANKAN],[Nt.SANSHOKUDOUKOU,Nt.OPENRIICHI],[Nt.SANKANTSU,Nt.YAKUHAI1],[Nt.SANKANTSU,Nt.YAKUHAI2],[Nt.SANKANTSU,Nt.YAKUHAI3],[Nt.SANKANTSU,Nt.YAKUHAI4],[Nt.SANKANTSU,Nt.SHOSANGEN],[Nt.SANKANTSU,Nt.TANYAO],[Nt.SANKANTSU,Nt.HONITSU],[Nt.SANKANTSU,Nt.CHINITSU],[Nt.SANKANTSU,Nt.RIICHI],[Nt.SANKANTSU,Nt.DOUBLERIICHI],[Nt.SANKANTSU,Nt.IPPATSU],[Nt.SANKANTSU,Nt.MENZENTSUMO],[Nt.SANKANTSU,Nt.HAITEI],[Nt.SANKANTSU,Nt.RINSHANKAIHOU],[Nt.SANKANTSU,Nt.HOUTEI],[Nt.SANKANTSU,Nt.CHANKAN],[Nt.SANKANTSU,Nt.CHANTA],[Nt.SANKANTSU,Nt.JUNCHAN],[Nt.SANKANTSU,Nt.OPENRIICHI],[Nt.PINFU,Nt.IIPEIKOU],[Nt.PINFU,Nt.RYANPEIKOU],[Nt.PINFU,Nt.SANSHOKUDOUJUN],[Nt.PINFU,Nt.ITTSU],[Nt.PINFU,Nt.TANYAO],[Nt.PINFU,Nt.CHANTA],[Nt.PINFU,Nt.JUNCHAN],[Nt.PINFU,Nt.HONITSU],[Nt.PINFU,Nt.CHINITSU],[Nt.PINFU,Nt.RIICHI],[Nt.PINFU,Nt.DOUBLERIICHI],[Nt.PINFU,Nt.IPPATSU],[Nt.PINFU,Nt.MENZENTSUMO],[Nt.PINFU,Nt.HAITEI],[Nt.PINFU,Nt.HOUTEI],[Nt.PINFU,Nt.CHANKAN],[Nt.PINFU,Nt.OPENRIICHI],[Nt.IIPEIKOU,Nt.SANSHOKUDOUJUN],[Nt.IIPEIKOU,Nt.ITTSU],[Nt.IIPEIKOU,Nt.YAKUHAI1],[Nt.IIPEIKOU,Nt.YAKUHAI2],[Nt.IIPEIKOU,Nt.TANYAO],[Nt.IIPEIKOU,Nt.CHANTA],[Nt.IIPEIKOU,Nt.JUNCHAN],[Nt.IIPEIKOU,Nt.HONITSU],[Nt.IIPEIKOU,Nt.CHINITSU],[Nt.IIPEIKOU,Nt.RIICHI],[Nt.IIPEIKOU,Nt.DOUBLERIICHI],[Nt.IIPEIKOU,Nt.IPPATSU],[Nt.IIPEIKOU,Nt.MENZENTSUMO],[Nt.IIPEIKOU,Nt.HAITEI],[Nt.IIPEIKOU,Nt.RINSHANKAIHOU],[Nt.IIPEIKOU,Nt.HOUTEI],[Nt.IIPEIKOU,Nt.CHANKAN],[Nt.IIPEIKOU,Nt.OPENRIICHI],[Nt.IIPEIKOU,Nt.SHOSANGEN],[Nt.RYANPEIKOU,Nt.TANYAO],[Nt.RYANPEIKOU,Nt.CHANTA],[Nt.RYANPEIKOU,Nt.JUNCHAN],[Nt.RYANPEIKOU,Nt.HONITSU],[Nt.RYANPEIKOU,Nt.CHINITSU],[Nt.RYANPEIKOU,Nt.RIICHI],[Nt.RYANPEIKOU,Nt.DOUBLERIICHI],[Nt.RYANPEIKOU,Nt.IPPATSU],[Nt.RYANPEIKOU,Nt.MENZENTSUMO],[Nt.RYANPEIKOU,Nt.HAITEI],[Nt.RYANPEIKOU,Nt.HOUTEI],[Nt.RYANPEIKOU,Nt.OPENRIICHI],[Nt.SANSHOKUDOUJUN,Nt.YAKUHAI1],[Nt.SANSHOKUDOUJUN,Nt.YAKUHAI2],[Nt.SANSHOKUDOUJUN,Nt.TANYAO],[Nt.SANSHOKUDOUJUN,Nt.CHANTA],[Nt.SANSHOKUDOUJUN,Nt.JUNCHAN],[Nt.SANSHOKUDOUJUN,Nt.RIICHI],[Nt.SANSHOKUDOUJUN,Nt.DOUBLERIICHI],[Nt.SANSHOKUDOUJUN,Nt.IPPATSU],[Nt.SANSHOKUDOUJUN,Nt.MENZENTSUMO],[Nt.SANSHOKUDOUJUN,Nt.HAITEI],[Nt.SANSHOKUDOUJUN,Nt.RINSHANKAIHOU],[Nt.SANSHOKUDOUJUN,Nt.HOUTEI],[Nt.SANSHOKUDOUJUN,Nt.CHANKAN],[Nt.SANSHOKUDOUJUN,Nt.OPENRIICHI],[Nt.ITTSU,Nt.YAKUHAI1],[Nt.ITTSU,Nt.YAKUHAI2],[Nt.ITTSU,Nt.HONITSU],[Nt.ITTSU,Nt.CHINITSU],[Nt.ITTSU,Nt.RIICHI],[Nt.ITTSU,Nt.DOUBLERIICHI],[Nt.ITTSU,Nt.IPPATSU],[Nt.ITTSU,Nt.MENZENTSUMO],[Nt.ITTSU,Nt.HAITEI],[Nt.ITTSU,Nt.RINSHANKAIHOU],[Nt.ITTSU,Nt.HOUTEI],[Nt.ITTSU,Nt.CHANKAN],[Nt.ITTSU,Nt.OPENRIICHI],[Nt.YAKUHAI1,Nt.CHANTA],[Nt.YAKUHAI1,Nt.HONITSU],[Nt.YAKUHAI1,Nt.RIICHI],[Nt.YAKUHAI1,Nt.DOUBLERIICHI],[Nt.YAKUHAI1,Nt.IPPATSU],[Nt.YAKUHAI1,Nt.MENZENTSUMO],[Nt.YAKUHAI1,Nt.HAITEI],[Nt.YAKUHAI1,Nt.RINSHANKAIHOU],[Nt.YAKUHAI1,Nt.HOUTEI],[Nt.YAKUHAI1,Nt.CHANKAN],[Nt.YAKUHAI1,Nt.OPENRIICHI],[Nt.YAKUHAI2,Nt.SHOSANGEN],[Nt.YAKUHAI2,Nt.CHANTA],[Nt.YAKUHAI2,Nt.HONITSU],[Nt.YAKUHAI2,Nt.RIICHI],[Nt.YAKUHAI2,Nt.DOUBLERIICHI],[Nt.YAKUHAI2,Nt.IPPATSU],[Nt.YAKUHAI2,Nt.MENZENTSUMO],[Nt.YAKUHAI2,Nt.HAITEI],[Nt.YAKUHAI2,Nt.RINSHANKAIHOU],[Nt.YAKUHAI2,Nt.HOUTEI],[Nt.YAKUHAI2,Nt.CHANKAN],[Nt.YAKUHAI2,Nt.OPENRIICHI],[Nt.YAKUHAI3,Nt.SHOSANGEN],[Nt.YAKUHAI3,Nt.CHANTA],[Nt.YAKUHAI3,Nt.HONITSU],[Nt.YAKUHAI3,Nt.RIICHI],[Nt.YAKUHAI3,Nt.DOUBLERIICHI],[Nt.YAKUHAI3,Nt.IPPATSU],[Nt.YAKUHAI3,Nt.MENZENTSUMO],[Nt.YAKUHAI3,Nt.HAITEI],[Nt.YAKUHAI3,Nt.RINSHANKAIHOU],[Nt.YAKUHAI3,Nt.HOUTEI],[Nt.YAKUHAI3,Nt.CHANKAN],[Nt.YAKUHAI3,Nt.OPENRIICHI],[Nt.YAKUHAI4,Nt.SHOSANGEN],[Nt.YAKUHAI4,Nt.CHANTA],[Nt.YAKUHAI4,Nt.HONITSU],[Nt.YAKUHAI4,Nt.RIICHI],[Nt.YAKUHAI4,Nt.DOUBLERIICHI],[Nt.YAKUHAI4,Nt.IPPATSU],[Nt.YAKUHAI4,Nt.MENZENTSUMO],[Nt.YAKUHAI4,Nt.HAITEI],[Nt.YAKUHAI4,Nt.RINSHANKAIHOU],[Nt.YAKUHAI4,Nt.HOUTEI],[Nt.YAKUHAI4,Nt.CHANKAN],[Nt.YAKUHAI4,Nt.OPENRIICHI],[Nt.SHOSANGEN,Nt.CHANTA],[Nt.SHOSANGEN,Nt.HONITSU],[Nt.SHOSANGEN,Nt.RIICHI],[Nt.SHOSANGEN,Nt.DOUBLERIICHI],[Nt.SHOSANGEN,Nt.IPPATSU],[Nt.SHOSANGEN,Nt.MENZENTSUMO],[Nt.SHOSANGEN,Nt.HAITEI],[Nt.SHOSANGEN,Nt.RINSHANKAIHOU],[Nt.SHOSANGEN,Nt.HOUTEI],[Nt.SHOSANGEN,Nt.CHANKAN],[Nt.SHOSANGEN,Nt.OPENRIICHI],[Nt.TANYAO,Nt.CHINITSU],[Nt.TANYAO,Nt.CHIITOITSU],[Nt.TANYAO,Nt.RIICHI],[Nt.TANYAO,Nt.DOUBLERIICHI],[Nt.TANYAO,Nt.IPPATSU],[Nt.TANYAO,Nt.MENZENTSUMO],[Nt.TANYAO,Nt.HAITEI],[Nt.TANYAO,Nt.RINSHANKAIHOU],[Nt.TANYAO,Nt.HOUTEI],[Nt.TANYAO,Nt.CHANKAN],[Nt.TANYAO,Nt.OPENRIICHI],[Nt.CHANTA,Nt.HONITSU],[Nt.CHANTA,Nt.RIICHI],[Nt.CHANTA,Nt.DOUBLERIICHI],[Nt.CHANTA,Nt.IPPATSU],[Nt.CHANTA,Nt.MENZENTSUMO],[Nt.CHANTA,Nt.HAITEI],[Nt.CHANTA,Nt.RINSHANKAIHOU],[Nt.CHANTA,Nt.HOUTEI],[Nt.CHANTA,Nt.CHANKAN],[Nt.CHANTA,Nt.OPENRIICHI],[Nt.JUNCHAN,Nt.CHINITSU],[Nt.JUNCHAN,Nt.RIICHI],[Nt.JUNCHAN,Nt.DOUBLERIICHI],[Nt.JUNCHAN,Nt.IPPATSU],[Nt.JUNCHAN,Nt.MENZENTSUMO],[Nt.JUNCHAN,Nt.HAITEI],[Nt.JUNCHAN,Nt.RINSHANKAIHOU],[Nt.JUNCHAN,Nt.HOUTEI],[Nt.JUNCHAN,Nt.CHANKAN],[Nt.JUNCHAN,Nt.OPENRIICHI],[Nt.HONITSU,Nt.CHIITOITSU],[Nt.HONITSU,Nt.RIICHI],[Nt.HONITSU,Nt.DOUBLERIICHI],[Nt.HONITSU,Nt.IPPATSU],[Nt.HONITSU,Nt.MENZENTSUMO],[Nt.HONITSU,Nt.HAITEI],[Nt.HONITSU,Nt.RINSHANKAIHOU],[Nt.HONITSU,Nt.HOUTEI],[Nt.HONITSU,Nt.CHANKAN],[Nt.HONITSU,Nt.OPENRIICHI],[Nt.CHINITSU,Nt.CHIITOITSU],[Nt.CHINITSU,Nt.RIICHI],[Nt.CHINITSU,Nt.DOUBLERIICHI],[Nt.CHINITSU,Nt.IPPATSU],[Nt.CHINITSU,Nt.MENZENTSUMO],[Nt.CHINITSU,Nt.HAITEI],[Nt.CHINITSU,Nt.RINSHANKAIHOU],[Nt.CHINITSU,Nt.HOUTEI],[Nt.CHINITSU,Nt.CHANKAN],[Nt.CHINITSU,Nt.OPENRIICHI],[Nt.CHIITOITSU,Nt.RIICHI],[Nt.CHIITOITSU,Nt.DOUBLERIICHI],[Nt.CHIITOITSU,Nt.IPPATSU],[Nt.CHIITOITSU,Nt.MENZENTSUMO],[Nt.CHIITOITSU,Nt.HAITEI],[Nt.CHIITOITSU,Nt.HOUTEI],[Nt.CHIITOITSU,Nt.OPENRIICHI],[Nt.RIICHI,Nt.IPPATSU],[Nt.RIICHI,Nt.MENZENTSUMO],[Nt.RIICHI,Nt.HAITEI],[Nt.RIICHI,Nt.RINSHANKAIHOU],[Nt.RIICHI,Nt.HOUTEI],[Nt.RIICHI,Nt.CHANKAN],[Nt.RIICHI,Nt.OPENRIICHI],[Nt.DOUBLERIICHI,Nt.IPPATSU],[Nt.DOUBLERIICHI,Nt.MENZENTSUMO],[Nt.DOUBLERIICHI,Nt.HAITEI],[Nt.DOUBLERIICHI,Nt.RINSHANKAIHOU],[Nt.DOUBLERIICHI,Nt.HOUTEI],[Nt.DOUBLERIICHI,Nt.CHANKAN],[Nt.DOUBLERIICHI,Nt.OPENRIICHI],[Nt.IPPATSU,Nt.MENZENTSUMO],[Nt.IPPATSU,Nt.HAITEI],[Nt.IPPATSU,Nt.CHANKAN],[Nt.IPPATSU,Nt.OPENRIICHI],[Nt.MENZENTSUMO,Nt.HAITEI],[Nt.MENZENTSUMO,Nt.RINSHANKAIHOU],[Nt.MENZENTSUMO,Nt.OPENRIICHI],[Nt.HAITEI,Nt.OPENRIICHI],[Nt.RINSHANKAIHOU,Nt.OPENRIICHI]],_t=[[Nt.SUUKANTSU,Nt.SUUANKOU],[Nt.SUUKANTSU,Nt.DAISANGEN],[Nt.SUUKANTSU,Nt.SHOSUUSHII],[Nt.SUUKANTSU,Nt.DAISUUSHII],[Nt.SUUKANTSU,Nt.TSUUIISOU],[Nt.SUUKANTSU,Nt.CHINROTO],[Nt.SUUKANTSU,Nt.RYUUIISOU],[Nt.SUUANKOU,Nt.DAISANGEN],[Nt.SUUANKOU,Nt.SHOSUUSHII],[Nt.SUUANKOU,Nt.DAISUUSHII],[Nt.SUUANKOU,Nt.TSUUIISOU],[Nt.SUUANKOU,Nt.CHINROTO],[Nt.SUUANKOU,Nt.RYUUIISOU],[Nt.SUUANKOU,Nt.TENHOU],[Nt.SUUANKOU,Nt.CHIHOU],[Nt.DAISANGEN,Nt.TSUUIISOU],[Nt.DAISANGEN,Nt.TENHOU],[Nt.DAISANGEN,Nt.CHIHOU],[Nt.SHOSUUSHII,Nt.TSUUIISOU],[Nt.SHOSUUSHII,Nt.TENHOU],[Nt.SHOSUUSHII,Nt.CHIHOU],[Nt.DAISUUSHII,Nt.TSUUIISOU],[Nt.DAISUUSHII,Nt.TENHOU],[Nt.DAISUUSHII,Nt.CHIHOU],[Nt.TSUUIISOU,Nt.TENHOU],[Nt.TSUUIISOU,Nt.CHIHOU],[Nt.CHINROTO,Nt.TENHOU],[Nt.CHINROTO,Nt.CHIHOU],[Nt.CHUURENPOUTO,Nt.TENHOU],[Nt.CHUURENPOUTO,Nt.CHIHOU],[Nt.RYUUIISOU,Nt.TENHOU],[Nt.RYUUIISOU,Nt.CHIHOU],[Nt.KOKUSHIMUSOU,Nt.TENHOU],[Nt.KOKUSHIMUSOU,Nt.CHIHOU],[Nt.CHUURENPOUTO,Nt.TENHOU],[Nt.CHUURENPOUTO,Nt.CHIHOU]];let bt={};for(let ci of St)bt[ci.id]={id:ci.id,data:ci};function Ht(e=!1){let t=new Tt;for(let n of St)t.addNode(bt[n.id]);for(let n of Ct)t.addBiEdge(bt[n[0]],bt[n[1]],At.Combines);if(e)for(let n of _t)t.addBiEdge(bt[n[0]],bt[n[1]],At.Combines);for(let n of vt)t.addEdge(bt[n[0]],bt[n[1]],At.Suppresses),t.addEdge(bt[n[1]],bt[n[0]],At.IsSuppressed);return t}function wt(e,t){return e?e.getAllowedNodes(t.map(e=>bt[e])).map(e=>e.data.id):[]}function kt(e){return St.reduce((t,n)=>t+(-1===e.indexOf(n.id)?".":"+"),"")}function Rt(e){let t=0;return St.reduce((n,a)=>"+"===e[t++]?n.concat(a.id):n,[])}const Pt=ht((function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"ron":let t=[];for(let n in e.currentOutcome.wins){if(!e.currentOutcome.wins.hasOwnProperty(n))continue;let a=e.currentOutcome.wins[n];t.push({winner:a.winner,han:a.han,fu:a.fu,dora:a.dora,paoPlayerId:a.paoPlayerId,uradora:0,kandora:0,kanuradora:0,yaku:Rt(a.yaku),openHand:a.openHand})}return t;default:return[]}}));ht((function(e){if(!e.gameConfig)return!1;const t=e.currentOutcome,n=e.gameConfig;if(!t)return!1;switch(t.selectedOutcome){case"tsumo":return Et(Rt(t.yaku),n.yakuWithPao).length>0;case"ron":return Object.keys(t.wins).reduce((e,a)=>e||Et(Rt(t.wins[a].yaku),n.yakuWithPao).length>0,!1);default:throw new Error("No pao exist on this outcome")}}));const Lt=ht((function(e){var t,n;const a=e.currentOutcome;switch(null===a||void 0===a?void 0:a.selectedOutcome){case"tsumo":const r=a.winner&&(null===(t=e.players)||void 0===t?void 0:t.find(e=>e.id===a.winner));return r?[r]:[];case"ron":let i=[];for(let t in a.wins){if(!a.wins.hasOwnProperty(t))continue;const r=null===(n=e.players)||void 0===n?void 0:n.find(e=>e.id===a.wins[t].winner);r&&i.push(r)}return i;case"draw":case"nagashi":return a.tempai.map(t=>{var n;return null===(n=e.players)||void 0===n?void 0:n.find(e=>e.id===t)}).filter(e=>!!e);default:return[]}}));const Kt=ht((function(e){var t;const n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"ron":case"chombo":const a=null===(t=e.players)||void 0===t?void 0:t.find(e=>e.id===n.loser);return a?[a]:[];default:return[]}}));const jt=ht((function(e){var t;const n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":const a=n.paoPlayerId&&(null===(t=e.players)||void 0===t?void 0:t.find(e=>e.id===n.paoPlayerId));return a?[a]:[];case"ron":return Object.keys(n.wins).reduce((t,a)=>{var r;if(n.wins[a].paoPlayerId){const i=null===(r=e.players)||void 0===r?void 0:r.find(e=>e.id===n.wins[a].paoPlayerId);i&&t.push(i)}return t},[]);default:return[]}}));const xt=ht((function(e){const t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"draw":case"nagashi":return t.deadhands.map(t=>{var n;return null===(n=e.players)||void 0===n?void 0:n.find(e=>e.id===t)}).filter(e=>!!e);default:return[]}}));const Dt=ht((function(e){const t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"nagashi":return t.nagashi.map(t=>{var n;return null===(n=e.players)||void 0===n?void 0:n.find(e=>e.id===t)}).filter(e=>!!e);default:return[]}}));const Mt=ht((function(e,t){const n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return-1!==Rt(n.yaku).indexOf(t);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return-1!==Rt(n.wins[e.multironCurrentWinner].yaku).indexOf(t);default:return!1}}));const Gt=ht((function(e){const t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"ron":case"tsumo":case"draw":case"nagashi":case"abort":return t.riichiBets.map(t=>{var n;return null===(n=e.players)||void 0===n?void 0:n.find(e=>e.id===t)}).filter(e=>!!e);default:return[]}}));ht((function(e){var t,n,a,r,i;let s;switch(null===(t=e.gameConfig)||void 0===t?void 0:t.timerPolicy){case"redZone":if(s=e.gameConfig.redZone,s&&((null===(n=e.timer)||void 0===n?void 0:n.secondsRemaining)||0)<s&&!(null===(a=e.timer)||void 0===a?void 0:a.waiting))return"redZone";break;case"yellowZone":if(s=e.gameConfig.yellowZone,s&&((null===(r=e.timer)||void 0===r?void 0:r.secondsRemaining)||0)<s&&!(null===(i=e.timer)||void 0===i?void 0:i.waiting))return e.yellowZoneAlreadyPlayed?"redZone":"yellowZone"}return"none"}));ht((function(e,t,n,a){let r;switch(t){case"other_overview":case"confirmation":case"overview":r=e.changesOverview}if(!r)return;const i=r.payments,s=i.direct&&i.direct[a.id+"<-"+n.id]||0,o=i.direct&&i.direct[n.id+"<-"+a.id]||0,c=i.riichi&&i.riichi[a.id+"<-"+n.id]||0,l=i.riichi&&i.riichi[n.id+"<-"+a.id]||0,u=i.honba&&i.honba[a.id+"<-"+n.id]||0,d=i.honba&&i.honba[n.id+"<-"+a.id]||0;return s!==o||0===s?s+c>0?{backward:!1,riichi:c>0,title:[s,u].filter(e=>!!e).join(" + ")}:o+l>0?{backward:!0,riichi:l>0,title:[o,d].filter(e=>!!e).join(" + ")}:void 0:void 0}));const Bt=(e,t)=>{if(e.currentPlayerId)switch(t){case"overview":if(!e.players)return;return{round:e.currentRound,currentPlayerId:e.currentPlayerId,players:e.players,riichiBets:[],penaltyFor:void 0,paoPlayer:void 0};case"confirmation":if(!e.currentOutcome||!e.players)return;const[t]=jt(e);return{round:e.currentRound,currentPlayerId:e.currentPlayerId,players:e.players,riichiBets:Gt(e).map(e=>e.id.toString()),penaltyFor:"chombo"===e.currentOutcome.selectedOutcome?e.currentOutcome.loser:void 0,paoPlayer:t&&t.id};case"other_overview":if(!e.currentOtherTable)return;return{round:e.currentOtherTable.currentRound,currentPlayerId:e.currentOtherTablePlayers[(e.overviewViewShift||0)%4].id,players:e.currentOtherTablePlayers,riichiBets:[],penaltyFor:void 0,paoPlayer:void 0}}},Yt=(e,t)=>{const n=Bt(e,t);if(!n)throw new Error("No round overview found");return It(n.round,e.overviewViewShift||0,n.currentPlayerId,n.players,n.riichiBets,n.penaltyFor,n.paoPlayer)},Ft=(e,t)=>Yt(e,t).players[0],Vt=(e,t)=>Yt(e,t).players[1],Wt=(e,t)=>Yt(e,t).players[2],Zt=(e,t)=>Yt(e,t).players[3];var Jt,qt,zt,$t;function Xt(e,t){const n=e.currentOutcome;if(!n)return[];const a=Qt(e);switch(n.selectedOutcome){case"tsumo":if(n.winner&&-1!==n.riichiBets.indexOf(n.winner))return[Nt.RIICHI,Nt.MENZENTSUMO].filter(e=>!a.includes(e));break;case"ron":const r=t||e.multironCurrentWinner;if(!r)throw new Error("No winner selected");if(-1!==n.riichiBets.indexOf(r))return[Nt.RIICHI].filter(e=>!a.includes(e));break;default:return[]}return[]}function Qt(e){const t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"tsumo":return Rt(t.yaku);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return Rt(t.wins[e.multironCurrentWinner].yaku);default:return[]}}function en(e,t,n,a,r){const i=e.currentOutcome;return t&&i?a.filter(e=>(e!==Nt.IPPATSU||"ron"!==(null===i||void 0===i?void 0:i.selectedOutcome)&&"tsumo"!==(null===i||void 0===i?void 0:i.selectedOutcome)||-1!==n.indexOf(Nt.RIICHI)||-1!==n.indexOf(Nt.DOUBLERIICHI))&&((e!==Nt.__OPENHAND||"ron"!==(null===i||void 0===i?void 0:i.selectedOutcome)&&"tsumo"!==(null===i||void 0===i?void 0:i.selectedOutcome)||-1===i.riichiBets.indexOf(t))&&((e!==Nt.RENHOU||"ron"!==(null===i||void 0===i?void 0:i.selectedOutcome)||!i.wins[t].winnerIsDealer)&&(!!(e!==Nt.TENHOU||"tsumo"===(null===i||void 0===i?void 0:i.selectedOutcome)&&i.winnerIsDealer)&&((e!==Nt.CHIHOU||"tsumo"===(null===i||void 0===i?void 0:i.selectedOutcome)&&!i.winnerIsDealer)&&-1===r.indexOf(e)))))):[]}function tn(e){const t=Rt(e.yaku);for(let n of t)if(-1!==ft.indexOf(n))return!0;return!1}!function(e){e[e.IDLE=0]="IDLE",e[e.POSITIVE=1]="POSITIVE",e[e.NEGATIVE=2]="NEGATIVE",e[e.ACTIVE=3]="ACTIVE"}(Jt||(Jt={})),function(e){e[e.IDLE=0]="IDLE",e[e.DISABLE=1]="DISABLE",e[e.PRESSED=2]="PRESSED"}(qt||(qt={})),function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"}(zt||(zt={})),function(e){e[e.GAME=0]="GAME",e[e.BEFORE_START=1]="BEFORE_START",e[e.SELECT_PLAYERS=2]="SELECT_PLAYERS",e[e.RESULT=3]="RESULT",e[e.OTHER_PLAYER_TABLE=4]="OTHER_PLAYER_TABLE"}($t||($t={}));const nn=ht((function(e,t){const n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return n.han;case"ron":const a=t||e.multironCurrentWinner;return a?n.wins[a].han:0;default:return 0}}));const an=ht((function(e,t){const n=e.currentOutcome;let a,r;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return r=n.fu,a=n.han+n.dora,a>=5&&(r=0),r;case"ron":const i=t||e.multironCurrentWinner;return i?(r=n.wins[i].fu,a=n.wins[i].han+n.wins[i].dora,a>=5&&(r=0),r):0;default:return 0}}));const rn=ht((function(e){const t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"tsumo":return t.possibleFu;case"ron":return e.multironCurrentWinner?t.wins[e.multironCurrentWinner].possibleFu:[];default:return[]}}));const sn=ht((function(e,t){const n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return n.dora;case"ron":const a=t||e.multironCurrentWinner;return a?n.wins[a].dora:0;default:return 0}}));function on(e){var t;return function(e){const t=e.currentOutcome;if(!t)return!1;switch(t.selectedOutcome){case"tsumo":return tn(t);case"ron":return!!e.multironCurrentWinner&&tn(t.wins[e.multironCurrentWinner]);default:throw new Error("No yaku may exist on this outcome")}}(e)?[0]:"jpmlA"===(null===(t=e.gameConfig)||void 0===t?void 0:t.rulesetTitle)?[0,1,2,3,4]:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}var cn;function ln(e){const t=parseInt(e.toString(),10);return t>12?"\u5317"+(t-12):t>8?"\u897f"+(t-8):t>4?"\u5357"+(t-4):"\u6771"+t}function un(e,t){return Et(Rt(e),t.yakuWithPao).length>0}function dn(e,t){if(!e)return!1;switch(e.selectedOutcome){case"tsumo":return un(e.yaku,t);case"ron":return Object.keys(e.wins).reduce((n,a)=>n||un(e.wins[a].yaku,t),!1);default:throw new Error("No pao exist on this outcome")}}!function(e){e[e.TOP=0]="TOP",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"}(cn||(cn={}));function mn(e){return hn(e,void 0)}function hn(e,t){var n;const a=e.gameConfig;if(!a||"paoSelect"!==e.currentScreen||"ron"!==(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome))return;const r=e.currentOutcome.wins,i=Object.keys(r);if(1===i.length)return;let s=-1,o=-1,c=0;if(t)for(;c<i.length&&-1===s;c++){parseInt(i[c].toString(),10)===t&&(s=c)}for(;c<i.length&&-1===o;c++){const e=parseInt(i[c].toString(),10);un(r[i[c]].yaku,a)&&(o=e)}return-1!==o?o:void 0}const pn=ht((function(e){var t,n,a,r;if(!(null===(t=e.gameConfig)||void 0===t?void 0:t.useTimer)||(null===(n=e.timer)||void 0===n?void 0:n.waiting))return;let i=Math.floor(((null===(a=e.timer)||void 0===a?void 0:a.secondsRemaining)||0)/60)-15;return i<0?{minutes:0,seconds:0}:{minutes:i,seconds:((null===(r=e.timer)||void 0===r?void 0:r.secondsRemaining)||0)%60}}));function On(e,t,n){const a=Nn(t);return Sn(e,Wt(t,a),Yt(t,a).seating[2],t,n)}function gn(e,t,n){const a=Nn(t);return Sn(e,Zt(t,a),Yt(t,a).seating[3],t,n)}function In(e,t,n){const a=Nn(t);return Sn(e,Vt(t,a),Yt(t,a).seating[1],t,n)}function En(e,t,n){const a=Nn(t);return Sn(e,Ft(t,a),Yt(t,a).seating[0],t,n)}function Nn(e){switch(e.currentScreen){case"confirmation":return"confirmation";case"otherTable":return"other_overview";case"overview":default:return"overview"}}function Sn(e,t,n,a,r){var i,s,o;let c=Jt.IDLE,l=t.score,u=t.penalties,d=!0,m=void 0,h=void 0,p=void 0,O=!1,g=!1;const I=a.currentOutcome;switch(a.currentScreen){case"currentGame":case"otherTable":if((null===(i=a.timer)||void 0===i?void 0:i.waiting)&&(d=!1,l=void 0,u=void 0),a.overviewDiffBy){const e=null===(s="currentGame"===a.currentScreen?a.players:a.currentOtherTablePlayers)||void 0===s?void 0:s.find(e=>e.id===a.overviewDiffBy);e&&(l=t.score-e.score,l>0&&(l="+"+l),c=Jt.ACTIVE,u=void 0)}break;case"confirmation":const n=function(e,t,n){const a=Tn(n);if(0===a.length&&n.changesOverview&&"chombo"===n.changesOverview.outcome&&n.changesOverview.penaltyFor){const a=n.changesOverview.penaltyFor;if(t.id===a)return e._t("Penalty")}let r=0;return a.forEach(e=>{if((e.from===t.id||e.to===t.id)&&e.from!==e.to){const n=e.directAmount+e.riichiAmount+e.honbaAmount,a=e.from===t.id?-1:1;r+=n*a}}),r}(e,t,a);l=0!==n?n:void 0,"number"===typeof n?n>0?(c=Jt.POSITIVE,l="+"+l):n<0&&(c=Jt.NEGATIVE):c=Jt.NEGATIVE;const E=null===(o=a.changesOverview)||void 0===o?void 0:o.payments.riichi,N=t.id,S=`${N}<-${N}`;E&&-1!==Object.keys(E).indexOf(S)&&(g=!0);break;case"playersSelect":l=void 0,u=void 0;const y=null===I||void 0===I?void 0:I.selectedOutcome;if(!y)throw new Error("empty outcome");const A=["ron","tsumo","draw","nagashi"].includes(y),T=["ron","chombo"].includes(y),U=["ron","tsumo","draw","abort","nagashi"].includes(y);if(O=["draw","nagashi"].includes(y)&&function(e,t){return-1!==xt(e).indexOf(t)}(a,t),A&&!O){let e;e=function(e,t){return-1!==Lt(e).indexOf(t)}(a,t)?qt.PRESSED:function(e,t){var n;return!!e.currentOutcome&&(-1!==["draw","nagashi"].indexOf(e.currentOutcome.selectedOutcome)?-1!==xt(e).indexOf(t):("ron"!==e.currentOutcome.selectedOutcome||(null===(n=e.gameConfig)||void 0===n?void 0:n.withAtamahane))&&Lt(e).length>0&&-1===Lt(e).indexOf(t)||-1!==Kt(e).indexOf(t))}(a,t)?qt.DISABLE:qt.IDLE,m={mode:e,onClick:Un(r,t.id)}}if(T){let e;e=function(e,t){return-1!==Kt(e).indexOf(t)}(a,t)?qt.PRESSED:function(e,t){return Kt(e).length>0&&-1===Kt(e).indexOf(t)||-1!==Lt(e).indexOf(t)}(a,t)?qt.DISABLE:qt.IDLE,h={mode:e,onClick:_n(r,t.id)}}if(U){let e;e=function(e,t){return-1!==Gt(e).indexOf(t)}(a,t)?qt.PRESSED:qt.IDLE,p={mode:e,onClick:bn(r,t.id)}}break;case"nagashiSelect":let f;l=void 0,u=void 0,f=function(e,t){return-1!==Dt(e).indexOf(t)}(a,t)?qt.PRESSED:function(e,t){return Dt(e).length>=3&&-1===Dt(e).indexOf(t)}(a,t)?qt.DISABLE:qt.IDLE,m={mode:f,onClick:fn(r,t.id)};break;case"paoSelect":if(l=void 0,u=void 0,!I)throw new Error(e._t("empty outcome"));let v,C=!1;switch(I.selectedOutcome){case"ron":a.multironCurrentWinner===t.id?(l=e._t("Winner"),c=Jt.POSITIVE):I.loser===t.id?(l=e._t("Loser"),c=Jt.NEGATIVE):C=!0;break;case"tsumo":I.winner!==t.id?C=!0:(l=e._t("Winner"),c=Jt.POSITIVE);break;default:throw new Error(e._t("wrong outcome for paoSelect"))}C&&(v=function(e,t){var n;const a=e.multironCurrentWinner;return!(!a||"ron"!==(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome))&&e.currentOutcome.wins[a].paoPlayerId===t.id}(a,t)?qt.PRESSED:qt.IDLE,h={mode:v,onClick:vn(r,t.id)})}return{name:t.displayName,wind:n,points:l,penaltyPoints:u,pointsMode:c,rotated:!1,inlineWind:d,winButton:m,loseButton:h,riichiButton:p,showDeadButton:O,onDeadButtonClick:Cn(r,t.id),showInlineRiichi:g,onPlayerClick:Kn(a,r,t.id)}}function yn(e,t){switch(t){case"ron":return e._t("Ron");case"tsumo":return e._t("Tsumo");case"draw":return e._t("Draw");case"abort":return e._t("Abort");case"chombo":return e._t("Chombo");case"nagashi":return e._t("Nagashi")}}function An(e,t,n){const a=function(e){var t;if(null===(t=e.timer)||void 0===t?void 0:t.waiting)return $t.BEFORE_START;switch(e.currentScreen){case"currentGame":return $t.GAME;case"confirmation":return $t.RESULT;case"otherTable":return $t.OTHER_PLAYER_TABLE;default:return $t.SELECT_PLAYERS}}(t),r=function(e,t,n){if(void 0!==t){switch(t){case"ron":case"tsumo":if("paoSelect"===n)return e._t("Select pao");break;case"nagashi":if("playersSelect"===n)return e._t("Select tempai")}return yn(e,t)}}(e,t.currentOutcome&&t.currentOutcome.selectedOutcome,t.currentScreen),i=[$t.OTHER_PLAYER_TABLE,$t.SELECT_PLAYERS,$t.RESULT].includes(a),s=a===$t.SELECT_PLAYERS,o=!function(e){return function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":return 1===Lt(e).length;case"draw":case"abort":case"nagashi":return!0;case"ron":return Lt(e).length>=1&&1===Kt(e).length;case"chombo":return 1===Kt(e).length}}(e)}(t),c=a===$t.RESULT;return{text:r,showBack:i,showNext:s,isNextDisabled:o,showHome:[$t.GAME,$t.BEFORE_START].includes(a),showRefresh:[$t.GAME,$t.BEFORE_START,$t.OTHER_PLAYER_TABLE].includes(a),showAdd:a===$t.GAME,showLog:[$t.GAME,$t.OTHER_PLAYER_TABLE].includes(a),showSave:c,isSaveDisabled:!1,onNextClick:(()=>{var e;if("paoSelect"===t.currentScreen&&"ron"===(null===(e=t.currentOutcome)||void 0===e?void 0:e.selectedOutcome)){const e=hn(t,t.multironCurrentWinner);if(void 0!==e)return()=>n({type:Se,payload:{winner:e}})}return function(e){return()=>{e({type:g})}}(n)})(),onBackClick:Pn(n),onSaveClick:Ln(t,n),onLogClick:Hn(n),onAddClick:wn(t,n),onHomeClick:kn(n),onRefreshClick:Rn(n)}}function Tn(e){const t=e.changesOverview;if("confirmation"!==e.currentScreen||void 0===t||e.loading.overview)return[];const n=t.payments,a=[];return Object.keys(n.direct||[]).forEach(e=>{const t=e.split("<-");if(2===t.length){const r=parseInt(t[1],10),i=parseInt(t[0],10),s=n.direct[e],o=`${r}<-${i}`;if(s!==n.direct[o]){const e={from:r,to:i,directAmount:s,riichiAmount:0,honbaAmount:0};a.push(e)}}}),Object.keys(n.riichi||[]).forEach(e=>{const t=e.split("<-"),r=n.riichi[e];if(2===t.length&&0!==r){const e=t[1]?parseInt(t[1],10):void 0,n=t[0]?parseInt(t[0],10):void 0,i=a.find(t=>t.to===n&&t.from===e);if(i)i.riichiAmount=r;else{const t={from:e,to:n,directAmount:0,riichiAmount:r,honbaAmount:0};a.push(t)}}}),Object.keys(n.honba||[]).forEach(e=>{const t=e.split("<-"),r=n.honba[e];if(2===t.length&&0!==r){const e=parseInt(t[1],10),n=parseInt(t[0],10),i=a.find(t=>t.to===n&&t.from===e);i&&(i.honbaAmount=r)}}),a}function Un(e,t){return()=>e({type:U,payload:t})}function fn(e,t){return()=>e({type:_,payload:t})}function vn(e,t){return()=>e({type:v,payload:t})}function Cn(e,t){return()=>e({type:C,payload:t})}function _n(e,t){return()=>e({type:f,payload:t})}function bn(e,t){return()=>e({type:T,payload:t})}function Hn(e){return()=>e({type:p})}function wn(e,t){return()=>{"currentGame"===e.currentScreen?t({type:g}):"outcomeSelect"===e.currentScreen&&t({type:I})}}function kn(e){return()=>e({type:I})}function Rn(e){return()=>e({type:P})}function Pn(e){return()=>e({type:I})}function Ln(e,t){return()=>t({type:me,payload:e})}function Kn(e,t,n){var a;if(["currentGame","otherTable"].includes(e.currentScreen)&&!(null===(a=e.timer)||void 0===a?void 0:a.waiting))return()=>{t({type:Ce,payload:n})}}function jn(e,t){if("currentGame"===e.currentScreen||"confirmation"===e.currentScreen){if("currentGame"===e.currentScreen){if(!e.tableIndex)return}return()=>{t({type:_e})}}}n(11),n(2);class xn extends a.Component{renderName(){const{name:e,wind:t,nameWidth:n,inlineWind:r}=this.props;return a.createElement("div",{className:"player__name-container"},a.createElement("div",{className:"player__name",style:{width:n}},r&&a.createElement("span",{className:"player__inline-wind"},t),e))}onRiichiClick(){const{riichiButton:e}=this.props;e&&e.mode!==qt.DISABLE&&e.onClick()}renderRiichiButton(){const{verticalButtons:e,riichiButton:t}=this.props;return void 0!==t?a.createElement("div",{onClick:this.onRiichiClick.bind(this),className:Ge()("player__riichi-button",{"player__riichi-button--rotated":e},{"player__riichi-button--empty":t.mode===qt.IDLE})},a.createElement(xe,{type:De.RIICHI_BIG})):null}onWinClick(){const{winButton:e}=this.props;e&&e.mode!==qt.DISABLE&&e.onClick()}onLoseClick(){const{loseButton:e}=this.props;e&&e.mode!==qt.DISABLE&&e.onClick()}renderButtons(){const{startWithName:e,verticalButtons:t,winButton:n,loseButton:r,showDeadButton:i,onDeadButtonClick:s}=this.props,o=void 0!==n,c=void 0!==r,l=o&&!c||c&&!o;return a.createElement(a.Fragment,null,!e&&this.renderRiichiButton(),(o||c||i)&&a.createElement("div",{className:Ge()("player__button-container",{"player__button-container--horizontal":!t})},o&&n&&a.createElement("div",{onClick:this.onWinClick.bind(this),className:Ge()("player__button flat-btn",{"flat-btn--small":!l},{"flat-btn--v-large":l&&t},{"flat-btn--large":l&&!t},{"flat-btn--disabled":n.mode===qt.DISABLE},{"flat-btn--success":n.mode===qt.PRESSED})},a.createElement(xe,{type:De.WIN})),c&&r&&a.createElement("div",{onClick:this.onLoseClick.bind(this),className:Ge()("player__button flat-btn",{"flat-btn--small":!l},{"flat-btn--v-large":l&&t},{"flat-btn--large":l&&!t},{"flat-btn--disabled":r.mode===qt.DISABLE},{"flat-btn--danger":r.mode===qt.PRESSED})},a.createElement(xe,{type:De.LOSE})),i&&a.createElement("div",{onClick:s,className:Ge()("player__button flat-btn flat-btn--pressed ",{"flat-btn--v-large":t},{"flat-btn--large":!t})},a.createElement("div",{className:"flat-btn__caption"},"dead hand"))),e&&this.renderRiichiButton())}render(){const{wind:e,mode:t,rotated:n,startWithName:r,inlineWind:i,points:s,pointsMode:o,penaltyPoints:c,showInlineRiichi:l,onPlayerClick:u}=this.props;return a.createElement("div",{className:Ge()("player",{"player--top":t===zt.TOP},{"player--right":t===zt.RIGHT},{"player--bottom":t===zt.BOTTOM},{"player--left":t===zt.LEFT},{"player--rotated":n}),onClick:u},r&&this.renderName(),this.renderButtons(),e&&!i&&a.createElement("div",{className:"player__wind-container"},a.createElement("div",{className:"player__wind"},e)),void 0!==s&&a.createElement("div",{className:"player__score-container"},a.createElement("div",{className:Ge()("player__score",{"player__score--success":o===Jt.POSITIVE},{"player__score--danger":o===Jt.NEGATIVE},{"player__score--active":o===Jt.ACTIVE})},a.createElement("p",null,s,l&&a.createElement(xe,{type:De.RIICHI_BIG,svgProps:{className:"player__inline-riichi"}})),!!c&&a.createElement("div",{className:"player__penalty"},c/1e3+"k"))),!r&&this.renderName())}}class Dn extends a.Component{constructor(){super(...arguments),this.state={dimension:"initial"}}componentDidMount(){this.onFrameHeightChanged(),frame.addEventListener("resize",this.onFrameHeightChanged.bind(this))}componentWillUnmount(){frame.removeEventListener("resize",this.onFrameHeightChanged.bind(this))}componentDidUpdate(){const e=this.getDimension();this.state.dimension!==e&&this.setState({dimension:e})}onFrameHeightChanged(){this.setState({dimension:this.getDimension()})}getDimension(){const{selector:e}=this.props;return document.querySelector(e).clientHeight+"px"}render(){const{children:e,propName:t}=this.props,{dimension:n}=this.state;return a.cloneElement(e,{[t]:n})}}class Mn extends a.Component{render(){const{children:e}=this.props;return a.createElement(Dn,{propName:"nameWidth",selector:".page-table__center"},e)}}const Gn=e=>a.createElement(Mn,null,a.createElement(xn,Object.assign({},e,{mode:zt.LEFT,rotated:!0,startWithName:!0,verticalButtons:!0}))),Bn=e=>a.createElement(xn,Object.assign({},e,{mode:zt.BOTTOM})),Yn=e=>a.createElement(xn,Object.assign({},e,{mode:zt.TOP,startWithName:!0}));n(31);class Fn extends a.Component{onNextButtonClick(){const{isNextDisabled:e,onNextClick:t}=this.props;t&&!e&&t()}onSaveButtonClick(){const{isSaveDisabled:e,onSaveClick:t}=this.props;t&&!e&&t()}render(){const{text:e,showBack:t,showNext:n,isNextDisabled:r,showSave:i,isSaveDisabled:s,showHome:o,showRefresh:c,showAdd:l,showLog:u,onAddClick:d,onBackClick:m,onHomeClick:h,onLogClick:p,onRefreshClick:O}=this.props,g=t&&!!e&&!n&&!i;return a.createElement("div",{className:"bottom-panel"},a.createElement("div",{className:"bottom-panel__inner"},t&&a.createElement("div",{className:"svg-button",onClick:m},a.createElement(xe,{type:De.BACK})),!!e&&a.createElement("div",{className:"bottom-panel__text"},e),g&&a.createElement("div",{className:"svg-button"}),n&&a.createElement("div",{className:Ge()("svg-button",{"svg-button--disabled":r}),onClick:this.onNextButtonClick.bind(this)},a.createElement(xe,{type:De.NEXT})),i&&a.createElement("div",{className:Ge()("svg-button",{"svg-button--disabled":s}),onClick:this.onSaveButtonClick.bind(this)},a.createElement(xe,{type:De.SAVE})),o&&a.createElement("div",{className:"svg-button",onClick:h},a.createElement(xe,{type:De.HOME})),c&&a.createElement("div",{className:"svg-button",onClick:O},a.createElement(xe,{type:De.REFRESH})),l&&a.createElement("div",{className:"svg-button",onClick:d},a.createElement(xe,{type:De.PLUS})),u&&a.createElement("div",{className:"svg-button",onClick:p},a.createElement(xe,{type:De.LOG}))))}}n(32);const Vn=20;class Wn{constructor(e,t){this.x=e,this.y=t}}var Zn;function Jn(e,t,n,a){let r=qn(e.x,t.x,n.x,a),i=qn(e.y,t.y,n.y,a);return new Wn(r,i)}function qn(e,t,n,a){return(1-a)*(1-a)*e+2*a*(1-a)*t+a*a*n}function zn(e,t){let n=t.x-e.x,a=e.y-t.y,r=(1*n+0*a)/(Math.sqrt(n*n+a*a)*Math.sqrt(1));return 180*Math.acos(r)/Math.PI}function $n(e,t,n){return zn(e,Jn(e,t,n,.08))}function Xn(e){return e.honbaPoints?`${e.points} + ${e.honbaPoints}`:e.points.toString()}!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_LEFT=2]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=3]="BOTTOM_RIGHT"}(Zn||(Zn={}));const Qn=a.memo((function(e){const{payment:t,pathId:n,withPao:r,isTextAbove:i,direction:s}=e;if("0"===t&&!r)return null;let o=4+(i?0:8),c=o*([Zn.TOP_RIGHT,Zn.BOTTOM_RIGHT].includes(s)?1:-1),l=o*([Zn.BOTTOM_RIGHT,Zn.BOTTOM_LEFT].includes(s)?1:-1);const u="0"!==t?t+(r?" (pao)":""):"pao";return a.createElement("text",{transform:`translate(${c} ${l})`},a.createElement("textPath",{xlinkHref:"#"+n,startOffset:"50%",textAnchor:"middle",fill:"currentColor"},u))})),ea=a.memo((function(e){const{id:t,start:n,center:r,end:i}=e;return a.createElement("g",null,a.createElement("path",{id:t,d:`M ${n.x},${n.y} Q${r.x},${r.y} ${i.x},${i.y} `,stroke:"currentColor"}))})),ta=a.memo((function(e){const{offsetX:t,offsetY:n,angle:r}=e;return a.createElement("g",{transform:`translate(${t} ${n})`},a.createElement("g",{transform:`rotate(${r})`},a.createElement("rect",{width:42,height:7,x:-20.5,y:-3,rx:"4",ry:"4",stroke:"currentColor",strokeWidth:1}),a.createElement("circle",{r:1.8,cx:.5,cy:.5,style:{fill:"var(--color-danger)"}})))})),na=a.memo((function(e){const{start:t,center:n,end:r,inverted:i,direction:s}=e;let o=Jn(t,n,r,.5),c=Jn(t,n,r,.52),l=[Zn.TOP_RIGHT,Zn.BOTTOM_LEFT].includes(s)?1:-1,u=zn(o,c)*l,d=[Zn.TOP_RIGHT,Zn.BOTTOM_RIGHT].includes(s)?-1:1,m=[Zn.BOTTOM_RIGHT,Zn.BOTTOM_LEFT].includes(s)?-1:1,h=o.x+6*d,p=o.y+6*m;return a.createElement(ta,{offsetX:h,offsetY:p,angle:u})})),aa=a.memo((function(e){const{start:t,center:n,end:r,inverted:i,direction:s}=e;if(i){let e=[Zn.TOP_RIGHT,Zn.BOTTOM_LEFT].includes(s)?1:-1,i=$n(t,n,r)*e;return a.createElement(ra,{offset:t,angle:i})}{let e=[Zn.TOP_LEFT,Zn.BOTTOM_RIGHT].includes(s)?1:-1,i=$n(r,n,t)*e;return a.createElement(ra,{offset:r,angle:i})}})),ra=a.memo((function(e){const{offset:t,angle:n}=e;return a.createElement("g",{transform:`translate(${t.x} ${t.y})`},a.createElement("g",{transform:`rotate(${n})`},a.createElement("rect",{x:"-1",y:-3.5,width:11,height:7,style:{fill:"var(--bg-color)"}}),a.createElement("path",{d:"m 0,0 12.693819,-3.57903 c -1.499915,3.09366 -0.947277,5.02928 0,7.17478 l -12.693819,-3.59575",fill:"currentColor"})))})),ia=a.memo((function(e){const{offsetX:t,offsetY:n,width:r,height:i,arrows:s}=e,o=s.BottomLeft||s.LeftBottom;if(!o)return null;const c=o.start===cn.LEFT,l=o.withRiichi,u=Xn(o),d="left-bottom",m=Zn.BOTTOM_LEFT;let h=new Wn(0,i/2+Vn),p=new Wn(r/2-Vn-t,i/2+Vn+n),O=new Wn(r/2-Vn,i);return a.createElement("g",null,a.createElement(ea,{id:d,start:h,center:p,end:O}),a.createElement(aa,{start:h,center:p,end:O,inverted:!c,direction:m}),l&&a.createElement(na,{start:h,center:p,end:O,inverted:!c,direction:m}),a.createElement(Qn,{payment:u,pathId:d,withPao:o.withPao,isTextAbove:!1,direction:m}))})),sa=a.memo((function(e){const{offsetX:t,offsetY:n,width:r,height:i,arrows:s}=e,o=s.BottomRight||s.RightBottom;if(!o)return null;const c=o.start===cn.BOTTOM,l=Xn(o),u="bottom-right",d=Zn.BOTTOM_RIGHT;let m=new Wn(r/2+Vn,i),h=new Wn(r/2+Vn+t,i/2+Vn+n),p=new Wn(r,i/2+Vn);return a.createElement("g",null,a.createElement(ea,{id:u,start:m,center:h,end:p}),a.createElement(aa,{start:m,center:h,end:p,inverted:!c,direction:d}),o.withRiichi&&a.createElement(na,{start:m,center:h,end:p,inverted:!c,direction:d}),a.createElement(Qn,{payment:l,pathId:u,withPao:o.withPao,isTextAbove:!1,direction:d}))})),oa=a.memo((function(e){const{width:t,height:n,arrows:r}=e,i=r.BottomTop||r.TopBottom;if(!i)return null;const s=i.start===cn.TOP,o=e=>e?"start":"end",c=e=>e?"5%":"95%",l=t/2-3.5-4,u=.05*n+21,d=Xn(i),m="top-bottom";return a.createElement("g",null,a.createElement("g",null,a.createElement("path",{id:m,d:`M ${t/2} 0 V ${n}`,stroke:"currentColor",fill:"none"}),s&&a.createElement(ra,{offset:new Wn(t/2,n),angle:-90}),!s&&a.createElement(ra,{offset:new Wn(t/2,0),angle:90}),"0"!==d&&a.createElement("text",{transform:"translate(4 0)"},a.createElement("textPath",{xlinkHref:"#"+m,startOffset:c(!s),textAnchor:o(!s),fill:"currentColor"},d)),i.withRiichi&&a.createElement(ta,{offsetX:l,offsetY:u,angle:90}),i.withPao&&a.createElement("text",{transform:"translate(4 0)"},a.createElement("textPath",{xlinkHref:"#"+m,startOffset:c(s),textAnchor:o(s),fill:"currentColor"},"pao"))))})),ca=a.memo((function(e){const{width:t,height:n,arrows:r}=e,i=r.LeftRight||r.RightLeft;if(!i)return null;const s=i.start===cn.LEFT;let o=e=>e?"start":"end",c=e=>e?"5%":"95%";const l=.05*t+21,u=n/2+3.5+4,d=Xn(i),m="left-right";return a.createElement("g",null,a.createElement("path",{id:m,d:`M 0 ${n/2} H ${t}`,stroke:"currentColor",fill:"none"}),!s&&a.createElement(ra,{offset:new Wn(0,n/2),angle:0}),s&&a.createElement(ra,{offset:new Wn(t,n/2),angle:180}),"0"!==d&&a.createElement("text",{transform:"translate(0 -4)"},a.createElement("textPath",{xlinkHref:"#"+m,startOffset:c(!s),textAnchor:o(!s),fill:"currentColor"},d)),i.withRiichi&&a.createElement(ta,{offsetX:l,offsetY:u,angle:0}),i.withPao&&a.createElement("text",{transform:"translate(0 -4)"},a.createElement("textPath",{xlinkHref:"#"+m,startOffset:c(s),textAnchor:o(s),fill:"currentColor"},"pao")))})),la=a.memo((function(e){const{offsetX:t,offsetY:n,width:r,height:i,arrows:s}=e,o=s.TopLeft||s.LeftTop;if(!o)return null;const c=o.start===cn.LEFT,l=o.withRiichi,u=Xn(o),d="top-left",m=Zn.TOP_LEFT,h=new Wn(0,i/2-Vn),p=new Wn(r/2-Vn-t,i/2-Vn-n),O=new Wn(r/2-Vn,0);return a.createElement("g",null,a.createElement(ea,{id:d,start:h,center:p,end:O}),a.createElement(aa,{start:h,center:p,end:O,inverted:!c,direction:m}),l&&a.createElement(na,{start:h,center:p,end:O,inverted:!c,direction:m}),a.createElement(Qn,{payment:u,pathId:d,withPao:o.withPao,isTextAbove:!0,direction:m}))})),ua=a.memo((function(e){const{offsetX:t,offsetY:n,width:r,height:i,arrows:s}=e,o=s.TopRight||s.RightTop;if(!o)return null;const c=o.start===cn.TOP,l=o.withRiichi,u=Xn(o),d="top-right",m=Zn.TOP_RIGHT;let h=new Wn(r/2+Vn,0),p=new Wn(r/2+Vn+t,i/2-Vn-n),O=new Wn(r,i/2-Vn);return a.createElement("g",null,a.createElement(ea,{id:d,start:h,center:p,end:O}),a.createElement(aa,{start:h,center:p,end:O,inverted:!c,direction:m}),l&&a.createElement(na,{start:h,center:p,end:O,inverted:!c,direction:m}),a.createElement(Qn,{payment:u,pathId:d,withPao:o.withPao,isTextAbove:!0,direction:m}))}));class da extends a.PureComponent{constructor(){super(...arguments),this.state={width:0,height:0},this.containerRef=a.createRef()}componentDidMount(){this.onFrameHeightChanged(),frame.addEventListener("resize",this.onFrameHeightChanged.bind(this))}componentWillUnmount(){frame.removeEventListener("resize",this.onFrameHeightChanged.bind(this))}onFrameHeightChanged(){let e=this.containerRef.current;e&&this.setState({width:e.clientWidth,height:e.clientHeight})}render(){const{width:e,height:t}=this.state,{arrows:n}=this.props;let r=.1*(e/2-40),i=.1*(t/2-40),s={};return n.forEach(e=>{let t=cn[e.start].toLowerCase();t=t[0].toUpperCase()+t.slice(1);let n=cn[e.end].toLowerCase();n=n[0].toUpperCase()+n.slice(1),s[t+n]=e}),a.createElement("div",{className:"result-arrows"},a.createElement("div",{className:"result-arrows__inner",ref:this.containerRef},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:`0 0 ${e} ${t}`,fill:"none",stroke:"none"},a.createElement(ia,{offsetX:r,offsetY:i,arrows:s,width:e,height:t}),a.createElement(sa,{offsetX:r,offsetY:i,arrows:s,width:e,height:t}),a.createElement(la,{offsetX:r,offsetY:i,arrows:s,width:e,height:t}),a.createElement(ua,{offsetX:r,offsetY:i,arrows:s,width:e,height:t}),a.createElement(oa,{arrows:s,width:e,height:t}),a.createElement(ca,{arrows:s,width:e,height:t}))))}}const ma=e=>a.createElement(Mn,null,a.createElement(xn,Object.assign({},e,{mode:zt.RIGHT,rotated:!0,verticalButtons:!0}))),ha=a.memo((function({iconType:e,count:t}){return a.createElement("div",{className:"table-info__tenbou"},a.createElement("div",{className:"svg-item"},a.createElement(xe,{type:e})),a.createElement("div",{className:"table-info__tenbou-count"},t))})),pa=a.memo((function(e){const t=Object(a.useContext)(Be),{showRoundInfo:n,showTableNumber:r,showRotators:i,showTimer:s,gamesLeft:o,round:c,honbaCount:l,riichiCount:u,currentTime:d,tableNumber:m,onTableInfoToggle:h,onRotateCcwClick:p,onRotateCwClick:O}=e;return n||r?a.createElement("div",{className:"table-info"},i&&a.createElement(a.Fragment,null,a.createElement("div",{className:"table-info__rotator_ccw",onClick:p},a.createElement(xe,{type:De.ROTATE_CCW})),a.createElement("div",{className:"table-info__rotator_cw",onClick:O},a.createElement(xe,{type:De.ROTATE_CW}))),a.createElement("div",{className:"table-info__info",onClick:h},n&&a.createElement(a.Fragment,null,!!c&&a.createElement("div",{className:"table-info__round"},c),void 0!==u&&a.createElement(ha,{iconType:De.RIICHI_SMALL,count:u}),void 0!==l&&a.createElement(ha,{iconType:De.HONBA,count:l}),s&&a.createElement("div",{className:"table-info__timer"},d),o&&a.createElement("div",{className:"table-info__games-left"},a.createElement("div",{className:"table-info__games-left-count"},t._nt(["%1 deal left","%1 deals left"],o,[o])))),r&&a.createElement(a.Fragment,null,a.createElement("div",{className:"table-info__table-caption"},t._t("Table #%1",[m]))))):null}));n(33);class Oa extends a.Component{constructor(e){super(e),this.element=document.createElement("div")}componentDidMount(){document.getElementById("screen").appendChild(this.element)}componentWillUnmount(){document.getElementById("screen").removeChild(this.element)}render(){return i.createPortal(this.renderModal(),this.element)}renderModal(){const{items:e,onHide:t}=this.props;return a.createElement("div",{className:"modal",onClick:t},a.createElement("div",{className:"modal__bg"}),a.createElement("div",{className:"modal__content select-modal"},a.createElement("div",{className:"select-modal__pointer"}),a.createElement("div",{className:"select-modal__items"},e.filter(e=>!e.unavailable).map((e,t)=>a.createElement(ga,Object.assign({key:t},e))))))}}const ga=a.memo((function(e){const{text:t,onSelect:n}=e;return a.createElement("div",{className:"select-modal__item",onClick:e=>{e.stopPropagation(),n()}},t)}));class Ia extends a.Component{render(){const{topPlayer:e,leftPlayer:t,rightPlayer:n,bottomPlayer:r,bottomPanel:i,outcomeModal:s,tableInfo:o,arrowsInfo:c}=this.props;return a.createElement("div",{className:"flex-container page-table"},a.createElement("div",{className:"flex-container__content flex-container"},a.createElement("div",{className:"flex-container__top"},a.createElement(Yn,Object.assign({},e))),a.createElement("div",{className:"flex-container__content page-table__center"},a.createElement(Gn,Object.assign({},t)),!!o&&a.createElement(pa,Object.assign({},o)),!!c&&a.createElement(da,Object.assign({},c)),a.createElement(ma,Object.assign({},n))),a.createElement("div",{className:"flex-container__bottom"},a.createElement(Bn,Object.assign({},r)))),a.createElement("div",{className:"flex-container__bottom"},a.createElement(Fn,Object.assign({},i))),!!s&&a.createElement(Oa,Object.assign({},s)))}}class Ea extends a.Component{render(){const e=this.context,{state:t,dispatch:n}=this.props;if(t.loading.events||"overview"===t.currentScreen&&(!t.gameOverviewReady||!t.players||4!==t.players.length)||t.loading.addRound||t.loading.overview)return a.createElement(Ve,null);const r=On(e,t,n),i=gn(e,t,n),s=In(e,t,n),o=En(e,t,n),c=function(e,t){var n;if("confirmation"===e.currentScreen)return;let a=!1,r=e.tableIndex,i=!0,s=!1,o=void 0,c=void 0;if(e.showAdditionalTableInfo)"currentGame"===e.currentScreen&&(a=!0,i=!1);else if(void 0!==e.timer)if(null===(n=e.timer)||void 0===n?void 0:n.waiting)e.tableIndex&&(a=!0,i=!1);else if("currentGame"===e.currentScreen||"outcomeSelect"===e.currentScreen){const t=pn(e);void 0!==t&&(s=!0,0===t.minutes&&0===t.seconds?c=e.yellowZoneAlreadyPlayed?1:2:(l=t.minutes,u=t.seconds,o=l.toString()+":"+(u<10?"0"+u.toString():u.toString())))}var l,u;return{showRotators:"otherTable"===e.currentScreen,showRoundInfo:i,showTableNumber:a,showTimer:s,gamesLeft:c,round:ln(e.currentRound),honbaCount:e.honba,riichiCount:e.riichiOnTable,currentTime:o,tableNumber:r,onTableInfoToggle:jn(e,t),onRotateCwClick:()=>t({type:He}),onRotateCcwClick:()=>t({type:be})}}(t,n),l=function(e,t,n){if("outcomeSelect"!==t.currentScreen)return;const a=e=>{n({type:Ne,payload:e}),n({type:g})},r=[{text:e._t("Ron"),onSelect:()=>{a("ron")}},{text:e._t("Tsumo"),onSelect:()=>{a("tsumo")}},{text:e._t("Exhaustive draw"),onSelect:()=>{a("draw")}},{text:e._t("Chombo"),onSelect:()=>{a("chombo")}}],i=t.gameConfig;return i&&(i.withAbortives&&r.push({text:e._t("Abortive draw"),onSelect:()=>{a("abort")},unavailable:!1}),i.withNagashiMangan&&r.push({text:e._t("Nagashi mangan"),onSelect:()=>{a("nagashi")},unavailable:!1})),{items:r,onHide:()=>{n({type:I})}}}(e,t,n),u=An(e,t,n),d=function(e){var t,n;const a=e.changesOverview;if("confirmation"!==e.currentScreen||void 0===a||e.loading.overview)return;let r=[];if(a.paoPlayer)if("tsumo"===(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome))e.currentOutcome.winner&&(r[e.currentOutcome.winner]=a.paoPlayer);else if("ron"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome)){const t=e.currentOutcome.wins;Object.keys(t).forEach(e=>{const n=t[e];n.paoPlayerId&&n.winner&&(r[n.winner]=n.paoPlayerId)})}const i=Tn(e),s={[Wt(e,"confirmation").id]:cn.TOP,[Zt(e,"confirmation").id]:cn.LEFT,[Vt(e,"confirmation").id]:cn.RIGHT,[Ft(e,"confirmation").id]:cn.BOTTOM},o=[];return i.forEach(e=>{if(e.from&&e.to){const t=s[e.from],n=s[e.to],a=r[e.to]===e.from,i={points:e.directAmount,honbaPoints:e.honbaAmount,withRiichi:0!==e.riichiAmount,withPao:a,start:t,end:n};o.push(i)}}),{arrows:o}}(t);return a.createElement(Ia,{topPlayer:r,leftPlayer:i,rightPlayer:s,bottomPlayer:o,tableInfo:c,arrowsInfo:d,outcomeModal:l,bottomPanel:u})}}Ea.contextType=Be;n(6);class Na extends a.Component{onYakuClick(e){e.disabled||e.onClick()}render(){const{yakuGroups:e}=this.props;return a.createElement("div",{className:"select-yaku-panel"},e.map((e,t)=>a.createElement("div",{key:t,className:"select-yaku-panel__group"},e.map((e,t)=>a.createElement("div",{key:t,className:Ge()("select-yaku-panel__button",{"select-yaku-panel__button--pressed":e.pressed},{"select-yaku-panel__button--disabled":e.disabled}),onClick:()=>this.onYakuClick(e)},e.name)))))}}class Sa extends a.Component{get items(){const{possibleValues:e,onChange:t}=this.props;return e.map(e=>({text:e.toString(),onSelect:()=>t(e)}))}render(){return a.createElement(Oa,{items:this.items,onHide:this.props.onHide})}}n(34);class ya extends a.Component{constructor(e){super(e),this.state={isModalShown:!1}}onValueClick(){const{possibleValues:e}=this.props;0!==e.length&&this.setState({isModalShown:!0})}onValueSelect(e){const{onChange:t}=this.props;this.hideModal(),t(e)}hideModal(){this.setState({isModalShown:!1})}get canDecrease(){const{value:e,possibleValues:t}=this.props;return e>t[0]}get canIncrease(){const{value:e,possibleValues:t}=this.props;return e<t[t.length-1]}decrease(){if(this.canDecrease){const{value:e,possibleValues:t,onChange:n}=this.props;let a=t.indexOf(e);n(t[a-1])}}increase(){if(this.canIncrease){const{value:e,possibleValues:t,onChange:n}=this.props;let a=t.indexOf(e);n(t[a+1])}}render(){const e=this.context,{value:t,possibleValues:n}=this.props,{isModalShown:r}=this.state,i=0!==n.length&&-1===n.indexOf(t),s=0===n.length||i?"?":t;return i&&alert(e._t("something goes wrong, please contact your administrator")),a.createElement("div",{className:"number-select"},a.createElement("div",{className:Ge()("number-select__minus svg-button svg-button--xsmall",{"svg-button--disabled":!this.canDecrease}),onClick:this.decrease.bind(this)},a.createElement("svg",null,a.createElement("path",{d:"M 6 12 H 18",stroke:"currentColor",strokeWidth:2,fill:"none"}))),a.createElement("div",{className:"number-select__value",onClick:this.onValueClick.bind(this)},s),a.createElement("div",{className:Ge()("number-select__plus svg-button svg-button--xsmall",{"svg-button--disabled":!this.canIncrease}),onClick:this.increase.bind(this)},a.createElement("svg",null,a.createElement("path",{d:"M 6 12 H 18",stroke:"currentColor",strokeWidth:2,fill:"none"}),a.createElement("path",{d:"M 12 6 V 18",stroke:"currentColor",strokeWidth:2,fill:"none"}))),r&&a.createElement(Sa,{onChange:this.onValueSelect.bind(this),possibleValues:n,onHide:this.hideModal.bind(this)}))}}ya.contextType=Be;class Aa extends a.Component{get hanCount(){const{yakuHan:e,doraCount:t,uraDoraCount:n=0,redFivesCount:a=0}=this.props;return e+t+n+a}render(){const e=this.context,{isYakuman:t,yakuHan:n,doraCount:r,doraValues:i,onDoraSelected:s,withUraDora:o,uraDoraCount:c,uraDoraValues:l,onUraDoraSelected:u,withRedFives:d,redFivesCount:m,redFivesValues:h,onRedFivesSelected:p,fuCount:O,fuValues:g,onFuSelected:I}=this.props,E=O?e._t("%1 han %2 fu",[this.hanCount,O]):e._t("%1 han",[this.hanCount]);return a.createElement("div",{className:"select-total-panel"},!t&&a.createElement(a.Fragment,null,a.createElement("div",{className:"select-total-panel__top-group"},e._t("Han from yaku")," ",a.createElement("span",null,n)),a.createElement("div",{className:"select-total-panel__max"},a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Dora")),a.createElement(ya,{value:r,possibleValues:i,onChange:s})),o&&void 0!==c&&void 0!==l&&a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Ura dora")),a.createElement(ya,{value:c,possibleValues:l,onChange:u})),d&&void 0!==m&&void 0!==h&&a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Red fives")),a.createElement(ya,{value:m,possibleValues:h,onChange:p})),a.createElement("div",{className:"select-total-panel__select-group"},a.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Fu")),a.createElement(ya,{value:O,possibleValues:g,onChange:I}))),a.createElement("div",{className:"select-total-panel__bottom-group"},E)),t&&a.createElement("div",{className:"select-total-panel__center"},e._t("Yakuman")))}}Aa.contextType=Be;var Ta,Ua;n(35);class fa extends a.Component{render(){const{items:e}=this.props;return a.createElement("div",{className:"tab-panel"},a.createElement("div",{className:"tab-panel__items"},e.map((e,t)=>a.createElement("div",{key:t,className:Ge()("tab-panel__item",{"tab-panel__item--active":e.isActive}),onClick:e.onClick},e.caption))))}}!function(e){e[e.UNAVAILABLE=0]="UNAVAILABLE",e[e.AVAILABLE=1]="AVAILABLE",e[e.DISABLED=2]="DISABLED"}(Ta||(Ta={})),function(e){e.YAKU="Yaku",e.TOTAL="Total"}(Ua||(Ua={}));const va=(e,t)=>[{caption:Ua.YAKU,isActive:e===Ua.YAKU,onClick:()=>t(Ua.YAKU)},{caption:Ua.TOTAL,isActive:e===Ua.TOTAL,onClick:()=>t(Ua.TOTAL)}];class Ca extends a.Component{onLeftArrowClick(){const{leftArrowState:e,leftArrowClick:t}=this.props;e!==Ta.DISABLED&&t()}onRightArrowClick(){const{rightArrowState:e,rightArrowClick:t}=this.props;e!==Ta.DISABLED&&t()}render(){const{playerName:e,yakuGroups:t,bottomPanelText:n,leftArrowState:r,rightArrowState:i,activeTab:s,onTabClick:o,onBackClick:c,canGoNext:l,onNextClick:u,isYakuman:d,yakuHan:m,doraCount:h,doraValues:p,onDoraSelected:O,withUraDora:g,uraDoraCount:I,uraDoraValues:E,onUraDoraSelected:N,withRedFives:S,redFivesCount:y,redFivesValues:A,onRedFivesSelected:T,fuCount:U,fuValues:f,onFuSelected:v}=this.props;return a.createElement("div",{className:"flex-container page-select-hand"},a.createElement("div",{className:"page-select-hand__top-panel top-panel top-panel--between"},a.createElement("div",{className:"page-select-hand__top-panel-arrow"},r!==Ta.UNAVAILABLE&&a.createElement("div",{className:Ge()("svg-button svg-button--xsmall",{"svg-button--disabled":r===Ta.DISABLED}),onClick:this.onLeftArrowClick.bind(this)},a.createElement(xe,{type:De.ARROW_LEFT}))),a.createElement("div",{className:"page-select-hand__player-name"},e),a.createElement("div",{className:"page-select-hand__top-panel-arrow"},i!==Ta.UNAVAILABLE&&a.createElement("div",{className:Ge()("svg-button svg-button--xsmall",{"svg-button--disabled":i===Ta.DISABLED}),onClick:this.onRightArrowClick.bind(this)},a.createElement(xe,{type:De.ARROW_RIGHT})))),a.createElement(fa,{items:va(s,o)}),s===Ua.YAKU&&a.createElement(Na,{yakuGroups:t}),s===Ua.TOTAL&&a.createElement(Aa,{isYakuman:d,yakuHan:m,doraCount:h,doraValues:p,onDoraSelected:O,withUraDora:g,uraDoraCount:I,uraDoraValues:E,onUraDoraSelected:N,withRedFives:S,redFivesCount:y,redFivesValues:A,onRedFivesSelected:T,fuCount:U,fuValues:f,onFuSelected:v}),a.createElement("div",{className:"flex-container__bottom"},a.createElement(Fn,{text:n,showBack:!0,showNext:!0,isNextDisabled:!l,onBackClick:c,onNextClick:u})))}}function _a(e,t){return e.map(e=>e.filter(e=>e.id===Nt.__OPENHAND||-1!==t.indexOf(e.id))).filter(e=>e.length>0)}const ba=[St.filter(e=>-1!==[Nt.__OPENHAND].indexOf(e.id)),St.filter(e=>-1!==[Nt.RIICHI,Nt.IPPATSU,Nt.MENZENTSUMO].indexOf(e.id)),St.filter(e=>-1!==[Nt.PINFU,Nt.TANYAO].indexOf(e.id)),St.filter(e=>-1!==[Nt.YAKUHAI1,Nt.YAKUHAI2,Nt.YAKUHAI3].indexOf(e.id)),St.filter(e=>-1!==[Nt.ITTSU,Nt.HONITSU,Nt.CHINITSU].indexOf(e.id)),St.filter(e=>-1!==[Nt.TOITOI,Nt.CHIITOITSU].indexOf(e.id)),St.filter(e=>-1!==[Nt.CHANTA,Nt.JUNCHAN].indexOf(e.id)),St.filter(e=>-1!==[Nt.SANSHOKUDOUJUN,Nt.IIPEIKOU].indexOf(e.id))],Ha=[St.filter(e=>-1!==[Nt.DOUBLERIICHI,Nt.OPENRIICHI].indexOf(e.id)),St.filter(e=>-1!==[Nt.HONROTO,Nt.SHOSANGEN,Nt.YAKUHAI4].indexOf(e.id)),St.filter(e=>-1!==[Nt.SANANKOU,Nt.SANSHOKUDOUKOU,Nt.SANKANTSU].indexOf(e.id)),St.filter(e=>-1!==[Nt.RYANPEIKOU].indexOf(e.id)),St.filter(e=>-1!==[Nt.HAITEI,Nt.HOUTEI,Nt.RINSHANKAIHOU].indexOf(e.id)),St.filter(e=>-1!==[Nt.CHANKAN,Nt.RENHOU].indexOf(e.id))],wa=[St.filter(e=>-1!==[Nt.TENHOU,Nt.CHIHOU].indexOf(e.id)),St.filter(e=>-1!==[Nt.DAISANGEN,Nt.DAISUUSHII,Nt.SHOSUUSHII].indexOf(e.id)),St.filter(e=>-1!==[Nt.SUUANKOU,Nt.SUUKANTSU].indexOf(e.id)),St.filter(e=>-1!==[Nt.CHINROTO,Nt.TSUUIISOU,Nt.KOKUSHIMUSOU].indexOf(e.id)),St.filter(e=>-1!==[Nt.RYUUIISOU,Nt.CHUURENPOUTO].indexOf(e.id))];const ka=ht((function(e){if(!e.gameConfig)return{};const t={};for(let n of Lt(e)){const a=_a(ba,e.gameConfig.allowedYaku),r=_a(Ha,e.gameConfig.allowedYaku),i=_a(wa,e.gameConfig.allowedYaku);t[n.id]=a.concat(r).concat(i)}return t}));const Ra=ht((function(e){const t=ka(e),n=function(e){let t;const n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return t=Rt(n.yaku),en(e,n.winner,t,wt(e.yakuList,t),[Nt.HOUTEI,Nt.CHANKAN,Nt.RENHOU]);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return t=Rt(n.wins[e.multironCurrentWinner].yaku),en(e,e.multironCurrentWinner,t,wt(e.yakuList,t),[Nt.MENZENTSUMO,Nt.HAITEI,Nt.TENHOU,Nt.CHIHOU]);default:return[]}}(e);return Lt(e).reduce((a,r)=>{a[r.id]={};for(let i of t[r.id])for(let t of i)-1!==n.indexOf(t.id)||Mt(e,t.id)||(a[r.id][t.id]=!0);return a},{})}));class Pa extends a.Component{onTabClick(e){const{state:t,dispatch:n}=this.props;"yaku"===t.currentSelectHandTab&&e===Ua.TOTAL?n({type:Le,payload:"total"}):"total"===t.currentSelectHandTab&&e===Ua.YAKU&&n({type:Le,payload:"yaku"})}onYakuClick(e){const{state:t,dispatch:n}=this.props;Mt(t,e)?n({type:A,payload:{id:e,winner:t.multironCurrentWinner}}):n({type:S,payload:{id:e,winner:t.multironCurrentWinner}})}onBackClick(){const{state:e,dispatch:t}=this.props;t({type:I})}onNextClick(){const{dispatch:e}=this.props;e({type:g})}onDoraSelected(e){const{state:t,dispatch:n}=this.props;n({type:E,payload:{count:e,winner:t.multironCurrentWinner}})}onUraDoraSelected(e){}onRedFivesSelected(e){}onFuSelected(e){const{state:t,dispatch:n}=this.props;n({type:N,payload:{count:e,winner:t.multironCurrentWinner}})}onLeftArrowClick(){this.goToMultironUser(-1)}onRightArrowClick(){this.goToMultironUser(1)}goToMultironUser(e){const{state:t,dispatch:n}=this.props,a=t.multironCurrentWinner;if(a){const r=Lt(t),i=r.findIndex(e=>e.id===a);if(-1!==i){const t=r[i+e].id;n({type:Se,payload:{winner:t}}),n({type:Le,payload:"yaku"})}}}render(){const e=this.context,{state:t}=this.props;if(!t.currentOutcome||"ron"!==t.currentOutcome.selectedOutcome&&"tsumo"!==t.currentOutcome.selectedOutcome)return null;const n=t.multironCurrentWinner;if(!n)return null;const r=Lt(t),i=r.find(e=>e.id===n),s=void 0!==i?i.displayName:"",o=yn(e,t.currentOutcome.selectedOutcome),c=!!function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":return 0!=nn(e);case"ron":const t=e.currentOutcome;return Lt(e).reduce((e,n)=>e&&0!=t.wins[n.id].han,!0)}}(t);let l=Ta.UNAVAILABLE,u=Ta.UNAVAILABLE;r.length>1&&(l=r[0].id===n?Ta.DISABLED:Ta.AVAILABLE,u=r[r.length-1].id===n?Ta.DISABLED:Ta.AVAILABLE);const d="total"===t.currentSelectHandTab?Ua.TOTAL:Ua.YAKU,m=Qt(t),h=Ra(t)[n],p=ka(t)[n],O=[];p.forEach(t=>{const n=[];t.forEach(t=>{const a={name:t.name(e),onClick:()=>this.onYakuClick(t.id),disabled:h[t.id],pressed:-1!==m.indexOf(t.id)};n.push(a)}),O.push(n)});const g=nn(t,n),I=g<0,E=sn(t,n),N=on(t),S=an(t,n),y=g>0&&E+g<=4?rn(t):[];return a.createElement(Ca,{playerName:s,yakuGroups:O,bottomPanelText:o,leftArrowState:l,leftArrowClick:this.onLeftArrowClick.bind(this),rightArrowState:u,rightArrowClick:this.onRightArrowClick.bind(this),activeTab:d,onTabClick:this.onTabClick.bind(this),canGoNext:c,onNextClick:this.onNextClick.bind(this),onBackClick:this.onBackClick.bind(this),isYakuman:I,yakuHan:g,doraCount:E,doraValues:N,onDoraSelected:this.onDoraSelected.bind(this),withUraDora:!1,uraDoraCount:undefined,uraDoraValues:undefined,onUraDoraSelected:this.onUraDoraSelected.bind(this),withRedFives:!1,redFivesCount:undefined,redFivesValues:undefined,onRedFivesSelected:this.onRedFivesSelected.bind(this),fuCount:S,fuValues:y,onFuSelected:this.onFuSelected.bind(this)})}}Pa.contextType=Be;n(36);class La extends a.Component{render(){const{players:e,showRepeatButton:t,onCheckClick:n,onRepeatClick:r}=this.props;return a.createElement("div",{className:"page-game-result"},e.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"page-game-result__players"},e.map((e,t)=>a.createElement("div",{key:t,className:"player-result"},a.createElement("div",{className:"player-result__name"},e.name),a.createElement("div",{className:"player-result__score-container"},a.createElement("div",{className:"player-result__score"},e.score),a.createElement("div",{className:Ge()("player-result__delta",{"player-result__delta--danger":e.delta<0},{"player-result__delta--success":e.delta>0})},e.delta<=0?e.delta:"+"+e.delta))))),a.createElement("div",{className:"page-game-result__buttons"},t&&a.createElement(a.Fragment,null,a.createElement("div",{className:"flat-btn flat-btn--medium",onClick:r},a.createElement(xe,{type:De.REPEAT})),a.createElement("div",{className:"flat-btn flat-btn--medium",onClick:n},a.createElement(xe,{type:De.SAVE}))),!t&&a.createElement("div",{className:"flat-btn flat-btn--large",onClick:n},a.createElement(xe,{type:De.SAVE})))),0===e.length&&a.createElement(a.Fragment,null,a.createElement("div",{className:"page-game-result__no-games"},"No games found"),a.createElement("div",{className:"page-game-result__buttons"},a.createElement("div",{className:"flat-btn flat-btn--large",onClick:n},a.createElement(xe,{type:De.SAVE})))))}}const Ka=e=>{const{state:t,dispatch:n}=e;if("lastResults"!==t.currentScreen||We(t)||!t.gameConfig)return r.a.createElement(Ve,null);let i=[];t.lastResults&&(i=t.lastResults.map(e=>({name:e.displayName,score:e.score,delta:e.ratingDelta})));const s=!t.gameConfig.autoSeating&&!t.isUniversalWatcher&&!t.currentSessionHash,o=Object(a.useCallback)(()=>{n({type:g})},[n]),c=Object(a.useCallback)(()=>{let e;t.lastResults&&(e=t.lastResults.map(e=>e.id)),n({type:l,payload:e})},[t.lastResults,n]);return r.a.createElement(La,{players:i,showRepeatButton:s,onCheckClick:o,onRepeatClick:c})};n(12);const ja=({onSubmit:e,signupLink:t})=>{const n=Object(a.useContext)(Be),[r,i]=Object(a.useState)(""),[s,o]=Object(a.useState)("");return a.createElement("div",{className:"page-enter-credentials"},a.createElement("div",{className:"page-enter-credentials__title"},n._t("Pantheon: log in")),a.createElement("div",{className:"page-enter-credentials__form"},a.createElement("input",{className:"page-enter-credentials__input",type:"text",onChange:e=>i(e.currentTarget.value)}),a.createElement("label",null,n._t("Email")),a.createElement("br",null),a.createElement("br",null),a.createElement("input",{className:"page-enter-credentials__input",type:"password",onChange:e=>o(e.currentTarget.value)}),a.createElement("label",null,n._t("Password"))),a.createElement("div",{className:"page-enter-credentials__button-container"},a.createElement("a",{className:"flat-btn flat-btn--large",href:t},n._t("Sign up")),a.createElement("button",{className:"flat-btn flat-btn--large",style:{"justify-self":"end"},onClick:()=>e(r,s)},n._t("Log in"))))},xa=e=>{const{dispatch:t}=e,n=Object(a.useCallback)((e,n)=>{e.length>0&&n.length>0&&t({type:b,payload:{email:e,password:n}})},[t]);return a.createElement(ja,{onSubmit:n,signupLink:nt.guiUrl+"signup"})};n(13);const Da=({onOkClick:e})=>{const t=Object(a.useContext)(Be),n=`<a href=${nt.guiUrl+"signup"} target='_blank'>${t._pt("Name of registration link","register")}</a>`;return a.createElement("div",{className:"page-login-error"},a.createElement("div",{className:"page-login-error__title"},t._t("Pantheon")),a.createElement("div",{className:"page-login-error__message"},a.createElement("div",null,t._t("Login attempt has failed. Possible reasons are:")),a.createElement("ul",null,a.createElement("li",{dangerouslySetInnerHTML:{__html:t._t("E-mail is not registered in Pantheon database (%1)",[n])}}),a.createElement("li",null,t._t("Password check has failed")),a.createElement("li",null,t._t("Unexpected server error"))),a.createElement("div",null,t._t("If in doubt, contact the tournament administrator for further instructions."))),a.createElement("div",{className:"page-login-error__button-container"},a.createElement("div",{className:"flat-btn flat-btn--large",onClick:e},t._t("OK"))))},Ma=e=>{const{dispatch:t}=e,n=Object(a.useCallback)(()=>{t({type:k})},[t]);return a.createElement(Da,{onOkClick:n})},Ga=e=>{const{state:t}=e;return t.loading.login?a.createElement(Ve,null):t.loginError?a.createElement(Ma,Object.assign({},e)):a.createElement(xa,Object.assign({},e))};n(37);const Ba=e=>{const{players:t,index:n,selectRound:r,round:i,scoresDelta:s,scores:o,children:c}=e,l=Object(a.useCallback)(()=>{r(n)},[n,r]);return a.createElement("div",{className:"page-log__row-container",onClick:l},a.createElement("div",{className:"page-log__row"},a.createElement("div",{className:"page-log__cell page-log__cell--first"},i),Object.keys(t).map(e=>a.createElement(Ya,{key:e,delta:s[e],score:o[e]}))),c)},Ya=e=>{const{delta:t,score:n}=e;return a.createElement("div",{className:"page-log__cell"},a.createElement("div",{className:Ge()("page-log__delta",{"page-log__delta--success":t>0},{"page-log__delta--danger":t<0})},t>0?"+"+t:t),a.createElement("div",{className:"page-log__score"},n))};function Fa(e,t,n){if(t<0)return e._t("yakuman");let a=e._t("%1 han",[t]);return t<5&&n?e._t("%1 han %2 fu",[t,n]):a}function Va(e,t){return e._t("Pao from: %1",[t])}function Wa(e,t){return e._t("Honba: %1",[t])}function Za(e,t){return e._t("Tempai: %1",[t.join(", ")])}function Ja(e,t,n){let a;return t.length?(a=t.join(", "),n&&(a+=" + "+n)):a=n.toString(),e._t("Riichi bets: %1",[a])}function qa(e,t,n){const a=e._t("dora %1",[n]);return""+[...t,n?a:null].filter(e=>!!e).join(", ")}function za(e,t){switch(e.outcome){case"ron":return function(e,t){const{winner:n,loser:a,paoPlayer:r,han:i,fu:s,dora:o,yakuList:c,riichiPlayers:l,riichiOnTable:u,honbaOnTable:d}=e,m=[];return m.push(t._t("Ron, %1",[Fa(t,i,s)])),m.push(t._t("%1 \u2190 %2",[n,a])),m.push(qa(t,c,o)),r&&m.push(Va(t,r)),m.push(""),m.push(Ja(t,l,u)),m.push(Wa(t,d)),m}(e,t);case"multiron":return function(e,t){const{loser:n,winnerList:a,hanList:r,fuList:i,doraList:s,yakuList:o,paoPlayerList:c,riichiPlayers:l,riichiOnTable:u,honbaOnTable:d}=e,m=[];return m.push(t._t("Multiron, from %1",[n])),m.push(""),a.forEach((e,n)=>{const a=r[n],l=i[n],u=s[n],d=o[n],h=c[n];m.push(Fa(t,a,l)),m.push(e),m.push(qa(t,d,u)),h&&m.push(Va(t,h)),m.push("")}),m.push(Ja(t,l,u)),m.push(Wa(t,d)),m}(e,t);case"tsumo":return function(e,t){const{winner:n,paoPlayer:a,han:r,fu:i,dora:s,yakuList:o,riichiPlayers:c,riichiOnTable:l,honbaOnTable:u}=e,d=[];return d.push(t._t("Tsumo, %1",[Fa(t,r,i)])),d.push(n),d.push(qa(t,o,s)),a&&d.push(Va(t,a)),d.push(""),d.push(Ja(t,c,l)),d.push(Wa(t,u)),d}(e,t);case"draw":return function(e,t){const{tempai:n,riichiPlayers:a,riichiOnTable:r,honbaOnTable:i}=e,s=[];return s.push(t._t("Exhaustive draw")),s.push(Za(t,n)),s.push(""),s.push(Ja(t,a,r)),s.push(Wa(t,i)),s}(e,t);case"abort":return function(e,t){const{riichiPlayers:n,riichiOnTable:a,honbaOnTable:r}=e,i=[];return i.push(t._t("Abortive draw")),i.push(""),i.push(Ja(t,n,a)),i.push(Wa(t,r)),i}(e,t);case"chombo":return function(e,t){const{penaltyFor:n,riichiPlayers:a,riichiOnTable:r,honbaOnTable:i}=e,s=[];return s.push(t._t("Chombo")),s.push(n),s.push(""),s.push(Ja(t,a,r)),s.push(Wa(t,i)),s}(e,t);case"nagashi":return function(e,t){const{nagashi:n,tempai:a,riichiPlayers:r,riichiOnTable:i,honbaOnTable:s}=e,o=[];return o.push(t._t("Nagashi mangan")),o.push(n.join(", ")),o.push(Za(t,a)),o.push(""),o.push(Ja(t,r,i)),o.push(Wa(t,s)),o}(e,t)}}const $a=e=>{const t=za(e,Object(a.useContext)(Be)),n=t.length;return r.a.createElement("div",{className:"page-log__info"},t.map((e,t)=>r.a.createElement(r.a.Fragment,{key:t},e,t!==n-1&&r.a.createElement("br",null))))},Xa=e=>{const t=Object(a.useContext)(Be),{players:n,results:r,rounds:i,onBackClick:s}=e,[o,c]=Object(a.useState)(void 0),l=Object(a.useCallback)(e=>{c(o===e?void 0:e)},[o,c]);return a.createElement("div",{className:"flex-container page-log"},!r.length&&a.createElement("div",{className:"flex-container__content page-log__no-results"},t._t("No results found")),!!r.length&&a.createElement(a.Fragment,null,a.createElement("div",{className:"flex-container__top page-log__names"},a.createElement("div",{className:"page-log__row"},a.createElement("div",{className:"page-log__cell page-log__cell--first"}),Object.keys(n).map(e=>a.createElement("div",{key:e,className:"page-log__cell"},n[e])))),a.createElement("div",{className:"flex-container__content page-log__rounds"},r.map((e,t)=>a.createElement(Ba,{key:t,players:n,index:t,scoresDelta:e.scoresDelta,scores:e.scores,round:e.round,selectRound:l},o===t&&a.createElement($a,Object.assign({},i[t])))))),a.createElement("div",{className:"flex-container__bottom"},a.createElement(Fn,{text:t._t("Game log"),showBack:!0,onBackClick:s})))};function Qa(e,t){return e.split(",").map(e=>parseInt(e,10)).map(e=>yt[e].name(t))}function er(e,t){return{riichiOnTable:e.riichi,honbaOnTable:e.honba,riichiPlayers:e.riichiIds.map(e=>t[e])}}function tr(e,t,n){switch(e.outcome){case"ron":return function(e,t,n){var a,r;const i=er(e,t);return Object.assign(Object.assign({},i),{outcome:e.outcome,riichiPlayers:e.riichiIds.map(e=>t[e]),loser:t[e.loser],winner:t[e.winner],paoPlayer:null!==e.paoPlayer?t[e.paoPlayer]:void 0,yakuList:Qa(e.yaku,n),han:e.han,fu:null!==(a=e.fu)&&void 0!==a?a:void 0,dora:null!==(r=e.dora)&&void 0!==r?r:void 0})}(e,t,n);case"multiron":return function(e,t,n){const a=er(e,t);return Object.assign(Object.assign({},a),{outcome:e.outcome,loser:t[e.loser],winnerList:e.winner.map(e=>t[e]),paoPlayerList:e.paoPlayer.map(e=>null!==e?t[e]:void 0),yakuList:e.yaku.map(e=>Qa(e,n)),hanList:e.han,fuList:e.fu.map(e=>null!==e&&void 0!==e?e:void 0),doraList:e.dora.map(e=>null!==e&&void 0!==e?e:void 0)})}(e,t,n);case"tsumo":return function(e,t,n){var a,r;const i=er(e,t);return Object.assign(Object.assign({},i),{outcome:e.outcome,riichiPlayers:e.riichiIds.map(e=>t[e]),winner:t[e.winner],paoPlayer:null!==e.paoPlayer?t[e.paoPlayer]:void 0,yakuList:Qa(e.yaku,n),han:e.han,fu:null!==(a=e.fu)&&void 0!==a?a:void 0,dora:null!==(r=e.dora)&&void 0!==r?r:void 0})}(e,t,n);case"draw":return function(e,t){const n=er(e,t);return Object.assign(Object.assign({},n),{outcome:e.outcome,tempai:e.tempai.map(e=>t[e])})}(e,t);case"abort":return function(e,t){const n=er(e,t);return Object.assign(Object.assign({},n),{outcome:e.outcome})}(e,t);case"chombo":return function(e,t){const n=er(e,t);return Object.assign(Object.assign({},n),{outcome:e.outcome,penaltyFor:t[e.penaltyFor]})}(e,t);case"nagashi":return function(e,t){const n=er(e,t);return Object.assign(Object.assign({},n),{outcome:e.outcome,tempai:e.tempai.map(e=>t[e]),nagashi:e.nagashi.map(e=>t[e])})}(e,t)}}const nr=e=>{const{state:t,dispatch:n}=e,r=Object(a.useContext)(Be),i=Object(a.useCallback)(()=>{n({type:I})},[n]);if(t.loading.overview)return a.createElement(Ve,null);let s={},o=[],c=[];return!t.allRoundsOverviewErrorCode&&t.allRoundsOverview&&t.players&&(t.players.forEach(e=>{s[e.id.toString()]=e.displayName}),t.allRoundsOverview.forEach(e=>{o.push({round:ln(e.round),scores:e.scores,scoresDelta:e.scoresDelta}),c.push(tr(e,s,r))})),a.createElement(Xa,{players:s,results:o,onBackClick:i,rounds:c})};n(38);const ar=a.memo((function(e){const t=Object(a.useContext)(Be),{playerName:n,events:r,onBackClick:i,onSelectEvent:s,currentEvent:o}=e;return a.createElement("div",{className:"flex-container page-event-select"},a.createElement("div",{className:"flex-container__content"},a.createElement(ze,{onBackClick:i}),a.createElement("div",{className:"page-event-select__name"},n),a.createElement("div",{className:"page-event-select__section"},r.length>0?a.createElement(a.Fragment,null,a.createElement("div",{className:"page-event-select__section-title"},t._t("Select event")),a.createElement("div",{className:"page-event-select__section-content"},r.map(e=>a.createElement("div",{key:e.id,className:Ge()("radio-menuitem",{"radio-menuitem--active":e.id===o}),onClick:()=>s(e.id)},e.title)))):a.createElement("div",{style:{textAlign:"center"}},t._t("There is no events you participate in right now")))))}));class rr extends a.PureComponent{onBackClick(){const{dispatch:e}=this.props;e({type:I})}onSelectEvent(e){const{dispatch:t}=this.props;t({type:Ee,payload:e})}componentDidMount(){const{dispatch:e}=this.props;e({type:Oe})}render(){const{state:e}=this.props,t=this.context,n=e.currentPlayerDisplayName||t._t("name");return e.loading.events?a.createElement(Ve,null):a.createElement(ar,{playerName:n,events:e.eventsList,currentEvent:e.currentEventId,onBackClick:this.onBackClick.bind(this),onSelectEvent:this.onSelectEvent.bind(this)})}}rr.contextType=Be;n(14);const ir={1:"\u67711",2:"\u67712",3:"\u67713",4:"\u67714",5:"\u53571",6:"\u53572",7:"\u53573",8:"\u53574"};class sr extends a.PureComponent{render(){const{onTableClick:e,onBackClick:t}=this.props;return a.createElement("div",{className:"page-other-tables-list"},a.createElement(ze,{onBackClick:t}),a.createElement("div",{className:"page-other-tables-list__content"},this.props.tables.map(t=>a.createElement("div",{key:t.hash,className:"page-other-tables-list__table",onClick:()=>e(t.hash)},ir[t.currentRound],t.players.map(e=>a.createElement("div",{key:e.id},e.displayName,": ",e.score))))))}}class or extends a.Component{onBackClick(){this.props.dispatch({type:I})}onTableClick(e){this.props.dispatch({type:V,payload:e})}render(){const{state:e}=this.props;return e.otherTablesListError?a.createElement("div",null,e.otherTablesListError.message):a.createElement(sr,{tables:e.otherTablesList,onTableClick:this.onTableClick.bind(this),onBackClick:this.onBackClick.bind(this)})}}const cr=e=>{const{state:t}=e;switch(t.currentScreen){case"login":return a.createElement(Ga,Object.assign({},e));case"eventSelector":return a.createElement(rr,Object.assign({},e));case"overview":return a.createElement(Ze,Object.assign({},e));case"settings":return a.createElement(st,Object.assign({},e));case"newGame":return a.createElement(lt,Object.assign({},e));case"searchPlayer":return a.createElement(gt,Object.assign({},e));case"currentGame":case"outcomeSelect":case"playersSelect":case"confirmation":case"nagashiSelect":case"paoSelect":case"otherTable":return a.createElement(Ea,Object.assign({},e));case"handSelect":return a.createElement(Pa,Object.assign({},e));case"lastResults":return a.createElement(Ka,Object.assign({},e));case"gameLog":return a.createElement(nr,Object.assign({},e));case"otherTablesList":return a.createElement(or,Object.assign({},e))}return null},lr=e=>{var t;const{state:n,dispatch:r,storage:i,i18nService:o}=e,l=null!==(t=n.settings.currentTheme)&&void 0!==t?t:"day";return Object(a.useEffect)(()=>{r({type:s}),o.init(e=>{r({type:ke,payload:e})},e=>console.error(e)),r({type:Ke});const e=i.get(nt.idbEventKey,"int");e&&r({type:Ee,payload:e}),r({type:c,payload:{token:i.get(nt.idbTokenKey,"string")||"",personId:i.get(nt.idbIdKey,"int")}})},[]),a.createElement("div",{id:"screen",className:"App theme-"+l},a.createElement(Be.Provider,{value:o},a.createElement(cr,{state:n,dispatch:r})))};var ur=n(5);function dr(e,t){var n,a,r,i,s;switch(t.type){case o:return Object.assign(Object.assign({},e),{currentScreen:"otherTable"===e.currentScreen||"otherTablesList"===e.currentScreen?e.currentScreen:"overview",currentRound:1,currentOutcome:void 0,players:void 0,mapIdToPlayer:{},riichiOnTable:0,honba:0,currentSessionHash:"",multironCurrentWinner:void 0,gameOverviewReady:!0});case l:return Object.assign(Object.assign({},e),{currentScreen:"newGame",newGameIdsToSet:t.payload});case d:return Object.assign(Object.assign({},e),{currentScreen:"eventSelector"});case u:return Object.assign(Object.assign({},e),{currentScreen:"currentGame"});case m:return Object.assign(Object.assign({},e),{currentScreen:"searchPlayer",newGameSelectedPlayerSide:t.payload});case h:return Object.assign(Object.assign({},e),{currentScreen:"lastResults"});case p:return Object.assign(Object.assign({},e),{currentScreen:"gameLog"});case"SHOW_OTHER_TABLE":return Object.assign(Object.assign({},e),{currentScreen:"otherTable",currentOtherTableHash:t.payload.hash});case"SHOW_OTHER_TABLES_LIST":return Object.assign(Object.assign({},e),{currentScreen:"otherTablesList"});case O:return Object.assign(Object.assign({},e),{currentScreen:"settings"});case g:if(!e.gameConfig)return e;let c=e.currentScreen;switch(e.currentScreen){case"currentGame":case"overview":c="outcomeSelect";break;case"outcomeSelect":c="nagashi"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome)?"nagashiSelect":"playersSelect";break;case"playersSelect":switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"ron":case"tsumo":c="handSelect";break;case"draw":case"abort":case"chombo":case"nagashi":c="confirmation"}break;case"handSelect":switch(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome){case"ron":case"tsumo":c=dn(e.currentOutcome,e.gameConfig)?"paoSelect":"confirmation";break;default:c="confirmation"}break;case"paoSelect":c="confirmation";break;case"nagashiSelect":c="playersSelect";break;case"lastResults":case"gameLog":case"confirmation":c="overview"}return c===e.currentScreen?e:Object.assign(Object.assign({},e),{currentScreen:c,showAdditionalTableInfo:!1});case I:if(!e.gameConfig)return e;let E=e.currentScreen,N=e.currentOutcome;switch(e.currentScreen){case"outcomeSelect":E="currentGame",N=void 0;break;case"otherTablesList":case"settings":case"newGame":case"currentGame":case"eventSelector":e.currentEventId&&(E="overview");break;case"searchPlayer":E="newGame";break;case"gameLog":E=e.currentSessionHash?"currentGame":"otherTable";break;case"playersSelect":"nagashi"===(null===(i=e.currentOutcome)||void 0===i?void 0:i.selectedOutcome)?E="nagashiSelect":(E="outcomeSelect",N=void 0);break;case"handSelect":E="playersSelect";break;case"confirmation":switch(null===(s=e.currentOutcome)||void 0===s?void 0:s.selectedOutcome){case"ron":case"tsumo":E=dn(e.currentOutcome,e.gameConfig)?"paoSelect":"handSelect";break;case"draw":case"abort":case"chombo":case"nagashi":E="playersSelect"}break;case"paoSelect":E="handSelect";break;case"nagashiSelect":E="outcomeSelect";break;case"otherTable":E="otherTablesList"}return E===e.currentScreen?e:Object.assign(Object.assign({},e),{currentScreen:E,currentOutcome:N,showAdditionalTableInfo:!1});default:return e}}const mr=e=>t=>n=>a=>{let r=t.getState().currentPlayerId,i=t.getState().currentEventId;switch(a.type){case c:if(!a.payload.token)return void t.dispatch({type:M});!function(e,t,n,a,r,i,s){e.setCredentials(a,r),e.quickAuthorize().then(o=>{t({type:R,payload:{authToken:r,personId:a}}),i?(t({type:Ee,payload:i}),hr(e,n,t,a,i),s&&t({type:j,payload:s})):t({type:d})}).catch(()=>{t({type:M})})}(e,t.dispatch,n,a.payload.personId,a.payload.token,i,t.getState().currentSessionHash);break;case Oe:e.getMyEvents().then(e=>t.dispatch({type:ge,payload:e})).catch(e=>t.dispatch({type:Ie,payload:e}));break;case b:!function(e,t,n,a){a({type:b});let r=0;const i=()=>{t.authorize(e.email,e.password).then(e=>{r=0,n({type:H,payload:e})}).catch(e=>{r++,r<5?setTimeout(i,500):(r=0,n({type:w,payload:e}))})};i()}(a.payload,e,t.dispatch,n);break;case R:return e.setCredentials(a.payload.personId,a.payload.authToken),n(a);case P:if(!r||!i)return;hr(e,n,t.dispatch,r,i);break;case j:if(!a.payload)return void t.dispatch({type:o});!function(e,t,n){n({type:j}),t.getGameOverview(e).then(e=>n({type:x,payload:e})).catch(e=>n({type:D,payload:e}))}(a.payload,e,n);break;case G:if(!i)return;!function(e,t,n){t({type:G}),e.getTablesState(n).then(e=>t({type:Y,payload:e})).catch(e=>t({type:F,payload:e}))}(e,n,i);break;case B:if(!i)return;!function(e,t,n){t({type:B}),e.getTablesState(n).then(e=>t({type:Y,payload:e})).catch(e=>t({type:F,payload:e}))}(e,n,i);break;case V:!function(e,t,n){n({type:V,payload:e}),t.getGameOverview(e).then(e=>n({type:Z,payload:e})).catch(e=>n({type:J,payload:e}))}(a.payload,e,n);break;case W:!function(e,t,n){n({type:W}),t.getGameOverview(e).then(e=>n({type:Z,payload:e})).catch(e=>n({type:J,payload:e}))}(t.getState().currentOtherTableHash||"",e,n);break;case"GET_OTHER_TABLE_LAST_ROUND_INIT":n(a);break;case q:!function(e,t,n){n({type:q}),t.getAllRounds(e).then(e=>n({type:z,payload:e})).catch(e=>n({type:$,payload:e}))}(a.payload,e,n);break;case ee:!function(e,t,n){n({type:ee}),t.getChangesOverview(e).then(e=>n({type:te,payload:e})).catch(e=>n({type:ne,payload:e}))}(a.payload,e,n);break;case ae:if(!r||!i)return;!function(e,t,n,a){t({type:ae}),e.getLastResults(n,a).then(e=>t({type:re,payload:e})).catch(e=>t({type:ie,payload:e}))}(e,n,r,i);break;case se:if(!i)return;!function(e,t,n){t({type:se}),e.getAllPlayers(n).then(e=>t({type:oe,payload:e})).catch(e=>t({type:ce,payload:e}))}(e,n,i);break;case le:if(!i)return;!function(e,t,n,a,r){n({type:le}),t.startGame(r,e).then(e=>{a({type:ue,payload:e}),a({type:o}),a({type:Ee,payload:r}),a({type:P}),a({type:u})}).catch(e=>n({type:de,payload:e}))}(a.payload,e,n,t.dispatch,i);break;case me:!function(e,t,n,a){n({type:me}),t.addRound(e).then(t=>{t||n({type:pe,payload:{code:500,message:"Server error occurred while saving the game"}}),n({type:he,payload:t}),t._isFinished||a({type:j,payload:e.currentSessionHash})}).catch(e=>n({type:pe,payload:e}))}(a.payload,e,n,t.dispatch);break;default:return n(a)}};function hr(e,t,n,a,r){t({type:P});const i=[e.getCurrentGames(a,r),e.getUserInfo([a]),e.getGameConfig(r),e.getTimerState(r)];Promise.all(i).then(([e,[a],r,i])=>{t({type:L,payload:{games:e,playerInfo:a,gameConfig:r,timerState:i}}),e.length>0&&n({type:j,payload:e[0].hashcode}),n({type:X,payload:{waiting:i.waitingForTimer,secondsRemaining:i.timeRemaining}})}).catch(e=>{401===e.code?n({type:M}):t({type:K,payload:e})})}class pr{constructor(e,t){this._errcode=parseInt(t,10),this._message="[REMOTE]: "+e}get message(){return this._message}get code(){return this._errcode}toString(){return"[REMOTE ERROR] code:"+this.code+", message: "+this.message}}function Or(e){return{tableIndex:e.table_index,players:[...e.players.map(t=>({tenhouId:"",ratingDelta:0,id:t.id,displayName:t.title,score:e.state.scores[t.id]||0,penalties:e.state.penalties[t.id]||0}))],currentRound:e.state.round,riichiOnTable:e.state.riichi,honba:e.state.honba,yellowZoneAlreadyPlayed:e.state.yellowZoneAlreadyPlayed}}function gr(e){return{started:!!e.started,finished:!!e.finished,timeRemaining:e.time_remaining?parseInt(e.time_remaining.toString(),10):0,waitingForTimer:!!e.waiting_for_timer}}function Ir(e){return e.map(e=>({id:parseInt(e.id.toString(),10),displayName:e.title,tenhouId:e.tenhou_id}))}function Er(e){return e?e.map(e=>({id:parseInt(e.id.toString(),10),displayName:e.title,tenhouId:"",score:e.score,ratingDelta:e.rating_delta,penalties:0})):[]}function Nr(e){return e.map(e=>({id:parseInt(e.id.toString(),10),description:e.description,title:e.title}))}function Sr(e){return{yakuWithPao:(e.yakuWithPao||[]).map(e=>parseInt(e.toString(),10)),allowedYaku:(e.allowedYaku||[]).map(e=>parseInt(e.toString(),10)),startPoints:parseInt(e.startPoints.toString(),10),withKazoe:!!e.withKazoe,withKiriageMangan:!!e.withKiriageMangan,withAbortives:!!e.withAbortives,withNagashiMangan:!!e.withNagashiMangan,eventTitle:e.eventTitle,withAtamahane:!!e.withAtamahane,autoSeating:!!e.autoSeating,rulesetTitle:e.rulesetTitle,eventStatHost:nt.guiFix(e.eventStatHost),tonpuusen:!!e.tonpuusen,startRating:parseInt(e.startRating.toString(),10),riichiGoesToWinner:!!e.riichiGoesToWinner,extraChomboPayments:!!e.extraChomboPayments,chomboPenalty:parseInt(e.chomboPenalty.toString(),10),withKuitan:!!e.withKuitan,withButtobi:!!e.withButtobi,withMultiYakumans:!!e.withMultiYakumans,gameExpirationTime:parseInt(e.gameExpirationTime.toString(),10),withLeadingDealerGameover:!!e.withLeadingDealerGameover,redZone:e.redZone?parseInt(e.redZone.toString(),10):null,yellowZone:e.yellowZone?parseInt(e.yellowZone.toString(),10):null,timerPolicy:"yellowZone"===e.timerPolicy||"redZone"===e.timerPolicy?e.timerPolicy:"none",useTimer:!!e.useTimer,isOnline:!!e.isOnline,isTextlog:!!e.isTextlog,syncStart:!!e.syncStart,sortByGames:!!e.sortByGames,allowPlayerAppend:!!e.allowPlayerAppend}}function yr(e){const t=e=>({id:parseInt(e.id.toString(),10),displayName:e.title,score:e.score,penalties:0});return e.map(e=>({hashcode:e.hashcode,tableIndex:e.table_index,status:e.status,players:[t(e.players[0]),t(e.players[1]),t(e.players[2]),t(e.players[3])]}))}function Ar(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"ron":let t=0,n=Pt(e).map(n=>{let a=t>0?"":Gt(e).map(e=>e.id).join(",");return t++,{riichi:a,winner_id:n.winner,pao_player_id:n.paoPlayerId,han:n.han+n.dora,fu:an(e,n.winner),dora:n.dora,uradora:n.uradora,kandora:n.kandora,kanuradora:n.kanuradora,yaku:n.yaku.filter(e=>e>0).join(","),open_hand:-1!==n.yaku.indexOf(Nt.__OPENHAND)}});return n.length>1?{round_index:e.currentRound,honba:e.honba,outcome:"multiron",loser_id:Kt(e)[0].id,multi_ron:n.length,wins:n}:Object.assign({round_index:e.currentRound,honba:e.honba,outcome:"ron",loser_id:Kt(e)[0].id,multi_ron:null},n[0]);case"tsumo":return{round_index:e.currentRound,honba:e.honba,outcome:"tsumo",riichi:Gt(e).map(e=>e.id).join(","),winner_id:Lt(e)[0].id,pao_player_id:(jt(e)[0]||{id:null}).id,han:nn(e)+sn(e),fu:an(e),multi_ron:null,dora:sn(e),uradora:0,kandora:0,kanuradora:0,yaku:Qt(e).filter(e=>e>0).join(","),open_hand:-1!==Qt(e).indexOf(Nt.__OPENHAND)};case"draw":return{round_index:e.currentRound,honba:e.honba,outcome:"draw",riichi:Gt(e).map(e=>e.id).join(","),tempai:Lt(e).map(e=>e.id).join(",")};case"nagashi":return{round_index:e.currentRound,honba:e.honba,outcome:"nagashi",riichi:Gt(e).map(e=>e.id).join(","),tempai:Lt(e).map(e=>e.id).join(","),nagashi:Dt(e).map(e=>e.id).join(",")};case"abort":return{round_index:e.currentRound,honba:e.honba,outcome:"abort",riichi:Gt(e).map(e=>e.id).join(",")};case"chombo":return{round_index:e.currentRound,honba:e.honba,outcome:"chombo",loser_id:Kt(e)[0].id}}}function Tr(e){return e.filter(e=>"inprogress"===e.status).map(e=>({hash:e.hash,currentRound:parseInt(e.current_round.toString(),10),index:parseInt((e.table_index||"").toString(),10),players:e.players.map(t=>({id:parseInt(t.id.toString(),10),displayName:t.title,score:parseInt(e.scores[t.id].toString(),10),penalties:0}))}))}function Ur(e){return{personId:parseInt((e[0]||0).toString(),10),token:e[1]}}class fr{constructor(){this._authToken=null,this._personId=null}setCredentials(e,t){this._authToken=t,this._personId=(e||0).toString()}startGame(e,t){return this._jsonRpcRequest("startGame",e,t)}getMyEvents(){return this._jsonRpcRequest("getMyEvents").then(Nr)}getGameConfig(e){return this._jsonRpcRequest("getGameConfig",e).then(Sr)}getTimerState(e){return this._jsonRpcRequest("getTimerState",e).then(gr)}getLastResults(e,t){return this._jsonRpcRequest("getLastResults",e,t).then(Er)}getAllPlayers(e){return this._jsonRpcRequest("getAllPlayers",[e]).then(Ir)}getGameOverview(e){return this._jsonRpcRequest("getGameOverview",e).then(Or)}getCurrentGames(e,t){return this._jsonRpcRequest("getCurrentGames",e,t).then(yr)}getUserInfo(e){return this._jsonRpcRequestFrey("getPersonalInfo",e).then(Ir)}confirmRegistration(e){return this._jsonRpcRequest("registerPlayer",e)}getChangesOverview(e){const t=e.currentSessionHash||"",n=Ar(e);return this._jsonRpcRequest("addRound",t,n,!0)}getLastRoundByHash(e){return this._jsonRpcRequest("getLastRoundByHash",e).then(t=>(t.sessionHash=e,t))}getLastRound(e,t){return this._jsonRpcRequest("getLastRound",e,t)}getAllRounds(e){return this._jsonRpcRequest("getAllRounds",e)}addRound(e){const t=e.currentSessionHash||"",n=Ar(e);return this._jsonRpcRequest("addRound",t,n,!1)}getTablesState(e){return this._jsonRpcRequest("getTablesState",e).then(Tr)}quickAuthorize(){return this._jsonRpcRequestFrey("quickAuthorize",this._personId,this._authToken)}authorize(e,t){return this._jsonRpcRequestFrey("authorize",e,t).then(Ur)}_jsonRpcRequest(e,...t){let n=new Headers;n.append("Content-Type","application/json"),n.append("X-Api-Version",nt.apiVersion.map(e=>e.toString()).join(".")),n.append("X-Auth-Token",this._authToken||""),n.append("X-Current-Person-Id",this._personId||"");const a={jsonrpc:"2.0",method:e,params:t,id:Math.round(1e6*Math.random())},r={method:"post",headers:n,body:JSON.stringify(a)};return fetch(nt.apiUrl,r).then(e=>e.json()).then(e=>{if(e.error)throw nt.production||console.error(e.error.message),new pr(e.error.message,e.error.code.toString());return e.result})}_jsonRpcRequestFrey(e,...t){let n=new Headers;n.append("Content-Type","application/json"),n.append("X-Api-Version",nt.apiVersion.map(e=>e.toString()).join(".")),n.append("X-Auth-Token",this._authToken||""),n.append("X-Current-Person-Id",this._personId||"");const a={jsonrpc:"2.0",method:e,params:t,id:Math.round(1e6*Math.random())},r={method:"post",headers:n,body:JSON.stringify(a)};return fetch(nt.uaUrl,r).then(e=>e.json()).then(e=>{if(e.error)throw nt.production||console.error(e.error.message),new pr(e.error.message,e.error.code.toString());return e.result})}}var vr=n(4),Cr=n.n(vr);const _r=[[Nt.TOITOI,2,2],[Nt.HONROTO,2,2],[Nt.SANANKOU,2,2],[Nt.SANSHOKUDOUKOU,2,2],[Nt.SANKANTSU,2,2],[Nt.SUUKANTSU,-1,-1],[Nt.SUUANKOU,-1,0],[Nt.PINFU,1,0],[Nt.IIPEIKOU,1,0],[Nt.RYANPEIKOU,3,0],[Nt.SANSHOKUDOUJUN,2,1],[Nt.ITTSU,2,1],[Nt.YAKUHAI1,1,1],[Nt.YAKUHAI2,2,2],[Nt.YAKUHAI3,3,3],[Nt.YAKUHAI4,4,4],[Nt.SHOSANGEN,2,2],[Nt.DAISANGEN,-1,-1],[Nt.SHOSUUSHII,-1,-1],[Nt.DAISUUSHII,-1,-1],[Nt.TSUUIISOU,-1,-1],[Nt.TANYAO,1,1],[Nt.CHANTA,2,1],[Nt.JUNCHAN,3,2],[Nt.CHINROTO,-1,-1],[Nt.HONITSU,3,2],[Nt.CHINITSU,6,5],[Nt.CHUURENPOUTO,-1,0],[Nt.RYUUIISOU,-1,-1],[Nt.CHIITOITSU,2,0],[Nt.KOKUSHIMUSOU,-1,0],[Nt.RIICHI,1,0],[Nt.DOUBLERIICHI,2,0],[Nt.IPPATSU,1,0],[Nt.MENZENTSUMO,1,0],[Nt.HAITEI,1,1],[Nt.RINSHANKAIHOU,1,1],[Nt.TENHOU,-1,0],[Nt.CHIHOU,-1,0],[Nt.HOUTEI,1,1],[Nt.CHANKAN,1,1],[Nt.RENHOU,5,0],[Nt.OPENRIICHI,1,0]];let br={},Hr={};function wr(e,t){return-1!==e.indexOf(Nt.CHIITOITSU)?[25]:-1!==e.indexOf(Nt.PINFU)&&-1!==e.indexOf(Nt.MENZENTSUMO)&&-1===e.indexOf(Nt.__OPENHAND)?[20]:"ron"===t&&-1===e.indexOf(Nt.__OPENHAND)?-1!==e.indexOf(Nt.PINFU)?[30]:[40,50,60,70,80,90,100,110]:[30,40,50,60,70,80,90,100,110]}function kr(e){const t=-1!==e.indexOf(Nt.__OPENHAND);return e.reduce((e,n)=>n===Nt.__OPENHAND?e:e+(t?br[n]:Hr[n]),0)}function Rr(e,t,n){var a;switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"tsumo":return Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),t)});case"ron":if(!n)throw new Error("No winner getter provided");const a=n();if(!a)throw new Error("No winner provided");return Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),{wins:Object.assign(Object.assign({},e.currentOutcome.wins),{[a]:Object.assign(Object.assign({},e.currentOutcome.wins[a]),t)})})});default:throw new Error("Wrong outcome modifier used")}}function Pr(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"abort":case"draw":case"nagashi":return Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),t)});default:throw new Error("Wrong outcome modifier used")}}_r.forEach(e=>{0!==e[1]&&(Hr[e[0]]=e[1]),0!==e[2]&&(br[e[0]]=e[2])});const Lr=[function(e,t,n){return"tsumo"===e&&(!n.includes(Nt.RIICHI)&&!n.includes(Nt.DOUBLERIICHI)||n.includes(Nt.MENZENTSUMO)||n.push(Nt.MENZENTSUMO)),n},function(e,t,n,a){if("tsumo"===e)if(a===Nt.MENZENTSUMO){const e=n.indexOf(Nt.__OPENHAND);-1!==e&&n.splice(e,1),-1===n.indexOf(Nt.MENZENTSUMO)&&n.push(Nt.__OPENHAND)}else if(a===Nt.__OPENHAND){const e=n.indexOf(Nt.MENZENTSUMO);-1!==e&&n.splice(e,1),-1===n.indexOf(Nt.__OPENHAND)&&n.push(Nt.MENZENTSUMO)}return n}],Kr=[function(e,t,n,a,r){return a===Nt.DOUBLERIICHI&&t.winner&&r.includes(t.winner)&&n.includes(Nt.DOUBLERIICHI)&&!n.includes(Nt.RIICHI)&&n.push(Nt.RIICHI),n}];function jr(e,t,n,a,r,i){if(!r)return;let s=Rt(e.yaku);if(-1!==s.indexOf(n))return;-1!==ft.indexOf(n)&&(e=Object.assign(Object.assign({},e),{dora:0})),s=Kr.reduce((a,r)=>r(t,e,s,n,i),s),s=function(e,t,n){return e.tryAddAllowedNode(n.map(e=>bt[e]),bt[t]).map(e=>e.data.id)}(r,n,s),s=Lr.reduce((a,r)=>r(t,e,s,n,i),s);const o=kt(s);if(e.yaku!==o){let a=e.fu;const r=kr(s),i=wr(s,t);-1!==i.indexOf(e.fu)&&n!==Nt.__OPENHAND||(a=i[0]),e=Object.assign(Object.assign({},e),{yaku:o,han:r,fu:a,possibleFu:i})}return e}function xr(e,t,n,a){let r=Rt(e.yaku);if(-1===r.indexOf(n))return;r=Kr.reduce((i,s)=>s(t,e,r,n,a),r);const i=r.indexOf(n);-1!==i&&r.splice(i,1),r=Lr.reduce((i,s)=>s(t,e,r,n,a),r);const s=kt(r);if(e.yaku!==s){let n=e.fu;const a=kr(r),i=wr(r,t);-1===i.indexOf(n)&&(n=i[0]),e=Object.assign(Object.assign({},e),{yaku:s,han:a,fu:n,possibleFu:i})}return e}function Dr(e,t,n){return[...e.slice(0,t),n,...e.slice(t+1)]}const Mr={currentOtherTableIndex:0,isUniversalWatcher:!1,settings:{currentLang:"en",currentTheme:"day"},timer:void 0,yakuList:void 0,currentScreen:"overview",currentSessionHash:void 0,currentOutcome:void 0,currentRound:1,currentPlayerDisplayName:void 0,currentPlayerId:void 0,players:void 0,mapIdToPlayer:{},riichiOnTable:0,honba:0,multironCurrentWinner:void 0,isLoggedIn:!1,gameConfig:void 0,tableIndex:void 0,yellowZoneAlreadyPlayed:!1,otherTablesList:[],currentOtherTable:void 0,currentOtherTableHash:void 0,currentOtherTablePlayers:[],isIos:!1,showAdditionalTableInfo:!1,currentSelectHandTab:void 0,loading:{games:!1,overview:!1,otherTables:!1,otherTable:!1,login:!1,players:!1,addRound:!1,events:!1},eventsList:[],newGameSelectedUsers:[pt,pt,pt,pt],gameOverviewReady:!1,historyInitialized:!1};function Gr(e,t){let n;switch(t){case"ron":n={selectedOutcome:"ron",roundIndex:e,loser:void 0,loserIsDealer:!1,multiRon:0,riichiBets:[],wins:{}};break;case"tsumo":n={selectedOutcome:"tsumo",roundIndex:e,winner:void 0,winnerIsDealer:!1,han:0,fu:30,possibleFu:wr([],"tsumo"),yaku:"",riichiBets:[],dora:0,openHand:!1};break;case"draw":n={selectedOutcome:"draw",roundIndex:e,riichiBets:[],tempai:[],deadhands:[]};break;case"nagashi":n={selectedOutcome:"nagashi",roundIndex:e,riichiBets:[],tempai:[],deadhands:[],nagashi:[]};break;case"abort":n={selectedOutcome:"abort",roundIndex:e,riichiBets:[],deadhands:[]};break;case"chombo":n={selectedOutcome:"chombo",roundIndex:e,loser:void 0,loserIsDealer:!1}}return n}function Br(e,t){var n,a,r,i;let s,o;switch(t.type){case b:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{login:!0}),loginError:void 0});case H:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{login:!1}),currentPlayerId:t.payload.personId||void 0,isLoggedIn:!0,currentScreen:"eventSelector",loginError:void 0});case w:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{login:!1}),isLoggedIn:!1,currentScreen:"login",loginError:{details:t.payload,message:t.payload.message}});case k:return Object.assign(Object.assign({},e),{currentScreen:"login",loginError:void 0});case P:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{games:!0})});case L:t.payload.games[0]||(e=Object.assign(Object.assign({},e),{currentScreen:["otherTablesList","otherTable","lastResults"].includes(e.currentScreen)?e.currentScreen:"overview"}));let c={},l=void 0;if(t.payload.games[0]){l=t.payload.games[0].players;for(let e of l)c[e.id.toString()]=e}return Object.assign(Object.assign({},e),{gameConfig:t.payload.gameConfig,currentPlayerId:t.payload.playerInfo.id,currentPlayerDisplayName:t.payload.playerInfo.displayName,currentSessionHash:t.payload.games[0]&&t.payload.games[0].hashcode,players:l,mapIdToPlayer:c,yakuList:Ht(t.payload.gameConfig.withMultiYakumans),timer:Object.assign(Object.assign({},e.timer),{secondsRemaining:t.payload.timerState.timeRemaining||0,lastUpdateSecondsRemaining:t.payload.timerState.timeRemaining||0,lastUpdateTimestamp:Math.round((new Date).getTime()/1e3),waiting:t.payload.timerState.waitingForTimer}),loading:Object.assign(Object.assign({},e.loading),{games:!1})});case K:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{games:!1}),updateCurrentGamesError:{details:t.payload,message:t.payload.message}});case se:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{players:!0}),allPlayers:void 0,allPlayersError:void 0});case oe:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{players:!1}),allPlayers:t.payload,allPlayersError:void 0});case ce:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{players:!1}),allPlayers:void 0,allPlayersError:{details:t.payload,message:t.payload.message}});case ee:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!0})});case te:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),changesOverview:t.payload,changesOverviewError:void 0});case ne:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),changesOverview:void 0,changesOverviewError:{message:t.payload.message,details:t.payload}});case q:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!0}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:void 0});case z:return t.payload?Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),allRoundsOverview:t.payload,allRoundsOverviewErrorCode:void 0}):Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:404});case $:let u=418;return s=t.payload?t.payload.code:404,Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:u});case ae:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!0}),lastResults:void 0,lastResultsError:void 0});case re:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),lastResults:t.payload,lastResultsError:void 0});case ie:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{overview:!1}),lastResults:void 0,lastResultsError:{details:t.payload,message:t.payload.message}});case le:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{games:!0}),newGameStartError:void 0});case ue:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{games:!1}),newGameStartError:void 0});case de:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{games:!1}),newGameStartError:{details:t.payload,message:t.payload.message}});case ye:const d=function(e){let t,n,a=e.length;for(;0!==a;)n=Math.floor(Math.random()*a),a-=1,t=e[a],e[a]=e[n],e[n]=t;return e}([].concat(e.newGameSelectedUsers||[]));return Object.assign(Object.assign({},e),{newGameSelectedUsers:d});case Ae:if(!e.newGameIdsToSet)return e;const m=e.newGameIdsToSet.map(t=>{var n;return(null===(n=e.allPlayers)||void 0===n?void 0:n.find(e=>e.id===t))||pt});return Object.assign(Object.assign({},e),{newGameSelectedUsers:m,newGameIdsToSet:void 0});case Te:return o=(null===(n=e.allPlayers)||void 0===n?void 0:n.find(e=>e.id===t.payload))||pt,Object.assign(Object.assign({},e),{newGameSelectedUsers:Dr(e.newGameSelectedUsers||[],0,o)});case Ue:return o=(null===(a=e.allPlayers)||void 0===a?void 0:a.find(e=>e.id===t.payload))||pt,Object.assign(Object.assign({},e),{newGameSelectedUsers:Dr(e.newGameSelectedUsers||[],1,o)});case fe:return o=(null===(r=e.allPlayers)||void 0===r?void 0:r.find(e=>e.id===t.payload))||pt,Object.assign(Object.assign({},e),{newGameSelectedUsers:Dr(e.newGameSelectedUsers||[],2,o)});case ve:return o=(null===(i=e.allPlayers)||void 0===i?void 0:i.find(e=>e.id===t.payload))||pt,Object.assign(Object.assign({},e),{newGameSelectedUsers:Dr(e.newGameSelectedUsers||[],3,o)});case He:return Object.assign(Object.assign({},e),{overviewViewShift:((e.overviewViewShift||0)+1)%4});case be:return Object.assign(Object.assign({},e),{overviewViewShift:((e.overviewViewShift||0)+3)%4});case j:return Object.assign(Object.assign({},e),{gameOverviewReady:!1});case x:return Object.assign(Object.assign(Object.assign({},e),{gameOverviewReady:!0}),t.payload);case D:return Object.assign(Object.assign({},e),{currentScreen:"login"});case G:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{otherTables:!0}),otherTablesListError:void 0});case Y:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{otherTables:!1}),otherTablesList:t.payload,currentScreen:"otherTablesList",otherTablesListError:void 0});case F:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{otherTables:!1}),currentScreen:"otherTablesList",otherTablesListError:{message:t.payload.message,details:t.payload}});case V:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{otherTable:!0}),currentOtherTable:void 0,currentOtherTableHash:t.payload,currentOtherTableIndex:0,allRoundsOverview:void 0,currentOtherTablePlayers:[],otherTableError:void 0});case Z:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{otherTable:!1}),currentScreen:"otherTable",currentOtherTable:t.payload,currentOtherTableIndex:t.payload.tableIndex,currentOtherTablePlayers:t.payload.players,otherTableError:void 0});case J:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{otherTable:!1}),currentScreen:"otherTable",currentOtherTable:void 0,currentOtherTableHash:void 0,currentOtherTableIndex:0,allRoundsOverview:void 0,currentOtherTablePlayers:[],otherTableError:{message:t.payload.message,details:t.payload}});case me:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{addRound:!0})});case he:if(t.payload._isFinished){const t=Cr()(Mr);return Object.assign(Object.assign({},t),{eventsList:e.eventsList,currentEventId:e.currentEventId,currentScreen:"lastResults",gameConfig:e.gameConfig,currentPlayerDisplayName:e.currentPlayerDisplayName,currentPlayerId:e.currentPlayerId,isLoggedIn:e.isLoggedIn,isIos:e.isIos,yakuList:e.yakuList,isUniversalWatcher:e.isUniversalWatcher,settings:e.settings})}return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{addRound:!1}),currentOutcome:void 0,currentScreen:"currentGame"});case pe:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{addRound:!1}),changesOverviewError:{details:t.payload,message:t.payload.message}});case Oe:return Object.assign(Object.assign({},e),{eventsListError:void 0,loading:Object.assign(Object.assign({},e.loading),{events:!0})});case ge:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{events:!1}),currentOutcome:void 0,eventsList:t.payload});case Ie:return Object.assign(Object.assign({},e),{loading:Object.assign(Object.assign({},e.loading),{events:!1}),eventsListError:t.payload});case Ee:return Object.assign(Object.assign({},e),{currentEventId:t.payload,currentScreen:"overview"});case Ke:return Object.assign(Object.assign({},e),{historyInitialized:!0});default:return e}}function Yr(e,t){let n=[t[0],t[1],t[2],t[3]];for(let a=1;a<e.roundIndex;a++)n=[n.pop()].concat(n);return n[0].id}function Fr(e,t,n){let a,r=e;return t.forEach(e=>{var t,i,s;switch(null===(t=r.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":if(a=jr(r.currentOutcome,r.currentOutcome.selectedOutcome,e,null===(i=r.gameConfig)||void 0===i||i.allowedYaku,r.yakuList,r.currentOutcome.riichiBets),!a)return;break;case"ron":if(!n)return;if(a=jr(r.currentOutcome.wins[n],r.currentOutcome.selectedOutcome,e,null===(s=r.gameConfig)||void 0===s||s.allowedYaku,r.yakuList,r.currentOutcome.riichiBets),!a)return;break;default:return}r=Rr(r,a,()=>n)}),r}function Vr(e,t){var n,a,r,i,s,o,c;let l,u;switch(t.type){case Ne:return Object.assign(Object.assign({},e),{currentOutcome:Gr(e.currentRound,t.payload)});case E:return Rr(e,{dora:t.payload.count},()=>t.payload.winner);case N:return Rr(e,{fu:t.payload.count},()=>t.payload.winner);case S:return Fr(e,[t.payload.id].concat(Xt(e)),t.payload.winner);case y:switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"tsumo":return Fr(e,Xt(e),e.multironCurrentWinner);case"ron":let t=e;return Object.keys(e.currentOutcome.wins).forEach(n=>{t=Fr(t,Xt(e,parseInt(n,10)),parseInt(n,10))}),t;default:return e}case A:if(-1!==Xt(e).indexOf(t.payload.id))return e;switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"tsumo":if(l=xr(e.currentOutcome,e.currentOutcome.selectedOutcome,t.payload.id,e.currentOutcome.riichiBets),!l)return e;break;case"ron":if(l=xr(e.currentOutcome.wins[t.payload.winner],e.currentOutcome.selectedOutcome,t.payload.id,e.currentOutcome.riichiBets),!l)return e;break;default:return e}return Rr(e,l,()=>t.payload.winner);case T:const d=e.currentOutcome;if(u=t.payload,d&&"chombo"===d.selectedOutcome)return e;const m=-1===(null===d||void 0===d?void 0:d.riichiBets.indexOf(u))?[...d.riichiBets,u]:null===d||void 0===d?void 0:d.riichiBets.filter(e=>e!==u);if("draw"===(null===d||void 0===d?void 0:d.selectedOutcome)||"nagashi"===(null===d||void 0===d?void 0:d.selectedOutcome)){if(-1===d.tempai.indexOf(u)&&-1===d.deadhands.indexOf(u))return Pr(e,{tempai:[...d.tempai,u],riichiBets:m});if(-1!==d.riichiBets.indexOf(u)&&-1!==d.deadhands.indexOf(u))return Pr(e,{deadhands:d.deadhands.filter(e=>e!==u),riichiBets:d.riichiBets.filter(e=>e!==u)})}return"ron"===(null===d||void 0===d?void 0:d.selectedOutcome)||"tsumo"===(null===d||void 0===d?void 0:d.selectedOutcome)?function(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"ron":case"tsumo":return Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),t)})}return e}(e,{riichiBets:m}):"draw"===(null===d||void 0===d?void 0:d.selectedOutcome)||"nagashi"===(null===d||void 0===d?void 0:d.selectedOutcome)||"abort"===(null===d||void 0===d?void 0:d.selectedOutcome)?Pr(e,{riichiBets:m}):e;case U:switch(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome){case"tsumo":return Rr(e,{winner:e.currentOutcome.winner===t.payload?void 0:t.payload,winnerIsDealer:void 0===e.currentOutcome.winner&&void 0!==e.players&&Yr(e.currentOutcome,e.players)===t.payload});case"draw":case"nagashi":if(-1===e.currentOutcome.riichiBets.indexOf(t.payload))return-1===e.currentOutcome.tempai.indexOf(t.payload)?Pr(e,{tempai:[...e.currentOutcome.tempai,t.payload]}):Pr(e,{tempai:e.currentOutcome.tempai.filter(e=>e!==t.payload)});if(-1!==e.currentOutcome.tempai.indexOf(t.payload)&&-1===e.currentOutcome.deadhands.indexOf(t.payload))return Pr(e,{deadhands:[...e.currentOutcome.deadhands,t.payload],tempai:e.currentOutcome.tempai.filter(e=>e!==t.payload)});throw Error("Tempai button cannot exist while deadhand button pressed");case"ron":return function(e,t,n,a=!1){var r;if("ron"!==(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome))throw new Error("Wrong outcome modifier used");if(a){const n=Object.assign({},e.currentOutcome.wins);return delete n[t],Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),{multiRon:e.currentOutcome.wins[t]?e.currentOutcome.multiRon-1:e.currentOutcome.multiRon,wins:n})})}return Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),{multiRon:e.currentOutcome.wins[t]?e.currentOutcome.multiRon:e.currentOutcome.multiRon+1,wins:Object.assign(Object.assign({},e.currentOutcome.wins),{[t]:{winner:t,winnerIsDealer:n,han:0,fu:0,possibleFu:[],yaku:"",dora:0,openHand:!1}})})})}(e,t.payload,void 0!==e.players&&Yr(e.currentOutcome,e.players)===t.payload,!!e.currentOutcome.wins[t.payload]);default:throw new Error("No winners exist on this outcome")}case f:switch(null===(i=e.currentOutcome)||void 0===i?void 0:i.selectedOutcome){case"ron":case"chombo":return function(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"ron":case"chombo":return Object.assign(Object.assign({},e),{currentOutcome:Object.assign(Object.assign({},e.currentOutcome),t)});default:throw new Error("Wrong outcome modifier used")}}(e,{loser:e.currentOutcome.loser===t.payload?void 0:t.payload,loserIsDealer:void 0===e.currentOutcome.loser&&void 0!==e.players&&Yr(e.currentOutcome,e.players)===t.payload});default:throw new Error("No losers exist on this outcome")}case v:switch(u=t.payload,null===(s=e.currentOutcome)||void 0===s?void 0:s.selectedOutcome){case"tsumo":return Rr(e,{paoPlayerId:e.currentOutcome.paoPlayerId===u?void 0:u});case"ron":return e.multironCurrentWinner?Rr(e,{paoPlayerId:e.currentOutcome.wins[e.multironCurrentWinner].paoPlayerId===u?void 0:u},()=>e.multironCurrentWinner):e;default:throw new Error("No pao exist on this outcome")}case C:switch(null===(o=e.currentOutcome)||void 0===o?void 0:o.selectedOutcome){case"draw":case"nagashi":if(-1!==e.currentOutcome.riichiBets.indexOf(t.payload)){if(-1===e.currentOutcome.tempai.indexOf(t.payload)&&-1!==e.currentOutcome.deadhands.indexOf(t.payload))return Pr(e,{deadhands:e.currentOutcome.deadhands.filter(e=>e!==t.payload),tempai:[...e.currentOutcome.tempai,t.payload]});throw Error("Deadhand button cannot exist while tempai button pressed")}throw new Error("Deadhand button cannot exist without pressed riichi");default:throw new Error("No losers exist on this outcome")}case _:switch(null===(c=e.currentOutcome)||void 0===c?void 0:c.selectedOutcome){case"nagashi":return-1===e.currentOutcome.nagashi.indexOf(t.payload)?Pr(e,{nagashi:[...e.currentOutcome.nagashi,t.payload]}):Pr(e,{nagashi:e.currentOutcome.nagashi.filter(e=>e!==t.payload)});default:throw new Error("No nagashi exist on this outcome")}default:return e}}class Wr{constructor(){this._eventId=null,this._metrikaId=null,this._metrikaId=nt.metrikaId}setUserId(e){this._metrikaId&&window.ym(this._metrikaId,"setUserID",e.toString())}setEventId(e){this._eventId=e}track(e,t={},n){this._metrikaId&&window.ym(this._metrikaId,"reachGoal","TYR_MTT_"+e,Object.assign({eventId:(n?n.toString():(this._eventId||"").toString())||Wr.NOT_INITIALIZED},t))}}Wr.NOT_INITIALIZED="not_initialized",Wr.APP_INIT="app_init",Wr.LOGOUT="logout",Wr.I18N_INIT="i18n_init",Wr.LANG_CHANGED="lang_changed",Wr.REMOTE_ERROR="remote_error",Wr.LOCAL_ERROR="local_error",Wr.SCREEN_ENTER="screen_enter",Wr.CONFIG_RECEIVED="config_received",Wr.UNIVERSAL_WATCHER_INITIALIZED="universal_watcher_initialized",Wr.LOAD_STARTED="load_started",Wr.LOAD_SUCCESS="load_success",Wr.LOAD_ERROR="load_error";function Zr(e,t){var n,a;switch(t.type){case Q:return Object.assign(Object.assign({},e),{timer:Object.assign(Object.assign({},e.timer),{waiting:t.payload.waiting,secondsRemaining:t.payload.secondsRemaining,lastUpdateTimestamp:t.payload.lastUpdateTimestamp||(null===(n=e.timer)||void 0===n?void 0:n.lastUpdateTimestamp)||0,lastUpdateSecondsRemaining:t.payload.lastUpdateTimestamp?t.payload.secondsRemaining:(null===(a=e.timer)||void 0===a?void 0:a.lastUpdateSecondsRemaining)||0})});default:return e}}const Jr=()=>Math.round((new Date).getTime()/1e3);function qr(e,t){switch(t.type){case s:return Cr()(Mr);case R:return Object.assign(Object.assign({},e),{currentPlayerId:t.payload.personId});case Se:return Object.assign(Object.assign({},e),{multironCurrentWinner:t.payload.winner});case we:return Object.assign(Object.assign({},e),{settings:Object.assign(Object.assign({},e.settings),{currentTheme:t.payload})});case ke:return Object.assign(Object.assign({},e),{settings:Object.assign(Object.assign({},e.settings),{currentLang:t.payload})});case Pe:return Object.assign(Object.assign({},e),{settings:Object.assign(Object.assign({},e.settings),{currentLang:(t.payload||e.settings).currentLang,currentTheme:(t.payload||e.settings).currentTheme})});case Le:return Object.assign(Object.assign({},e),{currentSelectHandTab:t.payload});case Ce:return Object.assign(Object.assign({},e),{overviewDiffBy:e.overviewDiffBy===t.payload?void 0:t.payload});case _e:return Object.assign(Object.assign({},e),{showAdditionalTableInfo:!e.showAdditionalTableInfo});default:return e}}class zr{constructor(){this.meta={},this.meta=this.get("__meta","object"),null===this.meta&&(this.meta={},this.set("__meta","object",{}))}get(e,t){try{let n=localStorage.getItem(e);if(null===n)throw new Error;return"object"===t?JSON.parse(n):"int"===t?parseInt(n,10):n}catch(n){return null}}set(e,t,n){try{let a="object"===t?JSON.stringify(n):n;return this.meta[e]=!0,localStorage.setItem(e,a),"__meta"!==e&&this.updateMeta(),!0}catch(a){return!1}}delete(e){for(let t of e)delete this.meta[t],localStorage.removeItem(t);this.updateMeta()}clear(){for(let e in this.meta)this.meta.hasOwnProperty(e)&&localStorage.removeItem(e);this.meta={},this.updateMeta()}updateMeta(){return this.set("__meta","object",this.meta)}}class $r{constructor(e){this.meta={},this.cookieDomain=e,this.meta=this.get("__meta","object"),null===this.meta&&(this.meta={},this.set("__meta","object",{}))}get(e,t){let n=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);try{return n?"object"===t?JSON.parse(n[1]):"int"===t?parseInt(n[1],10):n[1]:null}catch(a){return null}}set(e,t,n){let a=new Date;a.setTime(a.getTime()+31536e6);let r=";expires="+a.toUTCString(),i=this.cookieDomain?";domain=."+this.cookieDomain:"";return document.cookie=e+"="+("object"===t?JSON.stringify(n):n)+r+i+"; path=/","__meta"!==e&&(this.meta[e]=!0,this.updateMeta()),!0}delete(e){let t=new Date;t.setTime(t.getTime()+-864e5);let n=";expires="+t.toUTCString(),a=this.cookieDomain?";domain=."+this.cookieDomain:"";e.forEach(e=>{document.cookie=e+"="+n+a+"; path=/",delete this.meta[e]}),this.updateMeta()}clear(){this.delete(Object.keys(this.meta))}updateMeta(){return this.set("__meta","object",this.meta)}}class Xr{constructor(e){this.metrika=e,this.activeStorages=[],this.cookieEngine=new $r(nt.cookieDomain),this.activeStorages.push(this.cookieEngine);try{if(localStorage.setItem("testStorageItem","1"),"1"!==localStorage.getItem("testStorageItem"))throw this.metrika.track(Wr.LOCAL_ERROR,{message:"Local storage not supported on device"}),new Error;localStorage.removeItem("testStorageItem"),this.storageEngine=new zr,this.activeStorages.push(this.storageEngine)}catch(t){this.storageEngine=this.cookieEngine}}set(e,t,n){return this.activeStorages.reduce((a,r)=>a&&r.set(e,t,n),!0)}get(e,t){let n=this.storageEngine.get(e,t),a=this.cookieEngine.get(e,t);return n===a?n:null===n?(this.storageEngine.set(e,t,a),a):(this.cookieEngine.set(e,t,n),n)}delete(e){this.activeStorages.forEach(t=>t.delete(e))}clear(){this.activeStorages.forEach(e=>e.clear())}}const Qr=e=>t=>t=>n=>(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(console.groupCollapsed(`${e}: ${n.type}`),console.log("Payload: ",n.payload),console.groupEnd()),t(n));function ei(e){return e+"px"}function ti(){const e=document.documentElement.style;e.setProperty("--screenWidth",ei(window.screen.width)),e.setProperty("--screenHeight",ei(window.screen.height))}function ni(e,t,n,a,r){const i=new XMLHttpRequest,s=nt.apiUrl,o={jsonrpc:"2.0",method:"addErrorLog",params:["Tyr",(window.__debugInfo||{}).sh,(window.__debugInfo||{}).p,e+"\n@"+t+":"+n+":"+a,r&&r.stack],id:Math.round(1e6*Math.random())};i.open("POST",s,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(o))}ti(),window.addEventListener("resize",ti),function(){if(!window.__errHandlerRegistered){if(window.onerror){const e=window.onerror;window.onerror=function(t,n,a,r,i){e(t,n,a,r,i),ni(t,n,a,r,i)}}else window.onerror=ni;window.__errHandlerRegistered=!0}}();const ai=new Wr,ri=new Xr(ai),ii=new class{constructor(e){this.storage=e,this.i18nController=new Xe.TranslationController((e,t)=>{switch(e){case"ru":t(e,JSON.stringify(rt[e]));break;case"en":default:let n={items:[],meta:{projectIdVersion:"1",reportMsgidBugsTo:"",potCreationDate:"",poRevisionDate:"",lastTranslator:{name:"",email:""},language:"en",languageTeam:"",pluralForms:"nplurals=1; plural=(n==1 ? 0 : 1)",mimeVersion:"",contentType:"",contentTransferEncoding:"",generatedBy:""}};t("en",JSON.stringify(n))}},(e,t)=>{console.error("Failed i18n substitution: "+e,t)},e=>1==e?0:1),this.i18n=new Xe.TranslationProvider(this.i18nController)}init(e,t){let n=this.storage.get(nt.idbLangKey,"string");if(n){if(-1!==at.indexOf(n))return void this.i18nController.setLocale(n,e,t);this.storage.delete([nt.idbLangKey])}for(let a of window.navigator.languages)if(-1!==at.indexOf(a))return void this.i18nController.setLocale(a,e,t);this.i18nController.setLocale("en",e,t)}get _t(){return this.i18n._t}get _pt(){return this.i18n._pt}get _nt(){return this.i18n._nt}get _npt(){return this.i18n._npt}get _gg(){return this.i18n._gg}get _ngg(){return this.i18n._ngg}get _pgg(){return this.i18n._pgg}get _npgg(){return this.i18n._npgg}}(ri),si=new class{constructor(e){this.timerSt={timer:void 0,setInterval:(e,t)=>window.setInterval(e,t),clearInterval:e=>window.clearInterval(e)};const t=((e,t)=>(n,a)=>"undefined"===typeof a&&e?e:t.reduce((e,t,n)=>{if("undefined"===typeof t)throw new TypeError("An undefined reducer was passed in at index "+n);return t(e,a)},n||e))(Mr,[qr,dr,Vr,Br,Zr]),n=new Wr,a=new Xr(n),r=Object(ur.a)(Qr("\u21e8 [middlewares]"),mr(new fr),(c=n,e=>e=>t=>{switch(t.type){case"TRACK_ARBITRARY_EVENT":c.track(t.payload[0],t.payload[1]);break;case"TRACK_SCREEN_ENTER":c.track(Wr.SCREEN_ENTER,{screen:t.payload});break;case b:c.track(Wr.LOAD_STARTED,{type:"screen-login",request:"confirmRegistration"});break;case H:c.track(Wr.LOAD_SUCCESS,{type:"screen-login",request:"confirmRegistration"});break;case w:c.track(Wr.LOAD_ERROR,{type:"state-init-login",request:"confirmRegistration",message:t.payload.toString()});break;case L:c.setUserId(t.payload.playerInfo.id),c.track(Wr.CONFIG_RECEIVED);break;case K:c.track(Wr.REMOTE_ERROR,{code:t.payload.code,message:t.payload.toString()});break;case j:c.track(Wr.LOAD_STARTED,{type:"game-overview"});break;case x:c.track(Wr.LOAD_SUCCESS,{type:"game-overview"});break;case D:c.track(Wr.LOAD_ERROR,{type:"game-overview",code:t.payload.code,message:t.payload.message});break;case M:c.track(Wr.LOGOUT,{screen:"screen-settings"});break;case se:c.track(Wr.SCREEN_ENTER,{screen:"screen-new-game"});break;case oe:c.track(Wr.LOAD_SUCCESS,{type:"screen-new-game",request:"getAllPlayers"});break;case ce:c.track(Wr.LOAD_ERROR,{type:"screen-new-game",request:"getAllPlayers",message:t.payload.toString()});break;case ne:c.track(Wr.LOAD_ERROR,{type:"screen-confirmation",code:t.payload.code,request:"getChangesOverview"});break;case de:c.track(Wr.LOAD_ERROR,{type:"screen-new-game",request:"startGame",message:t.payload.toString()});break;case ee:c.track(Wr.SCREEN_ENTER,{screen:"screen-confirmation"});break;case ae:c.track(Wr.SCREEN_ENTER,{screen:"screen-last-results"});break;case q:c.track(Wr.SCREEN_ENTER,{screen:"screen-log"});break;case V:c.track(Wr.SCREEN_ENTER,{screen:"screen-other-table"});break;case G:c.track(Wr.SCREEN_ENTER,{screen:"screen-other-tables-list"});break;case ke:c.track(Wr.LANG_CHANGED,{localeName:t.payload})}return e(t)}),e=>t=>n=>{switch(n.type){case Ke:e.getState().historyInitialized||(window.history.pushState({},"","/"),window.onpopstate=()=>{e.dispatch({type:I}),window.history.pushState({},"")},t(n))}return t(n)},(o=this.timerSt,e=>t=>n=>{switch(n.type){case X:n.payload.waiting?(o.timer&&o.clearInterval(o.timer),o.timer=void 0,t({type:Q,payload:Object.assign(Object.assign({},n.payload),{lastUpdateTimestamp:void 0})})):(o.timer&&o.clearInterval(o.timer),o.timer=o.setInterval(()=>{var a,r,i;const s=!e.getState().currentSessionHash,c=!(null===(a=e.getState().gameConfig)||void 0===a?void 0:a.useTimer);if(s||c)return void(o.timer&&o.clearInterval(o.timer));let l=Jr()-((null===(r=e.getState().timer)||void 0===r?void 0:r.lastUpdateTimestamp)||0),u=((null===(i=e.getState().timer)||void 0===i?void 0:i.lastUpdateSecondsRemaining)||0)-l;u<=0?(t({type:Q,payload:Object.assign(Object.assign({},n.payload),{lastUpdateTimestamp:Jr(),secondsRemaining:0})}),o.timer&&o.clearInterval(o.timer),o.timer=void 0):t({type:Q,payload:Object.assign(Object.assign({},n.payload),{lastUpdateTimestamp:Jr(),secondsRemaining:u})})},1e3),t({type:Q,payload:Object.assign(Object.assign({},n.payload),{lastUpdateTimestamp:Jr()})}))}return t(n)}),(i=a,e=>t=>n=>{switch(n.type){case H:i.set(nt.idbTokenKey,"string",n.payload.token),i.set(nt.idbIdKey,"int",n.payload.personId),e.dispatch({type:R,payload:{authToken:n.payload.token,personId:n.payload.personId}});break;case b:i.delete([nt.idbTokenKey,nt.idbIdKey]),e.dispatch({type:R,payload:{authToken:"",personId:0}});break;case M:i.delete([nt.idbTokenKey,nt.idbIdKey]),e.dispatch({type:R,payload:{authToken:"",personId:0}}),e.dispatch({type:w,payload:new pr("Not logged in","403")}),e.dispatch({type:k});break;case we:i.set(nt.idbThemeKey,"string",n.payload),t(n);break;case Ee:i.set(nt.idbEventKey,"int",n.payload),t(n);break;case ke:i.set(nt.idbLangKey,"string",n.payload),t(n);break;case Re:const a={currentTheme:i.get(nt.idbThemeKey,"string"),currentLang:i.get(nt.idbLangKey,"string")};e.dispatch({type:Pe,payload:a})}return t(n)}),(e=>t=>n=>a=>{switch(a.type){case S:case A:if(a.payload.id===Nt.RIICHI)return void alert(e._t("If you want to select a riichi, return back and press riichi button for the winner"));if(a.payload.id===Nt.DOUBLERIICHI){const n=t.getState().currentOutcome;if(("ron"===(null===n||void 0===n?void 0:n.selectedOutcome)||"tsumo"===(null===n||void 0===n?void 0:n.selectedOutcome))&&a.payload.winner&&-1===n.riichiBets.indexOf(a.payload.winner))return void alert(e._t("If you want to select a riichi, return back and press riichi button for the winner"))}n(a);break;default:n(a)}})(e),Qr("\u21e8 [reducers]"),e=>t=>n=>{var a;let r,i;switch(n.type){case g:switch(t({type:g}),r=e.getState(),i=r.currentScreen,i){case"confirmation":e.dispatch({type:ee,payload:r});break;case"handSelect":if(r.currentOutcome&&["ron","tsumo"].includes(r.currentOutcome.selectedOutcome)){const t=Lt(r)[0].id;e.dispatch({type:Le,payload:"yaku"}),e.dispatch({type:Se,payload:{winner:t}}),e.dispatch({type:y}),"tsumo"===(null===(a=r.currentOutcome)||void 0===a?void 0:a.selectedOutcome)&&e.dispatch({type:S,payload:{id:Nt.MENZENTSUMO,winner:t}})}break;case"paoSelect":const t=mn(r);t&&e.dispatch({type:Se,payload:{winner:t}})}break;case I:switch(t(n),r=e.getState(),i=r.currentScreen,i){case"handSelect":e.dispatch({type:Le,payload:"yaku"});break;case"paoSelect":const t=mn(r);t&&e.dispatch({type:Se,payload:{winner:t}})}break;case l:t(n),e.dispatch({type:se});break;case s:t(n),e.dispatch({type:Re});break;case he:t(n),r=e.getState(),"lastResults"===r.currentScreen&&e.dispatch({type:ae});break;case h:t(n),e.dispatch({type:ae});break;case oe:t(n),e.dispatch({type:Ae});break;case p:t(n),r=e.getState();const o=r.currentSessionHash||r.currentOtherTableHash;o&&e.dispatch({type:q,payload:o});break;default:return t(n)}});var i,o,c;const u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||ur.b;this.store=Object(ur.c)(t,u(r))}subscribe(e){this.onUpdate=e,this.store.subscribe(()=>this.onUpdate&&this.onUpdate(this.store.getState()))}get dispatch(){return this.store.dispatch.bind(this.store)}get redux(){return this.store}}(ii),oi=e=>{window.__debugInfo={sh:e.currentSessionHash,p:e.currentPlayerId},i.render(a.createElement(lr,{state:e,dispatch:si.dispatch,storage:ri,i18nService:ii}),document.getElementById("tyr-root"))};si.subscribe(oi),oi(si.redux.getState())}},[[42,1,2,3]]]);