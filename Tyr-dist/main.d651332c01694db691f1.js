"use strict";(self.webpackChunktyr=self.webpackChunktyr||[]).push([[179],{918:(e,t,n)=>{var r,o,a,i=n(294),c=n(745),s="INIT_STATE",l="RESET_STATE",u="STARTUP_WITH_AUTH",d="START_NEW_GAME",p="GO_TO_CURRENT_GAME",m="GO_TO_DONATE",h="GOTO_EVENT_SELECT",f="SEARCH_PLAYER",y="SHOW_LAST_RESULTS",g="SHOW_GAME_LOG",v="OPEN_SETTINGS",O="GOTO_NEXT_SCREEN",I="GOTO_PREV_SCREEN",E="SET_DORA_COUNT",N="SET_FU_COUNT",S="ADD_YAKU",_="INIT_REQUIRED_YAKU",A="REMOVE_YAKU",T="TOGGLE_RIICHI",U="TOGGLE_WINNER",C="TOGGLE_LOSER",w="TOGGLE_PAO",b="TOGGLE_DEADHAND",H="TOGGLE_NAGASHI",k="LOGIN_INIT",R="LOGIN_SUCCESS",P="LOGIN_FAIL",L="RESET_LOGIN_ERROR",K="SET_CREDENTIALS",D="UPDATE_CURRENT_GAMES_INIT",x="UPDATE_CURRENT_GAMES_SUCCESS",j="UPDATE_CURRENT_GAMES_FAIL",G="GET_GAME_OVERVIEW_INIT",M="GET_GAME_OVERVIEW_SUCCESS",B="GET_GAME_OVERVIEW_FAIL",Y="GET_USERINFO_INIT",F="GET_USERINFO_SUCCESS",V="GET_USERINFO_FAIL",W="FORCE_LOGOUT",Z="GET_OTHER_TABLES_LIST_INIT",J="GET_OTHER_TABLES_LIST_RELOAD",q="GET_OTHER_TABLES_LIST_SUCCESS",z="GET_OTHER_TABLES_LIST_FAIL",X="GET_OTHER_TABLE_INIT",Q="GET_OTHER_TABLE_RELOAD",$="GET_OTHER_TABLE_SUCCESS",ee="GET_OTHER_TABLE_FAIL",te="GET_ALL_ROUNDS_INIT",ne="GET_ALL_ROUNDS_SUCCESS",re="GET_ALL_ROUNDS_FAIL",oe="SET_TIMER",ae="UPDATE_TIMER_DATA",ie="GET_CHANGES_OVERVIEW_INIT",ce="GET_CHANGES_OVERVIEW_SUCCESS",se="GET_CHANGES_OVERVIEW_FAIL",le="GET_LAST_RESULTS_INIT",ue="GET_LAST_RESULTS_SUCCESS",de="GET_LAST_RESULTS_FAIL",pe="GET_ALL_PLAYERS_INIT",me="GET_ALL_PLAYERS_SUCCESS",he="GET_ALL_PLAYERS_FAIL",fe="START_GAME_INIT",ye="START_GAME_SUCCESS",ge="START_GAME_FAIL",ve="ADD_GAME_INIT",Oe="ADD_GAME_SUCCESS",Ie="ADD_GAME_FAIL",Ee="EVENTS_GET_LIST_INIT",Ne="EVENTS_GET_LIST_SUCCESS",Se="EVENTS_GET_LIST_FAIL",_e="SELECT_EVENT",Ae="INIT_BLANK_OUTCOME",Te="SELECT_MULTIRON_WINNER",Ue="RANDOMIZE_NEWGAME_PLAYERS",Ce="CLEAR_NEWGAME_PLAYERS",we="SET_NEWGAME_PLAYERS",be="SELECT_NEWGAME_PLAYER_EAST",He="SELECT_NEWGAME_PLAYER_SOUTH",ke="SELECT_NEWGAME_PLAYER_WEST",Re="SELECT_NEWGAME_PLAYER_NORTH",Pe="TOGGLE_OVERVIEW_DIFFBY",Le="TOGGLE_ADDITIONAL_TABLE_INFO",Ke="TABLE_ROTATE_COUNTERCLOCKWISE",De="TABLE_ROTATE_CLOCKWISE",xe="SETTINGS_SAVE_THEME",je="SETTINGS_SAVE_LANG",Ge="SETTINGS_SAVE_SINGLE_DEVICE_MODE",Me="UPDATE_STATE_SETTINGS",Be="SET_STATE_SETTINGS",Ye="SET_SELECT_HAND_TAB",Fe="HISTORY_INIT",Ve=n(184),We=n.n(Ve),Ze=i.createContext(null);function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}const qe=function(e){return i.createElement("svg",Je({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M22.5417 4.33337V10.0834H16.7917",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=i.createElement("path",{d:"M1.45831 19.6666V13.9166H7.20831",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=i.createElement("path",{d:"M3.86373 9.12505C4.34977 7.75155 5.17582 6.52356 6.2648 5.55566C7.35379 4.58776 8.67022 3.91149 10.0913 3.58997C11.5123 3.26844 12.9916 3.31213 14.3912 3.71696C15.7908 4.12179 17.065 4.87457 18.095 5.90505L22.5416 10.0834M1.45831 13.9167L5.90498 18.0951C6.93495 19.1255 8.20917 19.8783 9.60875 20.2831C11.0083 20.688 12.4877 20.7317 13.9087 20.4101C15.3297 20.0886 16.6462 19.4123 17.7352 18.4444C18.8241 17.4765 19.6502 16.2485 20.1362 14.8751",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var ze,Xe;function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}const $e=function(e){return i.createElement("svg",Qe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ze||(ze=i.createElement("circle",{cx:12,cy:12,r:3})),Xe||(Xe=i.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})))};var et;function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}const nt=function(e){return i.createElement("svg",tt({viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),et||(et=i.createElement("path",{fill:"currentColor",d:"M 16 3 C 10.486 3 6 7.486 6 13 C 6 18.514 10.486 23 16 23 C 21.514 23 26 18.514 26 13 C 26 7.486 21.514 3 16 3 z M 16 5 C 20.411 5 24 8.589 24 13 C 24 17.411 20.411 21 16 21 C 11.589 21 8 17.411 8 13 C 8 8.589 11.589 5 16 5 z M 15 7 L 15 8.1894531 C 14.855 8.2419531 14.714063 8.3061133 14.580078 8.3789062 C 14.446094 8.4516992 14.318203 8.5338281 14.197266 8.625 C 14.076328 8.7161719 13.963281 8.8161914 13.857422 8.9238281 C 13.645703 9.1391016 13.465391 9.3846484 13.326172 9.6542969 C 13.256562 9.7891211 13.196875 9.930625 13.148438 10.076172 C 13.051562 10.367266 13 10.6775 13 11 C 13 11.205 13.022109 11.405469 13.0625 11.599609 C 13.143281 11.987891 13.300547 12.350391 13.517578 12.669922 C 13.626094 12.829688 13.748516 12.978984 13.884766 13.115234 C 14.157266 13.387734 14.481719 13.608594 14.839844 13.761719 C 15.197969 13.914844 15.59 14 16 14 C 16.1425 14 16.276016 14.026953 16.396484 14.076172 C 16.516953 14.125391 16.623516 14.197734 16.712891 14.287109 C 16.802266 14.376484 16.874609 14.483047 16.923828 14.603516 C 16.973047 14.723984 17 14.8575 17 15 C 17 15.4275 16.757891 15.776172 16.396484 15.923828 C 16.276016 15.973047 16.1425 16 16 16 C 15.8575 16 15.723984 15.973047 15.603516 15.923828 C 15.483047 15.874609 15.376484 15.802266 15.287109 15.712891 C 15.108359 15.534141 15 15.285 15 15 L 13 15 C 13 15.16125 13.013828 15.320254 13.039062 15.474609 C 13.064297 15.628965 13.1 15.778281 13.148438 15.923828 C 13.196875 16.069375 13.256562 16.210879 13.326172 16.345703 C 13.395781 16.480527 13.475703 16.608281 13.564453 16.730469 C 13.653203 16.852656 13.751563 16.968535 13.857422 17.076172 C 13.963281 17.183809 14.076328 17.283828 14.197266 17.375 C 14.318203 17.466172 14.446094 17.548301 14.580078 17.621094 C 14.714062 17.693887 14.855 17.758047 15 17.810547 L 15 19 L 17 19 L 17 17.810547 C 18.015 17.443047 18.784297 16.555098 18.960938 15.474609 C 18.986172 15.320254 19 15.16125 19 15 C 19 14.795 18.977891 14.594531 18.9375 14.400391 C 18.897109 14.20625 18.838281 14.018906 18.761719 13.839844 C 18.685156 13.660781 18.590937 13.489844 18.482422 13.330078 C 18.373906 13.170312 18.251484 13.021016 18.115234 12.884766 C 17.978984 12.748516 17.829687 12.626094 17.669922 12.517578 C 17.510156 12.409063 17.339219 12.314844 17.160156 12.238281 C 16.981094 12.161719 16.79375 12.102891 16.599609 12.0625 C 16.405469 12.022109 16.205 12 16 12 C 15.8575 12 15.723984 11.973047 15.603516 11.923828 C 15.483047 11.874609 15.376484 11.802266 15.287109 11.712891 C 15.197734 11.623516 15.125391 11.516953 15.076172 11.396484 C 15.026953 11.276016 15 11.1425 15 11 C 15 10.8575 15.026953 10.723984 15.076172 10.603516 C 15.125391 10.483047 15.197734 10.376484 15.287109 10.287109 C 15.376484 10.197734 15.483047 10.125391 15.603516 10.076172 C 15.723984 10.026953 15.8575 10 16 10 C 16.57 10 17 10.43 17 11 L 19 11 C 19 10.83875 18.986172 10.679746 18.960938 10.525391 C 18.935703 10.371035 18.9 10.221719 18.851562 10.076172 C 18.560938 9.2028906 17.87 8.5044531 17 8.1894531 L 17 7 L 15 7 z M 2 21 L 2 29 L 4 29 L 4 23 L 9.3808594 23 C 8.5298594 22.435 7.7610781 21.758 7.0800781 21 L 2 21 z M 24.919922 21 C 24.238922 21.758 23.470141 22.435 22.619141 23 L 28 23 L 28 29 L 30 29 L 30 21 L 24.919922 21 z M 6 25 L 6 27 L 26 27 L 26 25 L 6 25 z"})))};var rt,ot;function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},at.apply(this,arguments)}const it=function(e){return i.createElement("svg",at({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),rt||(rt=i.createElement("line",{x1:12,y1:3,x2:12,y2:21})),ot||(ot=i.createElement("line",{x1:3,y1:12,x2:21,y2:12})))};var ct,st,lt;function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}const dt=function(e){return i.createElement("svg",ut({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ct||(ct=i.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"})),st||(st=i.createElement("polyline",{points:"15 3 21 3 21 9"})),lt||(lt=i.createElement("line",{x1:10,y1:14,x2:21,y2:3})))};var pt=i.memo((function(e){var t=e.caption,n=e.isVisible,r=e.isActive,o=e.isBordered,a=e.icon,c=e.isIconRight,s=e.onClick;return n?i.createElement("div",{className:We()("page-home__button",{"page-home__button--active":r,"page-home__button--bordered":o}),onClick:s},i.createElement("div",{className:"page-home__button-content"},a&&i.createElement("div",{className:We()("icon",{"icon--right":c})},a),t)):null})),mt=i.memo((function(e){var t=(0,i.useContext)(Ze),n=e.eventName,r=e.canStartGame,o=e.hasStartedGame,a=e.hasPrevGame,c=e.canSeeOtherTables,s=e.hasStat,l=e.showDonate,u=e.onDonateClick,d=e.onSettingClick,p=e.onRefreshClick,m=e.onOtherTablesClick,h=e.onPrevGameClick,f=e.onNewGameClick,y=e.onCurrentGameClick,g=e.onStatClick;return i.createElement("div",{className:"page-home"},i.createElement("div",{className:"top-panel top-panel--between"},i.createElement("div",{className:"svg-button svg-button--small",onClick:p},i.createElement(qe,null)),i.createElement("div",{className:"svg-button svg-button--small",onClick:d},i.createElement($e,null))),i.createElement("div",{className:"page-home__title"},n),i.createElement("div",{className:"page-home__bottom"},l?i.createElement("div",{className:"svg-button",style:{margin:"16px"},onClick:u},i.createElement(nt,null)):null,i.createElement(pt,{caption:t._t("New game"),isVisible:r,isActive:!0,icon:i.createElement(it,null),onClick:f}),i.createElement(pt,{caption:t._t("Current game"),isVisible:o,isActive:!0,onClick:y}),i.createElement(pt,{caption:t._t("Previous game"),isVisible:a,isBordered:!r&&!o,onClick:h}),i.createElement(pt,{caption:t._t("Other playing tables"),isVisible:c,isBordered:!r&&!o||a,onClick:m}),i.createElement(pt,{caption:t._t("Statistics"),isVisible:s,isBordered:!r&&!o||a||c,icon:i.createElement(dt,null),isIconRight:!0,onClick:g})))}));function ht(){return i.createElement("div",{className:"inline-preloader"})}var ft,yt,gt=function(e){return e.loading.overview||e.loading.addRound||e.loading.games},vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vt(t,e),t.prototype.onSettingClick=function(){this.props.dispatch({type:v})},t.prototype.onRefreshClick=function(){this.props.dispatch({type:D})},t.prototype.onOtherTablesClick=function(){this.props.dispatch({type:Z})},t.prototype.onPrevGameClick=function(){this.props.dispatch({type:y})},t.prototype.onNewGameClick=function(){this.props.dispatch({type:d})},t.prototype.onCurrentGameClick=function(){var e=this.props.dispatch;e({type:D}),e({type:p})},t.prototype.onStatClick=function(){var e=this.props.state.gameConfig;e&&window.open("".concat(e.eventStatHost.startsWith("https://")||e.eventStatHost.startsWith("http://localhost:")?e.eventStatHost:"https://"+e.eventStatHost,"/last/"))},t.prototype.onDonateClick=function(){(0,this.props.dispatch)({type:m})},t.prototype.componentDidMount=function(){this.props.state.currentEventId&&(0,this.props.dispatch)({type:D})},t.prototype.render=function(){var e=this.props.state,t=this.context;if(!e.gameConfig||gt(e))return i.createElement(ht,null);var n=e.gameConfig.eventTitle||t._t("Event title"),r="ru"===this.props.state.settings.currentLang&&(window.location.host.startsWith("localhost")||"assist.riichimahjong.org"===window.location.host);return i.createElement(mt,{eventName:n,canStartGame:!e.gameConfig.autoSeating&&!e.isUniversalWatcher&&!e.currentSessionHash&&!e.gameConfig.isPrescripted,hasStartedGame:!!e.currentSessionHash&&e.gameOverviewReady,hasPrevGame:!e.isUniversalWatcher,canSeeOtherTables:!0,showDonate:r,hasStat:!!e.gameConfig.eventStatHost&&!e.isUniversalWatcher,onDonateClick:this.onDonateClick.bind(this),onSettingClick:this.onSettingClick.bind(this),onRefreshClick:this.onRefreshClick.bind(this),onOtherTablesClick:this.onOtherTablesClick.bind(this),onPrevGameClick:this.onPrevGameClick.bind(this),onNewGameClick:this.onNewGameClick.bind(this),onCurrentGameClick:this.onCurrentGameClick.bind(this),onStatClick:this.onStatClick.bind(this)})},t.contextType=Ze,t}(i.PureComponent),It=i.memo((function(e){var t=e.onChange,n=e.value,r=(0,i.useCallback)((function(){t(!n)}),[n,t]);return i.createElement("div",{className:"switch",onClick:r},i.createElement("div",{className:"switch__box"+(n?" switch__box--on":"")}),i.createElement("div",{className:"switch__button"+(n?" switch__button--on":"")}))}));function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}const Nt=function(e){return i.createElement("svg",Et({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ft||(ft=i.createElement("line",{x1:18,y1:6,x2:6,y2:18})),yt||(yt=i.createElement("line",{x1:6,y1:6,x2:18,y2:18})))};var St,_t,At=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=i.memo((function(e){var t=e.onChange,n=(0,i.useState)(""),r=n[0],o=n[1],a=function(e,t){var n=(0,i.useState)(e),r=n[0],o=n[1];return(0,i.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e]),r}(r,500);return(0,i.useEffect)((function(){a&&t(a)}),[a]),i.createElement(Ut,{onChange:function(e){return o(e)},onClear:function(){return t("")}})})),Ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={searchValue:""},t}return At(t,e),t.prototype.onInputChange=function(e){var t=e.target.value;this.setState({searchValue:t}),this.props.onChange(t)},t.prototype.onClearClick=function(){this.setState({searchValue:""}),this.props.onClear()},t.prototype.render=function(){var e=this.state.searchValue,t=this.context;return i.createElement(i.Fragment,null,i.createElement("input",{value:e,placeholder:t._t("type to find someone"),onChange:this.onInputChange.bind(this)}),!!e&&i.createElement("div",{onClick:this.onClearClick.bind(this)},i.createElement(Nt,null)))},t.contextType=Ze,t}(i.Component);function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}const wt=function(e){return i.createElement("svg",Ct({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),St||(St=i.createElement("line",{x1:19,y1:12,x2:5,y2:12})),_t||(_t=i.createElement("polyline",{points:"12 19 5 12 12 5"})))};var bt=i.memo((function(e){var t=e.showSearch,n=e.onBackClick,r=e.onSearchChange;return i.createElement("div",{className:"top-panel"},i.createElement("div",{className:"svg-button",onClick:n},i.createElement(wt,null)),t&&r&&i.createElement("div",{className:"top-panel__search"},i.createElement(Tt,{onChange:r})))})),Ht=i.memo((function(e){var t=(0,i.useContext)(Ze),n=e.playerName,r=e.supportedLanguages,o=e.currentLanguage,a=e.supportedThemes,c=e.currentTheme,s=e.singleDeviceMode,l=e.onLogout,u=e.onBackClick,d=e.onSingleDeviceModeChange,p=e.onLangChange,m=e.onThemeSelect,h=e.onEventSelect;return i.createElement("div",{className:"flex-container page-setting"},i.createElement("div",{className:"flex-container__content"},i.createElement(bt,{onBackClick:u}),i.createElement("div",{className:"page-setting__name"},n),i.createElement("div",{className:"page-setting__section"},i.createElement("div",{className:"page-setting__section-title"},t._t("Language")),i.createElement("div",{className:"page-setting__section-content"},r.map((function(e){return i.createElement("div",{key:e,className:We()("radio-btn radio-btn--small",{"radio-btn--active":e===o}),onClick:function(){return p(e)}},e)})))),i.createElement("div",{className:"page-setting__section"},i.createElement("div",{className:"page-setting__section-title"},t._t("Theme")),i.createElement("div",{className:"page-setting__section-content"},a.map((function(e){return i.createElement("div",{key:e.name,className:We()("theme",{"theme--selected":e.name===c})},i.createElement("div",{className:"theme__visual",onClick:function(){return m(e.name)}},i.createElement("div",{className:"theme__visual-inner",style:{backgroundColor:e.backgroundColor}},i.createElement("div",{className:"theme__secondary-color",style:{backgroundColor:e.secondaryColor}}),i.createElement("div",{className:"theme__text-color",style:{backgroundColor:e.textColor}}),i.createElement("div",{className:"theme__primary-color",style:{backgroundColor:e.primaryColor}}))),i.createElement("div",{className:"theme__name"},e.name))})))),i.createElement("div",{className:"page-setting__section"},i.createElement("div",{className:"page-setting__section-content"},i.createElement("button",{className:"flat-btn flat-btn--large",style:{width:"100%"},onClick:function(){return h()}},t._t("Select another event")))),i.createElement("div",{className:"page-setting__section"},i.createElement("div",{className:"switch-setting"},i.createElement(It,{value:s,onChange:d}),i.createElement("div",{className:"switch-setting__description"},i.createElement("div",{className:"switch-setting__caption"},t._t("Single device mode")),i.createElement("div",{className:"switch-setting__info"},t._t("Turn on if you use a single device for all players")))))),i.createElement("div",{className:"flex-container__bottom page-setting__bottom",onClick:l},i.createElement("div",{className:"link"},t._t("Log out"))))})),kt=n(979);const Rt=JSON.parse('{"meta":{"projectIdVersion":"PROJECT VERSION","reportMsgidBugsTo":"","potCreationDate":"2023-01-15 20:57+0300","poRevisionDate":"2023-01-15 19:00+0100","languageTeam":"","language":"ru_RU","mimeVersion":"1.0","contentType":"text/plain; charset=UTF-8","contentTransferEncoding":"8bit","pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);","generatedBy":"i18n-json2po"},"items":[{"type":"plural","entry":["%1 deal left","%1 deals left"],"translations":["\u041e\u0441\u0442\u0430\u043b\u0430\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447\u0430","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447\u0438","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c %1 \u0440\u0430\u0437\u0434\u0430\u0447"]},{"type":"single","entry":"%1 han","translation":"%1 \u0445\u0430\u043d"},{"type":"single","entry":"%1 han %2 fu","translation":"%1 \u0445\u0430\u043d, %2 \u0444\u0443"},{"type":"single","entry":"%1 \u2190 %2","translation":"%1 \u2190 %2"},{"type":"single","entry":"Abort","translation":"\u0410\u0431\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u043d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Abortive draw","translation":"\u0410\u0431\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u043d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Chankan","translation":"\u0427\u0430\u043d\u043a\u0430\u043d"},{"type":"single","entry":"Chanta","translation":"\u0427\u0430\u043d\u0442\u0430"},{"type":"single","entry":"Chiihou","translation":"\u0427\u0438\u0445\u043e"},{"type":"single","entry":"Chiitoitsu","translation":"\u0427\u0438\u0438\u0442\u043e\u0439\u0446\u0443"},{"type":"single","entry":"Chinitsu","translation":"\u0427\u0438\u043d\u0438\u0446\u0443"},{"type":"single","entry":"Chinroutou","translation":"\u0427\u0438\u043d\u0440\u043e\u0442\u043e"},{"type":"single","entry":"Chombo","translation":"\u0427\u043e\u043c\u0431\u043e"},{"type":"single","entry":"Chuuren poutou","translation":"\u0427\u0443\u0443\u0440\u0435\u043d\u043f\u043e\u0442\u043e"},{"type":"single","entry":"Clear players","translation":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"},{"type":"single","entry":"Current game","translation":"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"Daburu","translation":"\u0414\u0430\u0431\u0443\u0440\u0438"},{"type":"single","entry":"Daburu riichi","translation":"\u0414\u0430\u0431\u043b-\u0440\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Daisangen","translation":"\u0414\u0430\u0439\u0441\u0430\u043d\u0433\u0435\u043d"},{"type":"single","entry":"Daisuushii","translation":"\u0414\u0430\u0439\u0441\u0443\u0448\u0438"},{"type":"single","entry":"Dora","translation":"\u0414\u043e\u0440\u0430"},{"type":"single","entry":"Draw","translation":"\u041d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"E-mail is not registered in Pantheon database (%1)","translation":"E-mail \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 Pantheon (%1)"},{"type":"single","entry":"Email","translation":"Email"},{"type":"single","entry":"Event title","translation":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"},{"type":"single","entry":"Exhaustive draw","translation":"\u041d\u0438\u0447\u044c\u044f"},{"type":"single","entry":"Forgot password?","translation":"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"},{"type":"single","entry":"Fu","translation":"\u0424\u0443"},{"type":"single","entry":"Game log","translation":"\u041b\u043e\u0433 \u0438\u0433\u0440\u044b"},{"type":"single","entry":"Games overview","translation":"\u041e\u0431\u0437\u043e\u0440 \u0438\u0433\u0440"},{"type":"single","entry":"Haitei","translation":"\u0425\u0430\u0439\u0442\u0435\u0439"},{"type":"single","entry":"Han from yaku","translation":"\u0425\u0430\u043d \u0438\u0437 \u044f\u043a\u0443"},{"type":"single","entry":"Honba: %1","translation":"\u0425\u043e\u043d\u0431\u0430: %1"},{"type":"single","entry":"Honitsu","translation":"\u0425\u043e\u043d\u0438\u0446\u0443"},{"type":"single","entry":"Honroutou","translation":"\u0425\u043e\u043d\u0440\u043e\u0442\u043e"},{"type":"single","entry":"Houtei","translation":"\u0425\u043e\u0442\u0435\u0439"},{"type":"single","entry":"Houtei raoyui","translation":"\u0425\u043e\u0442\u0435\u0439 \u0440\u0430\u043e\u044e\u0439"},{"type":"single","entry":"If in doubt, contact the tournament administrator for further instructions.","translation":"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u0442\u0443\u0440\u043d\u0438\u0440\u0430 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439."},{"type":"single","entry":"If you want to select a riichi, return back and press riichi button for the winner","translation":"\u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u043a\u0443 \u0440\u0438\u0438\u0447\u0438, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430\u0437\u0430\u0434 \u0438 \u043e\u0442\u043c\u0435\u0442\u044c\u0442\u0435 \u0441\u0442\u0430\u0432\u043a\u0443 \u0440\u0438\u0438\u0447\u0438 \u0434\u043b\u044f \u0432\u044b\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"},{"type":"single","entry":"Iipeikou","translation":"\u0418\u0438\u043f\u0435\u0439\u043a\u043e"},{"type":"single","entry":"Ippatsu","translation":"\u0418\u043f\u043f\u0430\u0446\u0443"},{"type":"single","entry":"Ittsu","translation":"\u0418\u0446\u0446\u0443"},{"type":"single","entry":"Junchan","translation":"\u0414\u0436\u0443\u043d\u0447\u0430\u043d"},{"type":"single","entry":"Kokushi musou","translation":"\u041a\u043e\u043a\u0443\u0448\u0438\u043c\u0443\u0441\u043e"},{"type":"single","entry":"Language","translation":"\u042f\u0437\u044b\u043a"},{"type":"single","entry":"Loading...","translation":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},{"type":"single","entry":"Log in","translation":"\u0412\u0445\u043e\u0434"},{"type":"single","entry":"Log out","translation":"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"type":"single","entry":"Login attempt has failed. Possible reasons are:","translation":"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b:"},{"type":"single","entry":"Loser","translation":"\u041f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0438\u0439"},{"type":"single","entry":"Menzentsumo","translation":"\u041c\u0435\u043d\u0437\u0435\u043d\u0446\u0443\u043c\u043e"},{"type":"single","entry":"Multiron, from %1","translation":"\u041c\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u043d \u0441 %1"},{"type":"single","entry":"Nagashi","translation":"\u041d\u0430\u0433\u0430\u0448\u0438 \u043c\u0430\u043d\u0433\u0430\u043d"},{"type":"single","entry":"Nagashi mangan","translation":"\u041d\u0430\u0433\u0430\u0448\u0438 \u043c\u0430\u043d\u0433\u0430\u043d"},{"type":"single","entry":"New game","translation":"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"No games found","translation":"\u0418\u0433\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"},{"type":"single","entry":"No results found","translation":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"},{"type":"single","entry":"OK","translation":"\u041e\u041a"},{"type":"single","entry":"Open riichi","translation":"\u041e\u043f\u0435\u043d \u0440\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Opened hand","translation":"\u041e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0443\u043a\u0430"},{"type":"single","entry":"Other playing tables","translation":"\u0414\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u043e\u043b\u044b"},{"type":"single","entry":"Pantheon","translation":"Pantheon"},{"type":"single","entry":"Pantheon: log in","translation":"Pantheon: \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"},{"type":"single","entry":"Pao from: %1","translation":"\u041f\u0430\u043e \u0441: %1"},{"type":"single","entry":"Password","translation":"\u041f\u0430\u0440\u043e\u043b\u044c"},{"type":"single","entry":"Password check has failed","translation":"\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"},{"type":"single","entry":"Penalty","translation":"\u0428\u0442\u0440\u0430\u0444"},{"type":"single","entry":"Pinfu","translation":"\u041f\u0438\u043d-\u0444\u0443"},{"type":"single","entry":"Player name","translation":"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430"},{"type":"single","entry":"Previous game","translation":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430"},{"type":"single","entry":"Red fives","translation":"\u0410\u043a\u0430\u0434\u043e\u0440\u044b"},{"type":"single","entry":"Renhou","translation":"\u0420\u0435\u043d\u0445\u043e"},{"type":"single","entry":"Riichi","translation":"\u0420\u0438\u0438\u0447\u0438"},{"type":"single","entry":"Riichi bets: %1","translation":"\u0421\u0442\u0430\u0432\u043e\u043a \u0440\u0438\u0438\u0447\u0438: %1"},{"type":"single","entry":"Rinshan","translation":"\u0420\u0438\u043d\u0448\u0430\u043d"},{"type":"single","entry":"Rinshan kaihou","translation":"\u0420\u0438\u043d\u0448\u0430\u043d \u043a\u0430\u0439\u0445\u043e"},{"type":"single","entry":"Ron","translation":"\u0420\u043e\u043d"},{"type":"single","entry":"Ron, %1","translation":"\u0420\u043e\u043d, %1"},{"type":"single","entry":"Ryanpeikou","translation":"\u0420\u044f\u043d\u043f\u0435\u0439\u043a\u043e"},{"type":"single","entry":"Ryuuiisou","translation":"\u0420\u044e\u0438\u0441\u043e"},{"type":"single","entry":"Sanankou","translation":"\u0421\u0430\u043d\u0430\u043d\u043a\u043e"},{"type":"single","entry":"Sankantsu","translation":"\u0421\u0430\u043d\u043a\u0430\u043d\u0446\u0443"},{"type":"single","entry":"Sanshoku","translation":"\u0421\u0430\u043d\u0448\u043e\u043a\u0443"},{"type":"single","entry":"Sanshoku doukou","translation":"\u0421\u0430\u043d\u0448\u043e\u043a\u0443 \u0434\u043e\u043a\u043e"},{"type":"single","entry":"Select another event","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"type":"single","entry":"Select event","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"type":"single","entry":"Select pao","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0430\u043e"},{"type":"single","entry":"Select tempai","translation":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043c\u043f\u0430\u0439"},{"type":"single","entry":"Shousangen","translation":"\u0428\u043e\u0441\u0430\u043d\u0433\u0435\u043d"},{"type":"single","entry":"Shousuushii","translation":"\u0428\u043e\u0441\u0443\u0448\u0438"},{"type":"single","entry":"Shuffle players","translation":"\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c"},{"type":"single","entry":"Sign up","translation":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"type":"single","entry":"Single device mode","translation":"\u0420\u0435\u0436\u0438\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"},{"type":"single","entry":"Start game","translation":"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"},{"type":"single","entry":"Statistics","translation":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},{"type":"single","entry":"Suuankou","translation":"\u0421\u0443\u0443\u0430\u043d\u043a\u043e"},{"type":"single","entry":"Suukantsu","translation":"\u0421\u0443\u0443\u043a\u0430\u043d\u0446\u0443"},{"type":"single","entry":"Table #%1","translation":"\u0421\u0442\u043e\u043b \u2116%1"},{"type":"single","entry":"Tanyao","translation":"\u0422\u0430\u043d-\u044f\u043e"},{"type":"single","entry":"Tempai: %1","translation":"\u0422\u0435\u043c\u043f\u0430\u0439: %1"},{"type":"single","entry":"Tenhou","translation":"\u0422\u0435\u043d\u0445\u043e"},{"type":"single","entry":"Theme","translation":"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435"},{"type":"single","entry":"There is no events you participate in right now","translation":"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442\u0435"},{"type":"single","entry":"Time before game start:","translation":"\u0414\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b:"},{"type":"single","entry":"Toitoi","translation":"\u0422\u043e\u0439\u0442\u043e\u0439"},{"type":"single","entry":"Tsumo","translation":"\u0426\u0443\u043c\u043e"},{"type":"single","entry":"Tsumo, %1","translation":"\u0426\u0443\u043c\u043e, %1"},{"type":"single","entry":"Tsuuiisou","translation":"\u0426\u0443\u0438\u0441\u043e"},{"type":"single","entry":"Turn on if you use a single device for all players","translation":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435, \u0435\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043e\u0434\u043d\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{"type":"single","entry":"Unexpected server error","translation":"\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"},{"type":"single","entry":"Ura dora","translation":"\u0423\u0440\u0430\u0434\u043e\u0440\u0430"},{"type":"single","entry":"Winner","translation":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c"},{"type":"single","entry":"Yakuhai","translation":"\u042f\u043a\u0443\u0445\u0430\u0439"},{"type":"single","entry":"Yakuhai x1","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 1"},{"type":"single","entry":"Yakuhai x2","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 2"},{"type":"single","entry":"Yakuhai x3","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 3"},{"type":"single","entry":"Yakuhai x4","translation":"\u042f\u043a\u0443\u0445\u0430\u0439 4"},{"type":"single","entry":"Yakuman","translation":"\u042f\u043a\u0443\u043c\u0430\u043d"},{"type":"single","entry":"dora %1","translation":"\u0434\u043e\u0440\u0430 %1"},{"type":"single","entry":"empty outcome","translation":"\u043f\u0443\u0441\u0442\u043e\u0439 \u0438\u0441\u0445\u043e\u0434"},{"type":"single","entry":"name","translation":"\u0438\u043c\u044f"},{"type":"single","entry":"register","context":"Name of registration link","translation":"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"type":"single","entry":"select player","translation":"\u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"},{"type":"single","entry":"something goes wrong, please contact your administrator","translation":"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"type":"single","entry":"type to find someone","translation":"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},{"type":"single","entry":"wrong outcome for paoSelect","translation":"\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0438\u0441\u0445\u043e\u0434 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0430\u043e"},{"type":"single","entry":"x2","translation":"\u04452"},{"type":"single","entry":"x3","translation":"\u04453"},{"type":"single","entry":"x4","translation":"\u04454"},{"type":"single","entry":"yakuman","translation":"\u044f\u043a\u0443\u043c\u0430\u043d"}]}'),Pt=JSON.parse('{"meta":{"projectIdVersion":"PROJECT VERSION","reportMsgidBugsTo":"","potCreationDate":"2022-01-15 01:02+0300","poRevisionDate":"2022-01-23 15:42+0100","languageTeam":"","mimeVersion":"1.0","contentType":"text/plain; charset=UTF-8","contentTransferEncoding":"8bit","generatedBy":"i18n-json2po","pluralForms":"nplurals=2; plural=(n != 1);","language":"de_DE"},"items":[{"type":"single","entry":"select player","translation":"Spieler ausw\xe4hlen"},{"type":"single","entry":"something goes wrong, please contact your administrator","translation":"Etwas ist schiefgelaufen, bitte kontaktiere den Administrator"},{"type":"single","entry":"type to find someone","translation":"Spieler suchen"},{"type":"single","entry":"name","translation":"Name"},{"type":"single","entry":"Select event","translation":"Event ausw\xe4hlen"},{"type":"single","entry":"There is no events you participate in right now","translation":"Du nimmst gerade an keinem Event teil"},{"type":"single","entry":"No games found","translation":"Keine Spiele gefunden"},{"type":"single","entry":"Event title","translation":"Eventname"},{"type":"single","entry":"New game","translation":"Neues Spiel"},{"type":"single","entry":"Current game","translation":"Laufendes Spiel"},{"type":"single","entry":"Previous game","translation":"Letztes Spiel"},{"type":"single","entry":"Other playing tables","translation":"Andere laufende Spiele"},{"type":"single","entry":"Statistics","translation":"Statistiken"},{"type":"single","entry":"No results found","translation":"Keine Ergebnisse"},{"type":"single","entry":"Game log","translation":"Spielaufzeichung"},{"type":"single","entry":"yakuman"},{"type":"single","entry":"%1 han"},{"type":"single","entry":"%1 han %2 fu"},{"type":"single","entry":"Pao from: %1","translation":"Pao von: %1"},{"type":"single","entry":"Honba: %1"},{"type":"single","entry":"Tempai: %1","translation":"Tenpai: %1"},{"type":"single","entry":"Riichi bets: %1","translation":"Richieins\xe4tze: %1"},{"type":"single","entry":"dora %1"},{"type":"single","entry":"Ron, %1"},{"type":"single","entry":"%1 \u2190 %2"},{"type":"single","entry":"Multiron, from %1","translation":"Multiron, von %1"},{"type":"single","entry":"Tsumo, %1"},{"type":"single","entry":"Exhaustive draw","translation":"Unentschieden"},{"type":"single","entry":"Abortive draw"},{"type":"single","entry":"Chombo"},{"type":"single","entry":"Nagashi mangan"},{"type":"single","entry":"Pantheon: log in","translation":"Pantheon: Mobile App"},{"type":"single","entry":"Email"},{"type":"single","entry":"Password","translation":"Passwort"},{"type":"single","entry":"Sign up","translation":"Registrieren"},{"type":"single","entry":"Log in","translation":"Anmelden"},{"type":"single","entry":"register","context":"Name of registration link"},{"type":"single","entry":"Pantheon"},{"type":"single","entry":"Login attempt has failed. Possible reasons are:","translation":"Anmeldeversuch fehlgeschlagen. M\xf6gliche Ursachen:"},{"type":"single","entry":"E-mail is not registered in Pantheon database (%1)","translation":"E-mail ist nicht registriert (%1)"},{"type":"single","entry":"Password check has failed","translation":"Passwort falsch"},{"type":"single","entry":"Unexpected server error","translation":"Unerwarteter Fehler"},{"type":"single","entry":"If in doubt, contact the tournament administrator for further instructions.","translation":"Bei Fragen kontaktiere bitte den Turnierleiter"},{"type":"single","entry":"OK"},{"type":"single","entry":"Han from yaku","translation":"Han von Baku"},{"type":"single","entry":"Dora"},{"type":"single","entry":"Ura dora"},{"type":"single","entry":"Red fives","translation":"Rote F\xfcnfen"},{"type":"single","entry":"Fu"},{"type":"single","entry":"Yakuman"},{"type":"single","entry":"Player name","translation":"Spielername"},{"type":"single","entry":"Language","translation":"Sprache"},{"type":"single","entry":"Theme","translation":"Design"},{"type":"single","entry":"Select another event","translation":"Event ausw\xe4hlen"},{"type":"single","entry":"Log out","translation":"Abmelden"},{"type":"plural","entry":["%1 deal left","%1 deals left"],"translations":["Noch %1 Hand ","Noch %1 H\xe4nde"]},{"type":"single","entry":"Table #%1","translation":"Tisch #%1"},{"type":"single","entry":"Ron"},{"type":"single","entry":"Tsumo"},{"type":"single","entry":"Penalty","translation":"Strafe"},{"type":"single","entry":"empty outcome","translation":"Leeres Ergebnis"},{"type":"single","entry":"Winner","translation":"Gewinner"},{"type":"single","entry":"Loser","translation":"Verlierer"},{"type":"single","entry":"wrong outcome for paoSelect","translation":"Falsches Ergebnis f\xfcr paoSelect"},{"type":"single","entry":"Select pao","translation":"Pao ausw\xe4hlen"},{"type":"single","entry":"Select tempai","translation":"Tenpai ausw\xe4hlen"},{"type":"single","entry":"Draw","translation":"Unentschieden"},{"type":"single","entry":"Abort","translation":"Abbruch"},{"type":"single","entry":"Nagashi"},{"type":"single","entry":"Opened hand","translation":"Offene Hand"},{"type":"single","entry":"Toitoi"},{"type":"single","entry":"Honroutou"},{"type":"single","entry":"Sanankou"},{"type":"single","entry":"Sankantsu"},{"type":"single","entry":"Suukantsu"},{"type":"single","entry":"Suuankou"},{"type":"single","entry":"Pinfu"},{"type":"single","entry":"Iipeikou"},{"type":"single","entry":"Ryanpeikou"},{"type":"single","entry":"Sanshoku"},{"type":"single","entry":"Sanshoku doukou"},{"type":"single","entry":"Ittsu"},{"type":"single","entry":"Yakuhai x1"},{"type":"single","entry":"Yakuhai"},{"type":"single","entry":"Yakuhai x2"},{"type":"single","entry":"x2"},{"type":"single","entry":"Yakuhai x3"},{"type":"single","entry":"x3"},{"type":"single","entry":"Yakuhai x4"},{"type":"single","entry":"x4"},{"type":"single","entry":"Shousangen"},{"type":"single","entry":"Daisangen"},{"type":"single","entry":"Shousuushii"},{"type":"single","entry":"Daisuushii"},{"type":"single","entry":"Tsuuiisou"},{"type":"single","entry":"Tanyao"},{"type":"single","entry":"Chanta"},{"type":"single","entry":"Junchan"},{"type":"single","entry":"Chinroutou"},{"type":"single","entry":"Honitsu"},{"type":"single","entry":"Chinitsu"},{"type":"single","entry":"Chuuren poutou"},{"type":"single","entry":"Ryuuiisou"},{"type":"single","entry":"Chiitoitsu"},{"type":"single","entry":"Kokushi musou"},{"type":"single","entry":"Riichi"},{"type":"single","entry":"Daburu riichi"},{"type":"single","entry":"Daburu"},{"type":"single","entry":"Ippatsu"},{"type":"single","entry":"Menzentsumo"},{"type":"single","entry":"Haitei"},{"type":"single","entry":"Rinshan kaihou"},{"type":"single","entry":"Rinshan"},{"type":"single","entry":"Tenhou"},{"type":"single","entry":"Chiihou"},{"type":"single","entry":"Houtei raoyui"},{"type":"single","entry":"Houtei"},{"type":"single","entry":"Chankan"},{"type":"single","entry":"Renhou"},{"type":"single","entry":"Open riichi"},{"type":"single","entry":"If you want to select a riichi, return back and press riichi button for the winner","translation":"Bei Riichi bitte einen Schritt zur\xfcck und riichi Button f\xfcr den Gewinner markieren"},{"type":"single","entry":"Games overview","translation":"Spiel\xfcbersicht"},{"type":"single","entry":"Loading...","translation":"Laden\u2026"}]}');var Lt,Kt,Dt,xt,jt,Gt={production:!0,apiUrl:"https://gameapi.riichimahjong.org/",uaUrl:"https://userapi.riichimahjong.org/",guiUrl:"https://rating.riichimahjong.org/",idbTokenKey:"pantheon_authToken",idbIdKey:"pantheon_currentPersonId",idbEventKey:"pantheon_currentEventId",idbLangKey:"pantheon_currentLanguage",idbThemeKey:"pantheon_currentTheme",idbDeviceModeKey:"pantheon_singleDeviceMode",cookieDomain:".riichimahjong.org",guiFix:function(e){return e},metrikaId:64318630,apiVersion:[1,0]},Mt=["en","ru","de"],Bt={ru:Rt,de:Pt},Yt=function(){function e(e){this.storage=e,this.i18nController=new kt.TranslationController((function(e,t){switch(e){case"ru":case"de":t(e,JSON.stringify(Bt[e]));break;default:t("en",JSON.stringify({items:[],meta:{projectIdVersion:"1",reportMsgidBugsTo:"",potCreationDate:"",poRevisionDate:"",lastTranslator:{name:"",email:""},language:"en",languageTeam:"",pluralForms:"nplurals=1; plural=(n==1 ? 0 : 1)",mimeVersion:"",contentType:"",contentTransferEncoding:"",generatedBy:""}}))}}),(function(e,t){console.error("Failed i18n substitution: ".concat(e),t)}),(function(e){return 1==e?0:1})),this.i18n=new kt.TranslationProvider(this.i18nController)}return e.prototype.init=function(e,t){var n=this.storage.get(Gt.idbLangKey,"string");if(n){if(Mt.includes(n))return void this.i18nController.setLocale(n,e,t);this.storage.delete([Gt.idbLangKey])}for(var r=0,o=window.navigator.languages;r<o.length;r++){var a=o[r];if(Mt.includes(a))return void this.i18nController.setLocale(a,e,t)}this.i18nController.setLocale("en",e,t)},Object.defineProperty(e.prototype,"_t",{get:function(){return this.i18n._t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_pt",{get:function(){return this.i18n._pt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_nt",{get:function(){return this.i18n._nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_npt",{get:function(){return this.i18n._npt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_gg",{get:function(){return this.i18n._gg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_ngg",{get:function(){return this.i18n._ngg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_pgg",{get:function(){return this.i18n._pgg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_npgg",{get:function(){return this.i18n._npgg},enumerable:!1,configurable:!0}),e}(),Ft=[{name:"day",backgroundColor:"#F4F5F7",primaryColor:"#1565C0",secondaryColor:"#B8C0D1",textColor:"#000000"},{name:"night",backgroundColor:"#282C34",primaryColor:"#1565C0",secondaryColor:"#37445C",textColor:"#E6E6E6"}],Vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vt(t,e),t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:I})},t.prototype.onLogout=function(){(0,this.props.dispatch)({type:W})},t.prototype.onSingleDeviceModeChange=function(e){(0,this.props.dispatch)({type:Ge,payload:e})},t.prototype.onLangChange=function(e){var t=this.props.dispatch,n=this.context;t({type:je,payload:e}),n.init((function(e){t({type:je,payload:e})}),(function(e){return console.error(e)}))},t.prototype.onThemeSelect=function(e){(0,this.props.dispatch)({type:xe,payload:e})},t.prototype.onEventSelect=function(){(0,this.props.dispatch)({type:h})},t.prototype.render=function(){var e,t=this.props.state,n=this.context,r=null!==(e=t.currentPlayerDisplayName)&&void 0!==e?e:n._t("Player name");return i.createElement(Ht,{playerName:r,supportedLanguages:Mt,currentLanguage:t.settings.currentLang||"en",supportedThemes:Ft,currentTheme:t.settings.currentTheme||"day",singleDeviceMode:t.settings.singleDeviceMode||!1,onBackClick:this.onBackClick.bind(this),onLogout:this.onLogout.bind(this),onSingleDeviceModeChange:this.onSingleDeviceModeChange.bind(this),onLangChange:this.onLangChange.bind(this),onThemeSelect:this.onThemeSelect.bind(this),onEventSelect:this.onEventSelect.bind(this)})},t.contextType=Ze,t}(i.PureComponent),Zt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zt(t,e),t.prototype.render=function(){var e=this.props,t=e.playerName,n=e.wind,r=e.onPlayerClick,o=this.context;return i.createElement("div",{className:"player-dropdown"},i.createElement("div",{className:"player-dropdown"},n),i.createElement("div",{className:"player-dropdown__player",onClick:r},!!t&&i.createElement("div",{className:"player-dropdown__player-name"},t),!t&&i.createElement("div",{className:"player-dropdown__placeholder"},o._t("select player"))))},t.contextType=Ze,t}(i.Component);function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}const zt=function(e){return i.createElement("svg",qt({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),Lt||(Lt=i.createElement("polyline",{points:"16 3 21 3 21 8"})),Kt||(Kt=i.createElement("line",{x1:4,y1:20,x2:21,y2:3})),Dt||(Dt=i.createElement("polyline",{points:"21 16 21 21 16 21"})),xt||(xt=i.createElement("line",{x1:15,y1:15,x2:21,y2:21})),jt||(jt=i.createElement("line",{x1:4,y1:4,x2:9,y2:9})))};var Xt;function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}const $t=function(e){return i.createElement("svg",Qt({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),Xt||(Xt=i.createElement("polyline",{points:"20 6 9 17 4 12"})))};var en=i.memo((function(e){var t=i.useContext(Ze),n=e.east,r=e.south,o=e.west,a=e.north,c=e.canSave,s=e.onBackClick,l=e.onShuffleClick,u=e.onSaveClick,d=e.onClearClick,p=e.onPlayerClick;return i.createElement("div",{className:"page-new-game"},i.createElement(bt,{onBackClick:s}),i.createElement("div",{className:"page-new-game__inner"},i.createElement("div",{className:"page-new-game__players"},i.createElement(Jt,{wind:"\u6771",playerName:n,onPlayerClick:function(){return p("\u6771")}}),i.createElement(Jt,{wind:"\u5357",playerName:r,onPlayerClick:function(){return p("\u5357")}}),i.createElement(Jt,{wind:"\u897f",playerName:o,onPlayerClick:function(){return p("\u897f")}}),i.createElement(Jt,{wind:"\u5317",playerName:a,onPlayerClick:function(){return p("\u5317")}}),i.createElement("div",{className:"page-new-game__buttons"},i.createElement("div",{className:"flat-btn",onClick:d},i.createElement(Nt,null),i.createElement("label",null,t._t("Clear players"))),i.createElement("div",{className:"flat-btn",onClick:l},i.createElement(zt,null),i.createElement("label",null,t._t("Shuffle players"))),i.createElement("div",{className:We()("flat-btn",{"flat-btn--disabled":!c}),onClick:u},i.createElement($t,null),i.createElement("label",null,t._t("Start game")))))))})),tn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tn(t,e),t.prototype.onBackClick=function(){this.props.dispatch({type:I})},t.prototype.onShuffleClick=function(){this.props.dispatch({type:Ue})},t.prototype.onSaveClick=function(){var e=this.props,t=e.dispatch,n=e.state;this.canSave&&n.newGameSelectedUsers&&t({type:fe,payload:n.newGameSelectedUsers.map((function(e){return e.id}))})},t.prototype.onPlayerClick=function(e){this.props.dispatch({type:f,payload:e})},t.prototype.onClearClick=function(){this.props.dispatch({type:Ce})},Object.defineProperty(t.prototype,"canSave",{get:function(){var e=this.props.state;return!!e.newGameSelectedUsers&&e.newGameSelectedUsers.every((function(e){return-1!==e.id}))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props.state;return!e.newGameSelectedUsers||4!==e.newGameSelectedUsers.length||e.loading.players?i.createElement(ht,null):i.createElement(en,{east:e.newGameSelectedUsers[0].displayName,south:e.newGameSelectedUsers[1].displayName,west:e.newGameSelectedUsers[2].displayName,north:e.newGameSelectedUsers[3].displayName,canSave:this.canSave,onBackClick:this.onBackClick.bind(this),onShuffleClick:this.onShuffleClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onClearClick:this.onClearClick.bind(this),onPlayerClick:this.onPlayerClick.bind(this)})},t}(i.PureComponent),rn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),on=function(e){function t(t){var n=e.call(this,t)||this;return n.state={foundUsers:t.users},n}return rn(t,e),t.prototype.onSearchChange=function(e){var t=this.props.users.filter((function(t){return t.displayName.toLocaleLowerCase().includes(e.toLocaleLowerCase())}));this.setState({foundUsers:t})},t.prototype.render=function(){var e=this.props,t=e.onUserClick,n=e.onBackClick,r=this.state.foundUsers;return i.createElement("div",{className:"page-search-player"},i.createElement(bt,{onBackClick:n,showSearch:!0,onSearchChange:this.onSearchChange.bind(this)}),i.createElement("div",{className:"page-search-player__content"},r.map((function(e){return i.createElement("div",{key:e.id,className:"page-search-player__name",onClick:function(){return t(e)}},e.displayName)}))))},t}(i.PureComponent);function an(e,t,n){if(!Array.isArray(e))throw new Error("expected an array for the first argument");if(null!=t&&"boolean"!=typeof t)throw new Error("expected a number or boolean for the second argument");if(null!=n&&"boolean"!=typeof n)throw new Error("expected a number or boolean for the third argument");if(!t&&n&&e[0]!==Object(e[0]))return function(e){for(var t={},n=e.length,r=0;r<n;r++)t[e[r]]=!0;return Object.keys(t)}(e);for(var r,o,a,i=[],c=e.length,s=0;s<c;s++){var l=e[s];"number"==typeof l&&isNaN(l)&&(r=o,o=!0),(r=r||a&&a===l)||t||(r=i.includes(l)),r?r=!1:(i.push(l),a=l)}return i}var cn=Object.assign;function sn(e,t){t||(t={});var n,r,o=t.vargs||function(e){var t=e+"",n=t.indexOf("...");return n>=0&&(n<t.indexOf(")")||t.includes("arguments"))}(e),a=Object.create(null),i=[],c=[],s=new WeakMap,l=t.maxAge>0&&t.maxAge<1/0?function(e,n,r){return setTimeout((function(){if(r)return n.splice(e,1),void r.splice(e,1);n instanceof WeakMap?n.delete(e):delete n[e]}),t.maxAge)}:0,u=t.equals?t.equals:function(e,t){return e===t},d=t.maxArgs,p=t.serializer;return 1!==e.length||t.equals||o?n=function(){var t,n=d||arguments.length;for(t=i.length-1;t>=0;t--)if(d||i[t].length===n)for(var r=n-1;r>=0&&u(i[t][r],arguments[r]);r--)if(0===r)return c[t];return t=i.length-(t+1),!l||l(t,c,i),c[t]=e.apply(this,i[t]=arguments)}.bind(this):(n=function(t){var n=typeof t;if(!p&&("object"===n&&t||"function"===n)){var r=void 0;return s.get(t)||(!l||l(t,s),s.set(t,r=e.call(this,t)),r)}var o="number"===n||"boolean"===n||null==t?t:"string"===n?JSON.stringify(t):p(t);return a[o]||(!l||l(o,a),a[o]=e.call(this,t))}.bind(this),r=1),n.clear=function(){s=new WeakMap,a=Object.create(null),i=[],c=[]},n.keys=function(){return r?null:i.slice()},n.values=function(){return r?null:c.slice()},n.keyValues=function(){return r?{primitives:cn({},a),objects:s}:null},n}var ln=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},un={displayName:"",id:-1,tenhouId:""};var dn=sn((function(e){var t,n,r=ln([],null!==(t=e.allPlayers)&&void 0!==t?t:[],!0),o=r.findIndex((function(t){return t.id==e.currentPlayerId})),a=r.splice(o,1),i=r.filter((function(t){return e.newGameSelectedUsers&&!e.newGameSelectedUsers.map((function(e){return e.id})).includes(t.id)})).sort((function(e,t){return e==t?0:e.displayName<t.displayName?-1:1}));return ln(ln([un],a.length>0&&(null===(n=e.newGameSelectedUsers)||void 0===n?void 0:n.map((function(e){return e.id})).includes(a[0].id))?[]:a,!0),i,!0)}));sn((function(e){if(!e.newGameSelectedUsers)return!1;var t=e.newGameSelectedUsers.map((function(e){return e.id}));return!t.includes(-1)&&(!(!e.currentPlayerId||!t.includes(e.currentPlayerId))&&4==an(t,!1,!1).length)}));var pn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t.prototype.onUserClick=function(e){var t=this.props,n=t.dispatch,r=t.state;if(r.newGameSelectedPlayerSide){var o="";switch(r.newGameSelectedPlayerSide){case"\u6771":o=be;break;case"\u5357":o=He;break;case"\u897f":o=ke;break;case"\u5317":o=Re}n({type:o,payload:e.id})}n({type:I})},t.prototype.onBackClick=function(){this.props.dispatch({type:I})},t.prototype.componentDidMount=function(){this.props.dispatch({type:pe})},t.prototype.render=function(){var e=this.props.state,t=dn(e)||[];return i.createElement(on,{users:t,onUserClick:this.onUserClick.bind(this),onBackClick:this.onBackClick.bind(this)})},t}(i.Component);var hn,fn=sn((function(e,t,n,r,o,a,i){for(var c=[].concat(r),s=["\u6771","\u5357","\u897f","\u5317"],l=1;l<e;l++)s=[s.pop()].concat(s);for(var u=0;u<4+(t||0)&&c[0].id!==n;u++)c=c.slice(1).concat(c[0]),s=s.slice(1).concat(s[0]);var d=[!1,!1,!1,!1],p=(null!==o&&void 0!==o?o:[]).map((function(e){return parseInt(e,10)}));c.forEach((function(e,t){d[t]=p.includes(e.id)}));var m=[!1,!1,!1,!1];c.forEach((function(e,t){m[t]=a===e.id}));var h=[!1,!1,!1,!1];return c.forEach((function(e,t){h[t]=i===e.id})),{players:c,seating:s,roundOffset:u,riichi:d,chombo:m,pao:h}}));function yn(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("expected both arguments to be arrays");for(var n=[],r=e.length,o=0;o<r;o++){var a=e[o];t.includes(a)&&!n.includes(a)&&n.push(a)}return n}!function(e){e[e.__OPENHAND=-1]="__OPENHAND",e[e.TOITOI=1]="TOITOI",e[e.HONROTO=2]="HONROTO",e[e.SANANKOU=3]="SANANKOU",e[e.SANSHOKUDOUKOU=4]="SANSHOKUDOUKOU",e[e.SANKANTSU=5]="SANKANTSU",e[e.SUUKANTSU=6]="SUUKANTSU",e[e.SUUANKOU=7]="SUUANKOU",e[e.PINFU=8]="PINFU",e[e.IIPEIKOU=9]="IIPEIKOU",e[e.RYANPEIKOU=10]="RYANPEIKOU",e[e.SANSHOKUDOUJUN=11]="SANSHOKUDOUJUN",e[e.ITTSU=12]="ITTSU",e[e.YAKUHAI1=13]="YAKUHAI1",e[e.YAKUHAI2=14]="YAKUHAI2",e[e.YAKUHAI3=15]="YAKUHAI3",e[e.YAKUHAI4=16]="YAKUHAI4",e[e.YAKUHAI5=17]="YAKUHAI5",e[e.SHOSANGEN=18]="SHOSANGEN",e[e.DAISANGEN=19]="DAISANGEN",e[e.SHOSUUSHII=20]="SHOSUUSHII",e[e.DAISUUSHII=21]="DAISUUSHII",e[e.TSUUIISOU=22]="TSUUIISOU",e[e.TANYAO=23]="TANYAO",e[e.CHANTA=24]="CHANTA",e[e.JUNCHAN=25]="JUNCHAN",e[e.CHINROTO=26]="CHINROTO",e[e.HONITSU=27]="HONITSU",e[e.CHINITSU=28]="CHINITSU",e[e.CHUURENPOUTO=29]="CHUURENPOUTO",e[e.RYUUIISOU=30]="RYUUIISOU",e[e.CHIITOITSU=31]="CHIITOITSU",e[e.KOKUSHIMUSOU=32]="KOKUSHIMUSOU",e[e.RIICHI=33]="RIICHI",e[e.DOUBLERIICHI=34]="DOUBLERIICHI",e[e.IPPATSU=35]="IPPATSU",e[e.MENZENTSUMO=36]="MENZENTSUMO",e[e.HAITEI=37]="HAITEI",e[e.RINSHANKAIHOU=38]="RINSHANKAIHOU",e[e.TENHOU=39]="TENHOU",e[e.CHIHOU=40]="CHIHOU",e[e.HOUTEI=41]="HOUTEI",e[e.CHANKAN=42]="CHANKAN",e[e.RENHOU=43]="RENHOU",e[e.OPENRIICHI=44]="OPENRIICHI"}(hn||(hn={}));var gn=[{id:hn.__OPENHAND,yakuman:!1,name:function(e){return e._t("Opened hand")},shortName:function(e){return e._t("Opened hand")}},{id:hn.TOITOI,yakuman:!1,name:function(e){return e._t("Toitoi")},shortName:function(e){return e._t("Toitoi")}},{id:hn.HONROTO,yakuman:!1,name:function(e){return e._t("Honroutou")},shortName:function(e){return e._t("Honroutou")}},{id:hn.SANANKOU,yakuman:!1,name:function(e){return e._t("Sanankou")},shortName:function(e){return e._t("Sanankou")}},{id:hn.SANKANTSU,yakuman:!1,name:function(e){return e._t("Sankantsu")},shortName:function(e){return e._t("Sankantsu")}},{id:hn.SUUKANTSU,yakuman:!0,name:function(e){return e._t("Suukantsu")},shortName:function(e){return e._t("Suukantsu")}},{id:hn.SUUANKOU,yakuman:!0,name:function(e){return e._t("Suuankou")},shortName:function(e){return e._t("Suuankou")}},{id:hn.PINFU,yakuman:!1,name:function(e){return e._t("Pinfu")},shortName:function(e){return e._t("Pinfu")}},{id:hn.IIPEIKOU,yakuman:!1,name:function(e){return e._t("Iipeikou")},shortName:function(e){return e._t("Iipeikou")}},{id:hn.RYANPEIKOU,yakuman:!1,name:function(e){return e._t("Ryanpeikou")},shortName:function(e){return e._t("Ryanpeikou")}},{id:hn.SANSHOKUDOUJUN,yakuman:!1,name:function(e){return e._t("Sanshoku")},shortName:function(e){return e._t("Sanshoku")}},{id:hn.SANSHOKUDOUKOU,yakuman:!1,name:function(e){return e._t("Sanshoku doukou")},shortName:function(e){return e._t("Sanshoku doukou")}},{id:hn.ITTSU,yakuman:!1,name:function(e){return e._t("Ittsu")},shortName:function(e){return e._t("Ittsu")}},{id:hn.YAKUHAI1,yakuman:!1,name:function(e){return e._t("Yakuhai x1")},shortName:function(e){return e._t("Yakuhai")}},{id:hn.YAKUHAI2,yakuman:!1,name:function(e){return e._t("Yakuhai x2")},shortName:function(e){return e._t("x2")}},{id:hn.YAKUHAI3,yakuman:!1,name:function(e){return e._t("Yakuhai x3")},shortName:function(e){return e._t("x3")}},{id:hn.YAKUHAI4,yakuman:!1,name:function(e){return e._t("Yakuhai x4")},shortName:function(e){return e._t("x4")}},{id:hn.SHOSANGEN,yakuman:!1,name:function(e){return e._t("Shousangen")},shortName:function(e){return e._t("Shousangen")}},{id:hn.DAISANGEN,yakuman:!0,name:function(e){return e._t("Daisangen")},shortName:function(e){return e._t("Daisangen")}},{id:hn.SHOSUUSHII,yakuman:!0,name:function(e){return e._t("Shousuushii")},shortName:function(e){return e._t("Shousuushii")}},{id:hn.DAISUUSHII,yakuman:!0,name:function(e){return e._t("Daisuushii")},shortName:function(e){return e._t("Daisuushii")}},{id:hn.TSUUIISOU,yakuman:!0,name:function(e){return e._t("Tsuuiisou")},shortName:function(e){return e._t("Tsuuiisou")}},{id:hn.TANYAO,yakuman:!1,name:function(e){return e._t("Tanyao")},shortName:function(e){return e._t("Tanyao")}},{id:hn.CHANTA,yakuman:!1,name:function(e){return e._t("Chanta")},shortName:function(e){return e._t("Chanta")}},{id:hn.JUNCHAN,yakuman:!1,name:function(e){return e._t("Junchan")},shortName:function(e){return e._t("Junchan")}},{id:hn.CHINROTO,yakuman:!0,name:function(e){return e._t("Chinroutou")},shortName:function(e){return e._t("Chinroutou")}},{id:hn.HONITSU,yakuman:!1,name:function(e){return e._t("Honitsu")},shortName:function(e){return e._t("Honitsu")}},{id:hn.CHINITSU,yakuman:!1,name:function(e){return e._t("Chinitsu")},shortName:function(e){return e._t("Chinitsu")}},{id:hn.CHUURENPOUTO,yakuman:!0,name:function(e){return e._t("Chuuren poutou")},shortName:function(e){return e._t("Chuuren poutou")}},{id:hn.RYUUIISOU,yakuman:!0,name:function(e){return e._t("Ryuuiisou")},shortName:function(e){return e._t("Ryuuiisou")}},{id:hn.CHIITOITSU,yakuman:!1,name:function(e){return e._t("Chiitoitsu")},shortName:function(e){return e._t("Chiitoitsu")}},{id:hn.KOKUSHIMUSOU,yakuman:!0,name:function(e){return e._t("Kokushi musou")},shortName:function(e){return e._t("Kokushi musou")}},{id:hn.RIICHI,yakuman:!1,name:function(e){return e._t("Riichi")},shortName:function(e){return e._t("Riichi")}},{id:hn.DOUBLERIICHI,yakuman:!1,name:function(e){return e._t("Daburu riichi")},shortName:function(e){return e._t("Daburu")}},{id:hn.IPPATSU,yakuman:!1,name:function(e){return e._t("Ippatsu")},shortName:function(e){return e._t("Ippatsu")}},{id:hn.MENZENTSUMO,yakuman:!1,name:function(e){return e._t("Menzentsumo")},shortName:function(e){return e._t("Menzentsumo")}},{id:hn.HAITEI,yakuman:!1,name:function(e){return e._t("Haitei")},shortName:function(e){return e._t("Haitei")}},{id:hn.RINSHANKAIHOU,yakuman:!1,name:function(e){return e._t("Rinshan kaihou")},shortName:function(e){return e._t("Rinshan")}},{id:hn.TENHOU,yakuman:!0,name:function(e){return e._t("Tenhou")},shortName:function(e){return e._t("Tenhou")}},{id:hn.CHIHOU,yakuman:!0,name:function(e){return e._t("Chiihou")},shortName:function(e){return e._t("Chiihou")}},{id:hn.HOUTEI,yakuman:!1,name:function(e){return e._t("Houtei raoyui")},shortName:function(e){return e._t("Houtei")}},{id:hn.CHANKAN,yakuman:!1,name:function(e){return e._t("Chankan")},shortName:function(e){return e._t("Chankan")}},{id:hn.RENHOU,yakuman:!1,name:function(e){return e._t("Renhou")},shortName:function(e){return e._t("Renhou")}},{id:hn.OPENRIICHI,yakuman:!1,name:function(e){return e._t("Open riichi")},shortName:function(e){return e._t("Open riichi")}}],vn={};gn.forEach((function(e){return vn[e.id]=e}));var On;hn.RIICHI,hn.DOUBLERIICHI,hn.OPENRIICHI,hn.IPPATSU,hn.MENZENTSUMO,hn.CHIITOITSU,hn.CHINITSU,hn.TANYAO,hn.PINFU,hn.SANSHOKUDOUJUN,hn.CHANTA,hn.JUNCHAN,hn.ITTSU,hn.IIPEIKOU,hn.RYANPEIKOU,hn.SHOSANGEN,hn.HONITSU,hn.YAKUHAI1,hn.YAKUHAI2,hn.YAKUHAI3,hn.YAKUHAI4,hn.YAKUHAI5,hn.TOITOI,hn.SANKANTSU,hn.SANANKOU,hn.HONROTO,hn.SANSHOKUDOUKOU,hn.HAITEI,hn.HOUTEI,hn.CHANKAN,hn.RINSHANKAIHOU,hn.SUUKANTSU,hn.SUUANKOU,hn.DAISANGEN,hn.SHOSUUSHII,hn.DAISUUSHII,hn.TSUUIISOU,hn.CHINROTO,hn.CHUURENPOUTO,hn.RYUUIISOU,hn.KOKUSHIMUSOU,hn.TENHOU,hn.CHIHOU,hn.RENHOU;!function(e){e[e.Combines=1]="Combines",e[e.Suppresses=2]="Suppresses",e[e.IsSuppressed=3]="IsSuppressed"}(On||(On={}));for(var In=function(){function e(){this._nodes={},this._edges={}}return e.prototype._edgeId=function(e,t){return"".concat(e,"->").concat(t)},e.prototype.addNode=function(e){return this._nodes[e.id.toString()]||(this._nodes[e.id.toString()]=e),this},e.prototype.getNodeById=function(e){return this._nodes[e.toString()]||null},e.prototype.addBiEdge=function(e,t,n){return this.addEdge(e,t,n),this.addEdge(t,e,n),this},e.prototype.addEdge=function(e,t,n){return this._edges[this._edgeId(e.id.toString(),t.id.toString())]=n,this},e.prototype.edgeExists=function(e,t){return void 0!==this._edges[this._edgeId(e.id.toString(),t.id.toString())]},e.prototype._isClique=function(e){for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)if(!this.edgeExists(e[t],e[n])||!this.edgeExists(e[n],e[t]))return!1;return!0},e.prototype.tryAddAllowedNode=function(e,t){var n=[t].concat(e);if(!this._isClique(n))throw new Error("Node list is not a valid clique of this graph after addition of new node");for(var r=[],o=0;o<n.length;o++)for(var a=o+1;a<n.length;a++)switch(this._edges[this._edgeId(n[o].id.toString(),n[a].id.toString())]){case On.Suppresses:r.push(n[a]);break;case On.IsSuppressed:r.push(n[o]);case On.Combines:}if(0===r.length)return n;for(var i=[],c=0,s=n;c<s.length;c++){var l=s[c];r.includes(l)||i.push(l)}return i},e.prototype.getAllowedNodes=function(e){var t=this;if(!this._isClique(e))throw new Error("Node list is not a valid clique of this graph");for(var n=[],r={},o=0,a=e;o<a.length;o++){r[(i=a[o]).id.toString()]=i}for(var i in this._nodes)r[this._nodes[i].id.toString()]||n.push(this._nodes[i]);var c=n.filter((function(n){return t._isClique([n].concat(e))}));return c.filter((function(n){for(var r=0,o=e;r<o.length;r++){var a=o[r];if(t._edges[t._edgeId(a.id.toString(),n.id.toString())]===On.Suppresses)return!1}return!0}))},e}(),En=[hn.TOITOI,hn.HONROTO,hn.SANANKOU,hn.SANSHOKUDOUKOU,hn.SANKANTSU,hn.PINFU,hn.IIPEIKOU,hn.RYANPEIKOU,hn.SANSHOKUDOUJUN,hn.ITTSU,hn.YAKUHAI1,hn.YAKUHAI2,hn.YAKUHAI3,hn.YAKUHAI4,hn.SHOSANGEN,hn.TANYAO,hn.CHANTA,hn.JUNCHAN,hn.HONITSU,hn.CHINITSU,hn.CHIITOITSU,hn.RIICHI,hn.DOUBLERIICHI,hn.IPPATSU,hn.MENZENTSUMO,hn.HAITEI,hn.RINSHANKAIHOU,hn.HOUTEI,hn.CHANKAN,hn.OPENRIICHI],Nn=[hn.SUUKANTSU,hn.SUUANKOU,hn.DAISANGEN,hn.SHOSUUSHII,hn.DAISUUSHII,hn.TSUUIISOU,hn.CHINROTO,hn.CHUURENPOUTO,hn.RYUUIISOU,hn.KOKUSHIMUSOU,hn.TENHOU,hn.CHIHOU,hn.RENHOU],Sn=[[hn.HONROTO,hn.CHANTA],[hn.RYANPEIKOU,hn.IIPEIKOU],[hn.YAKUHAI2,hn.YAKUHAI1],[hn.YAKUHAI3,hn.YAKUHAI2],[hn.YAKUHAI3,hn.YAKUHAI1],[hn.YAKUHAI4,hn.YAKUHAI3],[hn.YAKUHAI4,hn.YAKUHAI2],[hn.YAKUHAI4,hn.YAKUHAI1],[hn.JUNCHAN,hn.CHANTA],[hn.CHINITSU,hn.HONITSU],[hn.CHIITOITSU,hn.IIPEIKOU],[hn.RYANPEIKOU,hn.CHIITOITSU],[hn.DOUBLERIICHI,hn.RIICHI],[hn.DAISUUSHII,hn.SHOSUUSHII],[hn.__OPENHAND,hn.CHIITOITSU],[hn.__OPENHAND,hn.CHUURENPOUTO],[hn.__OPENHAND,hn.DOUBLERIICHI],[hn.__OPENHAND,hn.IIPEIKOU],[hn.__OPENHAND,hn.IPPATSU],[hn.__OPENHAND,hn.KOKUSHIMUSOU],[hn.__OPENHAND,hn.OPENRIICHI],[hn.__OPENHAND,hn.PINFU],[hn.__OPENHAND,hn.RIICHI],[hn.__OPENHAND,hn.RYANPEIKOU],[hn.__OPENHAND,hn.SUUANKOU]].concat(Nn.map((function(e){return En.map((function(t){return[e,t]}))})).reduce((function(e,t){return e.concat(t)}))),_n=[[hn.__OPENHAND,hn.TOITOI],[hn.__OPENHAND,hn.HONROTO],[hn.__OPENHAND,hn.SANANKOU],[hn.__OPENHAND,hn.SANSHOKUDOUKOU],[hn.__OPENHAND,hn.SANKANTSU],[hn.__OPENHAND,hn.SUUKANTSU],[hn.__OPENHAND,hn.SANSHOKUDOUJUN],[hn.__OPENHAND,hn.ITTSU],[hn.__OPENHAND,hn.YAKUHAI1],[hn.__OPENHAND,hn.YAKUHAI2],[hn.__OPENHAND,hn.YAKUHAI3],[hn.__OPENHAND,hn.YAKUHAI4],[hn.__OPENHAND,hn.SHOSANGEN],[hn.__OPENHAND,hn.DAISANGEN],[hn.__OPENHAND,hn.SHOSUUSHII],[hn.__OPENHAND,hn.DAISUUSHII],[hn.__OPENHAND,hn.TSUUIISOU],[hn.__OPENHAND,hn.TANYAO],[hn.__OPENHAND,hn.CHANTA],[hn.__OPENHAND,hn.JUNCHAN],[hn.__OPENHAND,hn.CHINROTO],[hn.__OPENHAND,hn.HONITSU],[hn.__OPENHAND,hn.CHINITSU],[hn.__OPENHAND,hn.RYUUIISOU],[hn.__OPENHAND,hn.HAITEI],[hn.__OPENHAND,hn.RINSHANKAIHOU],[hn.__OPENHAND,hn.HOUTEI],[hn.__OPENHAND,hn.CHANKAN],[hn.__OPENHAND,hn.MENZENTSUMO],[hn.TOITOI,hn.HONROTO],[hn.TOITOI,hn.SANANKOU],[hn.TOITOI,hn.SANSHOKUDOUKOU],[hn.TOITOI,hn.SANKANTSU],[hn.TOITOI,hn.YAKUHAI1],[hn.TOITOI,hn.YAKUHAI2],[hn.TOITOI,hn.YAKUHAI3],[hn.TOITOI,hn.YAKUHAI4],[hn.TOITOI,hn.SHOSANGEN],[hn.TOITOI,hn.TANYAO],[hn.TOITOI,hn.HONITSU],[hn.TOITOI,hn.CHINITSU],[hn.TOITOI,hn.RIICHI],[hn.TOITOI,hn.DOUBLERIICHI],[hn.TOITOI,hn.IPPATSU],[hn.TOITOI,hn.HAITEI],[hn.TOITOI,hn.RINSHANKAIHOU],[hn.TOITOI,hn.HOUTEI],[hn.TOITOI,hn.OPENRIICHI],[hn.HONROTO,hn.SANANKOU],[hn.HONROTO,hn.SANSHOKUDOUKOU],[hn.HONROTO,hn.SANKANTSU],[hn.HONROTO,hn.YAKUHAI1],[hn.HONROTO,hn.YAKUHAI2],[hn.HONROTO,hn.YAKUHAI3],[hn.HONROTO,hn.YAKUHAI4],[hn.HONROTO,hn.SHOSANGEN],[hn.HONROTO,hn.HONITSU],[hn.HONROTO,hn.CHIITOITSU],[hn.HONROTO,hn.RIICHI],[hn.HONROTO,hn.DOUBLERIICHI],[hn.HONROTO,hn.MENZENTSUMO],[hn.HONROTO,hn.IPPATSU],[hn.HONROTO,hn.HAITEI],[hn.HONROTO,hn.RINSHANKAIHOU],[hn.HONROTO,hn.HOUTEI],[hn.HONROTO,hn.OPENRIICHI],[hn.SANANKOU,hn.SANSHOKUDOUKOU],[hn.SANANKOU,hn.SANKANTSU],[hn.SANANKOU,hn.YAKUHAI1],[hn.SANANKOU,hn.YAKUHAI2],[hn.SANANKOU,hn.YAKUHAI3],[hn.SANANKOU,hn.YAKUHAI4],[hn.SANANKOU,hn.SHOSANGEN],[hn.SANANKOU,hn.TANYAO],[hn.SANANKOU,hn.HONITSU],[hn.SANANKOU,hn.CHINITSU],[hn.SANANKOU,hn.RIICHI],[hn.SANANKOU,hn.IPPATSU],[hn.SANANKOU,hn.DOUBLERIICHI],[hn.SANANKOU,hn.MENZENTSUMO],[hn.SANANKOU,hn.HAITEI],[hn.SANANKOU,hn.RINSHANKAIHOU],[hn.SANANKOU,hn.HOUTEI],[hn.SANANKOU,hn.CHANKAN],[hn.SANANKOU,hn.OPENRIICHI],[hn.SANANKOU,hn.CHANTA],[hn.SANANKOU,hn.JUNCHAN],[hn.SANSHOKUDOUKOU,hn.SANKANTSU],[hn.SANSHOKUDOUKOU,hn.YAKUHAI1],[hn.SANSHOKUDOUKOU,hn.YAKUHAI2],[hn.SANSHOKUDOUKOU,hn.TANYAO],[hn.SANSHOKUDOUKOU,hn.CHANTA],[hn.SANSHOKUDOUKOU,hn.JUNCHAN],[hn.SANSHOKUDOUKOU,hn.RIICHI],[hn.SANSHOKUDOUKOU,hn.DOUBLERIICHI],[hn.SANSHOKUDOUKOU,hn.IPPATSU],[hn.SANSHOKUDOUKOU,hn.MENZENTSUMO],[hn.SANSHOKUDOUKOU,hn.HAITEI],[hn.SANSHOKUDOUKOU,hn.RINSHANKAIHOU],[hn.SANSHOKUDOUKOU,hn.HOUTEI],[hn.SANSHOKUDOUKOU,hn.CHANKAN],[hn.SANSHOKUDOUKOU,hn.OPENRIICHI],[hn.SANKANTSU,hn.YAKUHAI1],[hn.SANKANTSU,hn.YAKUHAI2],[hn.SANKANTSU,hn.YAKUHAI3],[hn.SANKANTSU,hn.YAKUHAI4],[hn.SANKANTSU,hn.SHOSANGEN],[hn.SANKANTSU,hn.TANYAO],[hn.SANKANTSU,hn.HONITSU],[hn.SANKANTSU,hn.CHINITSU],[hn.SANKANTSU,hn.RIICHI],[hn.SANKANTSU,hn.DOUBLERIICHI],[hn.SANKANTSU,hn.IPPATSU],[hn.SANKANTSU,hn.MENZENTSUMO],[hn.SANKANTSU,hn.HAITEI],[hn.SANKANTSU,hn.RINSHANKAIHOU],[hn.SANKANTSU,hn.HOUTEI],[hn.SANKANTSU,hn.CHANKAN],[hn.SANKANTSU,hn.CHANTA],[hn.SANKANTSU,hn.JUNCHAN],[hn.SANKANTSU,hn.OPENRIICHI],[hn.PINFU,hn.IIPEIKOU],[hn.PINFU,hn.RYANPEIKOU],[hn.PINFU,hn.SANSHOKUDOUJUN],[hn.PINFU,hn.ITTSU],[hn.PINFU,hn.TANYAO],[hn.PINFU,hn.CHANTA],[hn.PINFU,hn.JUNCHAN],[hn.PINFU,hn.HONITSU],[hn.PINFU,hn.CHINITSU],[hn.PINFU,hn.RIICHI],[hn.PINFU,hn.DOUBLERIICHI],[hn.PINFU,hn.IPPATSU],[hn.PINFU,hn.MENZENTSUMO],[hn.PINFU,hn.HAITEI],[hn.PINFU,hn.HOUTEI],[hn.PINFU,hn.CHANKAN],[hn.PINFU,hn.OPENRIICHI],[hn.IIPEIKOU,hn.SANSHOKUDOUJUN],[hn.IIPEIKOU,hn.ITTSU],[hn.IIPEIKOU,hn.YAKUHAI1],[hn.IIPEIKOU,hn.YAKUHAI2],[hn.IIPEIKOU,hn.TANYAO],[hn.IIPEIKOU,hn.CHANTA],[hn.IIPEIKOU,hn.JUNCHAN],[hn.IIPEIKOU,hn.HONITSU],[hn.IIPEIKOU,hn.CHINITSU],[hn.IIPEIKOU,hn.RIICHI],[hn.IIPEIKOU,hn.DOUBLERIICHI],[hn.IIPEIKOU,hn.IPPATSU],[hn.IIPEIKOU,hn.MENZENTSUMO],[hn.IIPEIKOU,hn.HAITEI],[hn.IIPEIKOU,hn.RINSHANKAIHOU],[hn.IIPEIKOU,hn.HOUTEI],[hn.IIPEIKOU,hn.CHANKAN],[hn.IIPEIKOU,hn.OPENRIICHI],[hn.IIPEIKOU,hn.SHOSANGEN],[hn.RYANPEIKOU,hn.TANYAO],[hn.RYANPEIKOU,hn.CHANTA],[hn.RYANPEIKOU,hn.JUNCHAN],[hn.RYANPEIKOU,hn.HONITSU],[hn.RYANPEIKOU,hn.CHINITSU],[hn.RYANPEIKOU,hn.RIICHI],[hn.RYANPEIKOU,hn.DOUBLERIICHI],[hn.RYANPEIKOU,hn.IPPATSU],[hn.RYANPEIKOU,hn.MENZENTSUMO],[hn.RYANPEIKOU,hn.HAITEI],[hn.RYANPEIKOU,hn.HOUTEI],[hn.RYANPEIKOU,hn.OPENRIICHI],[hn.SANSHOKUDOUJUN,hn.YAKUHAI1],[hn.SANSHOKUDOUJUN,hn.YAKUHAI2],[hn.SANSHOKUDOUJUN,hn.TANYAO],[hn.SANSHOKUDOUJUN,hn.CHANTA],[hn.SANSHOKUDOUJUN,hn.JUNCHAN],[hn.SANSHOKUDOUJUN,hn.RIICHI],[hn.SANSHOKUDOUJUN,hn.DOUBLERIICHI],[hn.SANSHOKUDOUJUN,hn.IPPATSU],[hn.SANSHOKUDOUJUN,hn.MENZENTSUMO],[hn.SANSHOKUDOUJUN,hn.HAITEI],[hn.SANSHOKUDOUJUN,hn.RINSHANKAIHOU],[hn.SANSHOKUDOUJUN,hn.HOUTEI],[hn.SANSHOKUDOUJUN,hn.CHANKAN],[hn.SANSHOKUDOUJUN,hn.OPENRIICHI],[hn.ITTSU,hn.YAKUHAI1],[hn.ITTSU,hn.YAKUHAI2],[hn.ITTSU,hn.HONITSU],[hn.ITTSU,hn.CHINITSU],[hn.ITTSU,hn.RIICHI],[hn.ITTSU,hn.DOUBLERIICHI],[hn.ITTSU,hn.IPPATSU],[hn.ITTSU,hn.MENZENTSUMO],[hn.ITTSU,hn.HAITEI],[hn.ITTSU,hn.RINSHANKAIHOU],[hn.ITTSU,hn.HOUTEI],[hn.ITTSU,hn.CHANKAN],[hn.ITTSU,hn.OPENRIICHI],[hn.YAKUHAI1,hn.CHANTA],[hn.YAKUHAI1,hn.HONITSU],[hn.YAKUHAI1,hn.RIICHI],[hn.YAKUHAI1,hn.DOUBLERIICHI],[hn.YAKUHAI1,hn.IPPATSU],[hn.YAKUHAI1,hn.MENZENTSUMO],[hn.YAKUHAI1,hn.HAITEI],[hn.YAKUHAI1,hn.RINSHANKAIHOU],[hn.YAKUHAI1,hn.HOUTEI],[hn.YAKUHAI1,hn.CHANKAN],[hn.YAKUHAI1,hn.OPENRIICHI],[hn.YAKUHAI2,hn.SHOSANGEN],[hn.YAKUHAI2,hn.CHANTA],[hn.YAKUHAI2,hn.HONITSU],[hn.YAKUHAI2,hn.RIICHI],[hn.YAKUHAI2,hn.DOUBLERIICHI],[hn.YAKUHAI2,hn.IPPATSU],[hn.YAKUHAI2,hn.MENZENTSUMO],[hn.YAKUHAI2,hn.HAITEI],[hn.YAKUHAI2,hn.RINSHANKAIHOU],[hn.YAKUHAI2,hn.HOUTEI],[hn.YAKUHAI2,hn.CHANKAN],[hn.YAKUHAI2,hn.OPENRIICHI],[hn.YAKUHAI3,hn.SHOSANGEN],[hn.YAKUHAI3,hn.CHANTA],[hn.YAKUHAI3,hn.HONITSU],[hn.YAKUHAI3,hn.RIICHI],[hn.YAKUHAI3,hn.DOUBLERIICHI],[hn.YAKUHAI3,hn.IPPATSU],[hn.YAKUHAI3,hn.MENZENTSUMO],[hn.YAKUHAI3,hn.HAITEI],[hn.YAKUHAI3,hn.RINSHANKAIHOU],[hn.YAKUHAI3,hn.HOUTEI],[hn.YAKUHAI3,hn.CHANKAN],[hn.YAKUHAI3,hn.OPENRIICHI],[hn.YAKUHAI4,hn.SHOSANGEN],[hn.YAKUHAI4,hn.CHANTA],[hn.YAKUHAI4,hn.HONITSU],[hn.YAKUHAI4,hn.RIICHI],[hn.YAKUHAI4,hn.DOUBLERIICHI],[hn.YAKUHAI4,hn.IPPATSU],[hn.YAKUHAI4,hn.MENZENTSUMO],[hn.YAKUHAI4,hn.HAITEI],[hn.YAKUHAI4,hn.RINSHANKAIHOU],[hn.YAKUHAI4,hn.HOUTEI],[hn.YAKUHAI4,hn.CHANKAN],[hn.YAKUHAI4,hn.OPENRIICHI],[hn.SHOSANGEN,hn.CHANTA],[hn.SHOSANGEN,hn.HONITSU],[hn.SHOSANGEN,hn.RIICHI],[hn.SHOSANGEN,hn.DOUBLERIICHI],[hn.SHOSANGEN,hn.IPPATSU],[hn.SHOSANGEN,hn.MENZENTSUMO],[hn.SHOSANGEN,hn.HAITEI],[hn.SHOSANGEN,hn.RINSHANKAIHOU],[hn.SHOSANGEN,hn.HOUTEI],[hn.SHOSANGEN,hn.CHANKAN],[hn.SHOSANGEN,hn.OPENRIICHI],[hn.TANYAO,hn.CHINITSU],[hn.TANYAO,hn.CHIITOITSU],[hn.TANYAO,hn.RIICHI],[hn.TANYAO,hn.DOUBLERIICHI],[hn.TANYAO,hn.IPPATSU],[hn.TANYAO,hn.MENZENTSUMO],[hn.TANYAO,hn.HAITEI],[hn.TANYAO,hn.RINSHANKAIHOU],[hn.TANYAO,hn.HOUTEI],[hn.TANYAO,hn.CHANKAN],[hn.TANYAO,hn.OPENRIICHI],[hn.CHANTA,hn.HONITSU],[hn.CHANTA,hn.RIICHI],[hn.CHANTA,hn.DOUBLERIICHI],[hn.CHANTA,hn.IPPATSU],[hn.CHANTA,hn.MENZENTSUMO],[hn.CHANTA,hn.HAITEI],[hn.CHANTA,hn.RINSHANKAIHOU],[hn.CHANTA,hn.HOUTEI],[hn.CHANTA,hn.CHANKAN],[hn.CHANTA,hn.OPENRIICHI],[hn.JUNCHAN,hn.CHINITSU],[hn.JUNCHAN,hn.RIICHI],[hn.JUNCHAN,hn.DOUBLERIICHI],[hn.JUNCHAN,hn.IPPATSU],[hn.JUNCHAN,hn.MENZENTSUMO],[hn.JUNCHAN,hn.HAITEI],[hn.JUNCHAN,hn.RINSHANKAIHOU],[hn.JUNCHAN,hn.HOUTEI],[hn.JUNCHAN,hn.CHANKAN],[hn.JUNCHAN,hn.OPENRIICHI],[hn.HONITSU,hn.CHIITOITSU],[hn.HONITSU,hn.RIICHI],[hn.HONITSU,hn.DOUBLERIICHI],[hn.HONITSU,hn.IPPATSU],[hn.HONITSU,hn.MENZENTSUMO],[hn.HONITSU,hn.HAITEI],[hn.HONITSU,hn.RINSHANKAIHOU],[hn.HONITSU,hn.HOUTEI],[hn.HONITSU,hn.CHANKAN],[hn.HONITSU,hn.OPENRIICHI],[hn.CHINITSU,hn.CHIITOITSU],[hn.CHINITSU,hn.RIICHI],[hn.CHINITSU,hn.DOUBLERIICHI],[hn.CHINITSU,hn.IPPATSU],[hn.CHINITSU,hn.MENZENTSUMO],[hn.CHINITSU,hn.HAITEI],[hn.CHINITSU,hn.RINSHANKAIHOU],[hn.CHINITSU,hn.HOUTEI],[hn.CHINITSU,hn.CHANKAN],[hn.CHINITSU,hn.OPENRIICHI],[hn.CHIITOITSU,hn.RIICHI],[hn.CHIITOITSU,hn.DOUBLERIICHI],[hn.CHIITOITSU,hn.IPPATSU],[hn.CHIITOITSU,hn.MENZENTSUMO],[hn.CHIITOITSU,hn.HAITEI],[hn.CHIITOITSU,hn.HOUTEI],[hn.CHIITOITSU,hn.OPENRIICHI],[hn.RIICHI,hn.IPPATSU],[hn.RIICHI,hn.MENZENTSUMO],[hn.RIICHI,hn.HAITEI],[hn.RIICHI,hn.RINSHANKAIHOU],[hn.RIICHI,hn.HOUTEI],[hn.RIICHI,hn.CHANKAN],[hn.RIICHI,hn.OPENRIICHI],[hn.DOUBLERIICHI,hn.IPPATSU],[hn.DOUBLERIICHI,hn.MENZENTSUMO],[hn.DOUBLERIICHI,hn.HAITEI],[hn.DOUBLERIICHI,hn.RINSHANKAIHOU],[hn.DOUBLERIICHI,hn.HOUTEI],[hn.DOUBLERIICHI,hn.CHANKAN],[hn.DOUBLERIICHI,hn.OPENRIICHI],[hn.IPPATSU,hn.MENZENTSUMO],[hn.IPPATSU,hn.HAITEI],[hn.IPPATSU,hn.CHANKAN],[hn.IPPATSU,hn.OPENRIICHI],[hn.MENZENTSUMO,hn.HAITEI],[hn.MENZENTSUMO,hn.RINSHANKAIHOU],[hn.MENZENTSUMO,hn.OPENRIICHI],[hn.HAITEI,hn.OPENRIICHI],[hn.RINSHANKAIHOU,hn.OPENRIICHI]],An=[[hn.SUUKANTSU,hn.SUUANKOU],[hn.SUUKANTSU,hn.DAISANGEN],[hn.SUUKANTSU,hn.SHOSUUSHII],[hn.SUUKANTSU,hn.DAISUUSHII],[hn.SUUKANTSU,hn.TSUUIISOU],[hn.SUUKANTSU,hn.CHINROTO],[hn.SUUKANTSU,hn.RYUUIISOU],[hn.SUUANKOU,hn.DAISANGEN],[hn.SUUANKOU,hn.SHOSUUSHII],[hn.SUUANKOU,hn.DAISUUSHII],[hn.SUUANKOU,hn.TSUUIISOU],[hn.SUUANKOU,hn.CHINROTO],[hn.SUUANKOU,hn.RYUUIISOU],[hn.SUUANKOU,hn.TENHOU],[hn.SUUANKOU,hn.CHIHOU],[hn.DAISANGEN,hn.TSUUIISOU],[hn.DAISANGEN,hn.TENHOU],[hn.DAISANGEN,hn.CHIHOU],[hn.SHOSUUSHII,hn.TSUUIISOU],[hn.SHOSUUSHII,hn.TENHOU],[hn.SHOSUUSHII,hn.CHIHOU],[hn.DAISUUSHII,hn.TSUUIISOU],[hn.DAISUUSHII,hn.TENHOU],[hn.DAISUUSHII,hn.CHIHOU],[hn.TSUUIISOU,hn.TENHOU],[hn.TSUUIISOU,hn.CHIHOU],[hn.CHINROTO,hn.TENHOU],[hn.CHINROTO,hn.CHIHOU],[hn.CHUURENPOUTO,hn.TENHOU],[hn.CHUURENPOUTO,hn.CHIHOU],[hn.RYUUIISOU,hn.TENHOU],[hn.RYUUIISOU,hn.CHIHOU],[hn.KOKUSHIMUSOU,hn.TENHOU],[hn.KOKUSHIMUSOU,hn.CHIHOU],[hn.CHUURENPOUTO,hn.TENHOU],[hn.CHUURENPOUTO,hn.CHIHOU]],Tn={},Un=0,Cn=gn;Un<Cn.length;Un++){var wn=Cn[Un];Tn[wn.id]={id:wn.id,data:wn}}function bn(e){void 0===e&&(e=!1);for(var t=new In,n=0,r=gn;n<r.length;n++){var o=r[n];t.addNode(Tn[o.id])}for(var a=0,i=_n;a<i.length;a++){var c=i[a];t.addBiEdge(Tn[c[0]],Tn[c[1]],On.Combines)}if(e)for(var s=0,l=An;s<l.length;s++){c=l[s];t.addBiEdge(Tn[c[0]],Tn[c[1]],On.Combines)}for(var u=0,d=Sn;u<d.length;u++){var p=d[u];t.addEdge(Tn[p[0]],Tn[p[1]],On.Suppresses),t.addEdge(Tn[p[1]],Tn[p[0]],On.IsSuppressed)}return t}function Hn(e,t){return e?e.getAllowedNodes(t.map((function(e){return Tn[e]}))).map((function(e){return e.data.id})):[]}function kn(e){return gn.reduce((function(t,n){return t+(e.includes(n.id)?"+":".")}),"")}function Rn(e){var t=0;return gn.reduce((function(n,r){return"+"===e[t++]?n.concat(r.id):n}),[])}var Pn=sn((function(e){var t;if("ron"===(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome)){var n=[];for(var r in e.currentOutcome.wins)if(e.currentOutcome.wins.hasOwnProperty(r)){var o=e.currentOutcome.wins[r];n.push({winner:o.winner,han:o.han,fu:o.fu,dora:o.dora,paoPlayerId:o.paoPlayerId,uradora:0,kandora:0,kanuradora:0,yaku:Rn(o.yaku),openHand:o.openHand})}return n}return[]}));sn((function(e){if(!e.gameConfig)return!1;var t=e.currentOutcome,n=e.gameConfig;if(!t)return!1;switch(t.selectedOutcome){case"tsumo":return yn(Rn(t.yaku),n.yakuWithPao).length>0;case"ron":return Object.keys(t.wins).reduce((function(e,r){return e||yn(Rn(t.wins[r].yaku),n.yakuWithPao).length>0}),!1);default:throw new Error("No pao exist on this outcome")}}));var Ln=sn((function(e){var t,n,r=e.currentOutcome;switch(null===r||void 0===r?void 0:r.selectedOutcome){case"tsumo":var o=r.winner&&(null===(t=e.players)||void 0===t?void 0:t.find((function(e){return e.id===r.winner})));return o?[o]:[];case"ron":var a=[],i=function(t){if(!r.wins.hasOwnProperty(t))return"continue";var o=null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===r.wins[t].winner}));o&&a.push(o)};for(var c in r.wins)i(c);return a;case"draw":case"nagashi":return r.tempai.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));default:return[]}}));var Kn=sn((function(e){var t,n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"ron":case"chombo":var r=null===(t=e.players)||void 0===t?void 0:t.find((function(e){return e.id===n.loser}));return r?[r]:[];default:return[]}}));var Dn=sn((function(e){var t,n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":var r=n.paoPlayerId&&(null===(t=e.players)||void 0===t?void 0:t.find((function(e){return e.id===n.paoPlayerId})));return r?[r]:[];case"ron":return Object.keys(n.wins).reduce((function(t,r){var o;if(n.wins[r].paoPlayerId){var a=null===(o=e.players)||void 0===o?void 0:o.find((function(e){return e.id===n.wins[r].paoPlayerId}));a&&t.push(a)}return t}),[]);default:return[]}}));var xn=sn((function(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"draw":case"nagashi":return t.deadhands.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));default:return[]}}));var jn=sn((function(e){var t=e.currentOutcome;return"nagashi"===(null===t||void 0===t?void 0:t.selectedOutcome)?t.nagashi.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e})):[]}));var Gn=sn((function(e,t){var n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return-1!==Rn(n.yaku).indexOf(t);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return-1!==Rn(n.wins[e.multironCurrentWinner].yaku).indexOf(t);default:return!1}}));var Mn=sn((function(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"ron":case"tsumo":case"draw":case"nagashi":case"abort":return t.riichiBets.map((function(t){var n;return null===(n=e.players)||void 0===n?void 0:n.find((function(e){return e.id===t}))})).filter((function(e){return!!e}));default:return[]}}));sn((function(e){var t,n,r,o,a,i;switch(null===(t=e.gameConfig)||void 0===t?void 0:t.timerPolicy){case"redZone":if((i=e.gameConfig.redZone)&&((null===(n=e.timer)||void 0===n?void 0:n.secondsRemaining)||0)<i&&!(null===(r=e.timer)||void 0===r?void 0:r.waiting))return"redZone";break;case"yellowZone":if((i=e.gameConfig.yellowZone)&&((null===(o=e.timer)||void 0===o?void 0:o.secondsRemaining)||0)<i&&!(null===(a=e.timer)||void 0===a?void 0:a.waiting))return e.yellowZoneAlreadyPlayed?"redZone":"yellowZone"}return"none"}));sn((function(e,t,n,r){var o;switch(t){case"other_overview":case"confirmation":case"overview":o=e.changesOverview}if(o){var a=o.payments,i=a.direct&&a.direct["".concat(r.id,"<-").concat(n.id)]||0,c=a.direct&&a.direct["".concat(n.id,"<-").concat(r.id)]||0,s=a.riichi&&a.riichi["".concat(r.id,"<-").concat(n.id)]||0,l=a.riichi&&a.riichi["".concat(n.id,"<-").concat(r.id)]||0,u=a.honba&&a.honba["".concat(r.id,"<-").concat(n.id)]||0,d=a.honba&&a.honba["".concat(n.id,"<-").concat(r.id)]||0;if(i!==c||0===i)return i+s>0?{backward:!1,riichi:s>0,title:[i,u].filter((function(e){return!!e})).join(" + ")}:c+l>0?{backward:!0,riichi:l>0,title:[c,d].filter((function(e){return!!e})).join(" + ")}:void 0}}));var Bn,Yn,Fn,Vn,Wn=function(e,t){var n;if(e.currentPlayerId)switch(t){case"overview":if(!e.players)return;return{round:e.currentRound,currentPlayerId:e.currentPlayerId,players:e.players,riichiBets:[],penaltyFor:void 0,paoPlayer:void 0};case"confirmation":if(!e.currentOutcome||!e.players)return;var r=Dn(e)[0];return{round:e.currentRound,currentPlayerId:e.currentPlayerId,players:e.players,riichiBets:Mn(e).map((function(e){return e.id.toString()})),penaltyFor:"chombo"===e.currentOutcome.selectedOutcome?e.currentOutcome.loser:void 0,paoPlayer:r&&r.id};case"other_overview":if(!e.currentOtherTable)return;return{round:e.currentOtherTable.currentRound,currentPlayerId:e.currentOtherTablePlayers[(null!==(n=e.overviewViewShift)&&void 0!==n?n:0)%4].id,players:e.currentOtherTablePlayers,riichiBets:[],penaltyFor:void 0,paoPlayer:void 0}}},Zn=function(e,t){var n,r=Wn(e,t);if(!r)throw new Error("No round overview found");return fn(r.round,null!==(n=e.overviewViewShift)&&void 0!==n?n:0,r.currentPlayerId,r.players,r.riichiBets,r.penaltyFor,r.paoPlayer)},Jn=function(e,t){return Zn(e,t).players[0]},qn=function(e,t){return Zn(e,t).players[1]},zn=function(e,t){return Zn(e,t).players[2]},Xn=function(e,t){return Zn(e,t).players[3]};function Qn(e,t){var n=e.currentOutcome;if(!n)return[];var r=$n(e);switch(n.selectedOutcome){case"tsumo":if(n.winner&&n.riichiBets.includes(n.winner))return[hn.RIICHI,hn.MENZENTSUMO].filter((function(e){return!r.includes(e)}));break;case"ron":var o=null!==t&&void 0!==t?t:e.multironCurrentWinner;if(!o)throw new Error("No winner selected");if(n.riichiBets.includes(o))return[hn.RIICHI].filter((function(e){return!r.includes(e)}));break;default:return[]}return[]}function $n(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"tsumo":return Rn(t.yaku);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return Rn(t.wins[e.multironCurrentWinner].yaku);default:return[]}}function er(e,t,n,r,o){var a=e.currentOutcome;return t&&a?r.filter((function(e){return!!(e!==hn.IPPATSU||"ron"!==(null===a||void 0===a?void 0:a.selectedOutcome)&&"tsumo"!==(null===a||void 0===a?void 0:a.selectedOutcome)||n.includes(hn.RIICHI)||n.includes(hn.DOUBLERIICHI))&&((e!==hn.__OPENHAND||"ron"!==(null===a||void 0===a?void 0:a.selectedOutcome)&&"tsumo"!==(null===a||void 0===a?void 0:a.selectedOutcome)||!a.riichiBets.includes(t))&&((e!==hn.RENHOU||"ron"!==(null===a||void 0===a?void 0:a.selectedOutcome)||!a.wins[t].winnerIsDealer)&&(!!(e!==hn.TENHOU||"tsumo"===(null===a||void 0===a?void 0:a.selectedOutcome)&&a.winnerIsDealer)&&((e!==hn.CHIHOU||"tsumo"===(null===a||void 0===a?void 0:a.selectedOutcome)&&!a.winnerIsDealer)&&!o.includes(e)))))})):[]}function tr(e){for(var t=0,n=Rn(e.yaku);t<n.length;t++){var r=n[t];if(Nn.includes(r))return!0}return!1}!function(e){e[e.IDLE=0]="IDLE",e[e.POSITIVE=1]="POSITIVE",e[e.NEGATIVE=2]="NEGATIVE",e[e.ACTIVE=3]="ACTIVE"}(Bn||(Bn={})),function(e){e[e.IDLE=0]="IDLE",e[e.DISABLE=1]="DISABLE",e[e.PRESSED=2]="PRESSED"}(Yn||(Yn={})),function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"}(Fn||(Fn={})),function(e){e[e.GAME=0]="GAME",e[e.BEFORE_START=1]="BEFORE_START",e[e.SELECT_PLAYERS=2]="SELECT_PLAYERS",e[e.RESULT=3]="RESULT",e[e.OTHER_PLAYER_TABLE=4]="OTHER_PLAYER_TABLE"}(Vn||(Vn={}));var nr=sn((function(e,t){var n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return n.han;case"ron":var r=null!==t&&void 0!==t?t:e.multironCurrentWinner;return r?n.wins[r].han:0;default:return 0}}));var rr=sn((function(e,t){var n,r=e.currentOutcome;switch(null===r||void 0===r?void 0:r.selectedOutcome){case"tsumo":return n=r.fu,r.han+r.dora>=5&&(n=0),n;case"ron":var o=null!==t&&void 0!==t?t:e.multironCurrentWinner;return o?(n=r.wins[o].fu,r.wins[o].han+r.wins[o].dora>=5&&(n=0),n):0;default:return 0}}));var or=sn((function(e){var t=e.currentOutcome;switch(null===t||void 0===t?void 0:t.selectedOutcome){case"tsumo":return t.possibleFu;case"ron":return e.multironCurrentWinner?t.wins[e.multironCurrentWinner].possibleFu:[];default:return[]}}));var ar,ir=sn((function(e,t){var n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return n.dora;case"ron":var r=null!==t&&void 0!==t?t:e.multironCurrentWinner;return r?n.wins[r].dora:0;default:return 0}}));function cr(e){var t;return function(e){var t=e.currentOutcome;if(!t)return!1;switch(t.selectedOutcome){case"tsumo":return tr(t);case"ron":return!!e.multironCurrentWinner&&tr(t.wins[e.multironCurrentWinner]);default:throw new Error("No yaku may exist on this outcome")}}(e)?[0]:"jpmlA"===(null===(t=e.gameConfig)||void 0===t?void 0:t.rulesetTitle)?[0,1,2,3,4]:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}function sr(e){var t=parseInt(e.toString(),10);return t>12?"\u5317".concat(t-12):t>8?"\u897f".concat(t-8):t>4?"\u5357".concat(t-4):"\u6771".concat(t)}function lr(e,t){return yn(Rn(e),t.yakuWithPao).length>0}function ur(e,t){if(!e)return!1;switch(e.selectedOutcome){case"tsumo":return lr(e.yaku,t);case"ron":return Object.keys(e.wins).reduce((function(n,r){return n||lr(e.wins[r].yaku,t)}),!1);default:throw new Error("No pao exist on this outcome")}}!function(e){e[e.TOP=0]="TOP",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"}(ar||(ar={}));function dr(e){return pr(e,void 0)}function pr(e,t){var n,r=e.gameConfig;if(r&&"paoSelect"===e.currentScreen&&"ron"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome)){var o=e.currentOutcome.wins,a=Object.keys(o);if(1!==a.length){var i=-1,c=-1,s=0;if(t)for(;s<a.length&&-1===i;s++){(l=parseInt(a[s].toString(),10))===t&&(i=s)}for(;s<a.length&&-1===c;s++){var l=parseInt(a[s].toString(),10);lr(o[a[s]].yaku,r)&&(c=l)}return-1!==c?c:void 0}}}var mr=sn((function(e){var t,n,r,o,a,i;if((null===(t=e.gameConfig)||void 0===t?void 0:t.useTimer)&&!(null===(n=e.timer)||void 0===n?void 0:n.waiting)){var c=Math.floor((null!==(o=null===(r=e.timer)||void 0===r?void 0:r.secondsRemaining)&&void 0!==o?o:0)/60)-15;return c<0?{minutes:0,seconds:0}:{minutes:c,seconds:(null!==(i=null===(a=e.timer)||void 0===a?void 0:a.secondsRemaining)&&void 0!==i?i:0)%60}}})),hr=sn((function(e){var t,n,r,o;if((null===(t=e.gameConfig)||void 0===t?void 0:t.useTimer)&&(null===(n=e.timer)||void 0===n?void 0:n.waiting)){var a=Math.floor(((null===(r=e.timer)||void 0===r?void 0:r.autostartSecondsRemaining)||0)/60);return a<0?{minutes:0,seconds:0}:{minutes:a,seconds:((null===(o=e.timer)||void 0===o?void 0:o.autostartSecondsRemaining)||0)%60}}}));function fr(e,t){return e.toString()+":"+(t<10?"0"+t.toString():t.toString())}function yr(e,t,n){var r=Ir(t),o=Er(e,zn(t,r),Zn(t,r).seating[2],t,n);return o.rotated=t.settings.singleDeviceMode&&["currentGame","outcomeSelect","confirmation"].includes(t.currentScreen),o}function gr(e,t,n){var r=Ir(t);return Er(e,Xn(t,r),Zn(t,r).seating[3],t,n)}function vr(e,t,n){var r=Ir(t);return Er(e,qn(t,r),Zn(t,r).seating[1],t,n)}function Or(e,t,n){var r=Ir(t);return Er(e,Jn(t,r),Zn(t,r).seating[0],t,n)}function Ir(e){switch(e.currentScreen){case"confirmation":return"confirmation";case"otherTable":return"other_overview";default:return"overview"}}function Er(e,t,n,r,o){var a,i,c,s=Bn.IDLE,l=t.score,u=t.penalties,d=!0,p=void 0,m=void 0,h=void 0,f=!1,y=!1,g=r.currentOutcome;switch(r.currentScreen){case"currentGame":case"otherTable":if((null===(a=r.timer)||void 0===a?void 0:a.waiting)&&(d=!1,l=void 0,u=void 0),r.overviewDiffBy){var v=null===(i="currentGame"===r.currentScreen?r.players:r.currentOtherTablePlayers)||void 0===i?void 0:i.find((function(e){return e.id===r.overviewDiffBy}));v&&((l=t.score-v.score)>0&&(l="+".concat(l)),s=l>0?Bn.POSITIVE:l<0?Bn.NEGATIVE:Bn.ACTIVE,u=void 0)}break;case"confirmation":var O=function(e,t,n){var r=_r(n);if(0===r.length&&n.changesOverview&&"chombo"===n.changesOverview.outcome&&n.changesOverview.penaltyFor){var o=n.changesOverview.penaltyFor;if(t.id===o)return e._t("Penalty")}var a=0;return r.forEach((function(e){if((e.from===t.id||e.to===t.id)&&e.from!==e.to){var n=e.directAmount+e.riichiAmount+e.honbaAmount,r=e.from===t.id?-1:1;a+=n*r}})),a}(e,t,r);l=0!==O?O:void 0,"number"===typeof O?O>0?(s=Bn.POSITIVE,l="+".concat(l)):O<0&&(s=Bn.NEGATIVE):s=Bn.NEGATIVE;var I=null===(c=r.changesOverview)||void 0===c?void 0:c.payments.riichi,E=t.id,N="".concat(E,"<-").concat(E);I&&Object.keys(I).includes(N)&&(y=!0);break;case"playersSelect":l=void 0,u=void 0;var S=null===g||void 0===g?void 0:g.selectedOutcome;if(!S)throw new Error("empty outcome");var _=["ron","tsumo","draw","nagashi"].includes(S),A=["ron","chombo"].includes(S),T=["ron","tsumo","draw","abort","nagashi"].includes(S);if(f=["draw","nagashi"].includes(S)&&function(e,t){return-1!==xn(e).indexOf(t)}(r,t),_&&!f){var U=void 0;U=function(e,t){return-1!==Ln(e).indexOf(t)}(r,t)?Yn.PRESSED:function(e,t){var n;return!!e.currentOutcome&&(-1!==["draw","nagashi"].indexOf(e.currentOutcome.selectedOutcome)?-1!==xn(e).indexOf(t):("ron"!==e.currentOutcome.selectedOutcome||(null===(n=e.gameConfig)||void 0===n?void 0:n.withAtamahane))&&Ln(e).length>0&&-1===Ln(e).indexOf(t)||-1!==Kn(e).indexOf(t))}(r,t)?Yn.DISABLE:Yn.IDLE,p={mode:U,onClick:Ar(o,t.id)}}if(A){var C=void 0;C=function(e,t){return-1!==Kn(e).indexOf(t)}(r,t)?Yn.PRESSED:function(e,t){return Kn(e).length>0&&-1===Kn(e).indexOf(t)||-1!==Ln(e).indexOf(t)}(r,t)?Yn.DISABLE:Yn.IDLE,m={mode:C,onClick:wr(o,t.id)}}if(T){var w=void 0;w=function(e,t){return-1!==Mn(e).indexOf(t)}(r,t)?Yn.PRESSED:Yn.IDLE,h={mode:w,onClick:br(o,t.id)}}break;case"nagashiSelect":l=void 0,u=void 0;var b=void 0;b=function(e,t){return-1!==jn(e).indexOf(t)}(r,t)?Yn.PRESSED:function(e,t){return jn(e).length>=3&&-1===jn(e).indexOf(t)}(r,t)?Yn.DISABLE:Yn.IDLE,p={mode:b,onClick:Tr(o,t.id)};break;case"paoSelect":if(l=void 0,u=void 0,!g)throw new Error(e._t("empty outcome"));var H=void 0,k=!1;switch(g.selectedOutcome){case"ron":r.multironCurrentWinner===t.id?(l=e._t("Winner"),s=Bn.POSITIVE):g.loser===t.id?(l=e._t("Loser"),s=Bn.NEGATIVE):k=!0;break;case"tsumo":g.winner!==t.id?k=!0:(l=e._t("Winner"),s=Bn.POSITIVE);break;default:throw new Error(e._t("wrong outcome for paoSelect"))}k&&(H=function(e,t){var n,r=e.multironCurrentWinner;return!(!r||"ron"!==(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome))&&e.currentOutcome.wins[r].paoPlayerId===t.id}(r,t)?Yn.PRESSED:Yn.IDLE,m={mode:H,onClick:Ur(o,t.id)})}return{name:t.displayName,wind:n,points:l,penaltyPoints:u,pointsMode:s,inlineWind:d,winButton:p,loseButton:m,riichiButton:h,showDeadButton:f,onDeadButtonClick:Cr(o,t.id),showInlineRiichi:y,onPlayerClick:Dr(r,o,t.id)}}function Nr(e,t){switch(t){case"ron":return e._t("Ron");case"tsumo":return e._t("Tsumo");case"draw":return e._t("Draw");case"abort":return e._t("Abort");case"chombo":return e._t("Chombo");case"nagashi":return e._t("Nagashi")}}function Sr(e,t,n){var r=function(e){var t;if(null===(t=e.timer)||void 0===t?void 0:t.waiting)return Vn.BEFORE_START;switch(e.currentScreen){case"currentGame":return Vn.GAME;case"confirmation":return Vn.RESULT;case"otherTable":return Vn.OTHER_PLAYER_TABLE;default:return Vn.SELECT_PLAYERS}}(t),o=function(e,t,n){if(void 0!==t){switch(t){case"ron":case"tsumo":if("paoSelect"===n)return e._t("Select pao");break;case"nagashi":if("playersSelect"===n)return e._t("Select tempai")}return Nr(e,t)}}(e,t.currentOutcome&&t.currentOutcome.selectedOutcome,t.currentScreen),a=[Vn.OTHER_PLAYER_TABLE,Vn.SELECT_PLAYERS,Vn.RESULT].includes(r),i=r===Vn.SELECT_PLAYERS,c=!function(e){return function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":return 1===Ln(e).length;case"draw":case"abort":case"nagashi":return!0;case"ron":return Ln(e).length>=1&&1===Kn(e).length;case"chombo":return 1===Kn(e).length;default:return}}(e)}(t),s=r===Vn.RESULT;return{text:o,showBack:a,showNext:i,isNextDisabled:c,showHome:[Vn.GAME,Vn.BEFORE_START].includes(r),showRefresh:[Vn.GAME,Vn.BEFORE_START,Vn.OTHER_PLAYER_TABLE].includes(r),showAdd:r===Vn.GAME,showLog:[Vn.GAME,Vn.OTHER_PLAYER_TABLE].includes(r),showSave:s,isSaveDisabled:!1,onNextClick:function(){var e;if("paoSelect"===t.currentScreen&&"ron"===(null===(e=t.currentOutcome)||void 0===e?void 0:e.selectedOutcome)){var r=pr(t,t.multironCurrentWinner);if(void 0!==r)return function(){return n({type:Te,payload:{winner:r}})}}return function(e){return function(){e({type:O})}}(n)}(),onBackClick:Lr(n),onSaveClick:Kr(t,n),onLogClick:Hr(n),onAddClick:kr(t,n),onHomeClick:Rr(n),onRefreshClick:Pr(t,n)}}function _r(e){var t=e.changesOverview;if("confirmation"!==e.currentScreen||void 0===t||e.loading.overview)return[];var n=t.payments,r=[];return Object.keys(n.direct||[]).forEach((function(e){var t=e.split("<-");if(2===t.length){var o=parseInt(t[1],10),a=parseInt(t[0],10),i=n.direct[e],c="".concat(o).concat("<-").concat(a);if(i!==n.direct[c]){var s={from:o,to:a,directAmount:i,riichiAmount:0,honbaAmount:0};r.push(s)}}})),Object.keys(n.riichi||[]).forEach((function(e){var t=e.split("<-"),o=n.riichi[e];if(2===t.length&&0!==o){var a=t[1]?parseInt(t[1],10):void 0,i=t[0]?parseInt(t[0],10):void 0,c=r.find((function(e){return e.to===i&&e.from===a}));if(c)c.riichiAmount=o;else{var s={from:a,to:i,directAmount:0,riichiAmount:o,honbaAmount:0};r.push(s)}}})),Object.keys(n.honba||[]).forEach((function(e){var t=e.split("<-"),o=n.honba[e];if(2===t.length&&0!==o){var a=parseInt(t[1],10),i=parseInt(t[0],10),c=r.find((function(e){return e.to===i&&e.from===a}));c&&(c.honbaAmount=o)}})),r}function Ar(e,t){return function(){return e({type:U,payload:t})}}function Tr(e,t){return function(){return e({type:H,payload:t})}}function Ur(e,t){return function(){return e({type:w,payload:t})}}function Cr(e,t){return function(){return e({type:b,payload:t})}}function wr(e,t){return function(){return e({type:C,payload:t})}}function br(e,t){return function(){return e({type:T,payload:t})}}function Hr(e){return function(){return e({type:g})}}function kr(e,t){return function(){"currentGame"===e.currentScreen?t({type:O}):"outcomeSelect"===e.currentScreen&&t({type:I})}}function Rr(e){return function(){return e({type:I})}}function Pr(e,t){return function(){"otherTable"===e.currentScreen?t({type:Q}):t({type:D})}}function Lr(e){return function(){return e({type:I})}}function Kr(e,t){return function(){return t({type:ve,payload:e})}}function Dr(e,t,n){var r;if(["currentGame","otherTable"].includes(e.currentScreen)&&!(null===(r=e.timer)||void 0===r?void 0:r.waiting))return function(){t({type:Pe,payload:n})}}function xr(e,t){if("currentGame"===e.currentScreen||"confirmation"===e.currentScreen){if("currentGame"===e.currentScreen)if(!e.tableIndex)return;return function(){t({type:Le})}}}function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(this,arguments)}const Gr=function(e){return i.createElement("svg",jr({width:104,height:16,viewBox:"0 0 104 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("rect",{x:.6,y:.6,width:102.8,height:14.8,rx:7.4,strokeWidth:1.2,stroke:"currentColor",style:{fill:"var(--riichi-fill-color)"}}),i.createElement("circle",{cx:53,cy:8,r:3.75,fill:"black",style:{fill:"var(--riichi-circle-color)"}}))};var Mr;function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}const Yr=function(e){return i.createElement("svg",Br({width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Mr||(Mr=i.createElement("path",{d:"M19.9286 0C19.2455 0 18.6428 0.247761 18.1205 0.743304C17.5446 1.3058 17.1295 2.02902 16.875 2.91295C16.6205 3.79687 16.4163 4.64398 16.2623 5.45424C16.1082 6.2645 15.8705 6.83705 15.5491 7.17187C14.8928 7.88169 14.1763 8.73884 13.3995 9.7433C12.0469 11.4978 11.1294 12.5357 10.6473 12.8571H5.14284C4.43302 12.8571 3.82699 13.1083 3.32476 13.6105C2.82253 14.1127 2.57141 14.7188 2.57141 15.4286V28.2857C2.57141 28.9955 2.82253 29.6016 3.32476 30.1038C3.82699 30.606 4.43302 30.8571 5.14284 30.8571H10.9286C11.2232 30.8571 12.1473 31.125 13.7009 31.6607C15.3482 32.2366 16.798 32.6752 18.0502 32.9766C19.3024 33.2779 20.5714 33.4286 21.8571 33.4286H24.4486C26.337 33.4286 27.8571 32.8895 29.0089 31.8114C30.1607 30.7333 30.7299 29.2634 30.7165 27.4018C31.5201 26.3705 31.9219 25.1786 31.9219 23.8259C31.9219 23.5312 31.9018 23.2433 31.8616 22.9621C32.3705 22.0647 32.625 21.1004 32.625 20.0692C32.625 19.5871 32.5647 19.125 32.4442 18.683C33.1004 17.692 33.4286 16.6004 33.4286 15.4085C33.4286 14.029 32.9196 12.8304 31.9018 11.8125C30.8839 10.7946 29.6785 10.2857 28.2857 10.2857H24.75C25.3928 8.95982 25.7143 7.67411 25.7143 6.42857C25.7143 4.86161 25.4799 3.61607 25.0111 2.69196C24.5424 1.76786 23.8594 1.08818 22.962 0.652902C22.0647 0.217627 21.0536 0 19.9286 0ZM19.9286 2.57143C21.2143 2.57143 22.0714 2.88617 22.5 3.51562C22.9285 4.14508 23.1428 5.11608 23.1428 6.42857C23.1428 7.21874 22.8214 8.29352 22.1786 9.6529C21.5357 11.0123 21.2143 12.0804 21.2143 12.8571H28.2857C28.9553 12.8571 29.5513 13.1149 30.0736 13.6306C30.596 14.1462 30.8571 14.7455 30.8571 15.4286C30.8571 15.8973 30.7131 16.4397 30.4252 17.0558C30.1373 17.6719 29.779 17.9866 29.3504 18C29.5513 18.2277 29.7187 18.5458 29.8527 18.9542C29.9866 19.3627 30.0536 19.7344 30.0536 20.0692C30.0536 20.9933 29.6986 21.7902 28.9888 22.4598C29.2299 22.8884 29.3504 23.3504 29.3504 23.846C29.3504 24.3415 29.2332 24.8337 28.9989 25.3225C28.7645 25.8114 28.4464 26.1629 28.0446 26.3772C28.1116 26.779 28.1451 27.154 28.1451 27.5022C28.1451 29.7388 26.8594 30.8571 24.2879 30.8571H21.8571C20.1027 30.8571 17.8125 30.3683 14.9866 29.3906C14.9196 29.3638 14.7254 29.2935 14.404 29.1797C14.0826 29.0658 13.8449 28.9821 13.6908 28.9286C13.5368 28.875 13.3024 28.798 12.9877 28.6975C12.673 28.5971 12.4185 28.5234 12.2243 28.4766C12.0301 28.4297 11.8091 28.3862 11.5614 28.346C11.3136 28.3058 11.1027 28.2857 10.9286 28.2857H10.2857V15.4286H10.9286C11.1428 15.4286 11.3806 15.3683 11.6417 15.2478C11.9029 15.1272 12.1707 14.9464 12.4453 14.7054C12.7199 14.4643 12.9777 14.2266 13.2187 13.9922C13.4598 13.7578 13.7277 13.4632 14.0223 13.1083C14.317 12.7533 14.548 12.4688 14.7154 12.2545C14.8828 12.0402 15.0937 11.7656 15.3482 11.4308C15.6027 11.096 15.7567 10.8951 15.8103 10.8281C16.5469 9.91742 17.0625 9.30803 17.3571 9C17.9062 8.4241 18.3047 7.69084 18.5524 6.80022C18.8002 5.9096 19.0044 5.06919 19.1652 4.27902C19.3259 3.48885 19.5803 2.91964 19.9286 2.57143ZM4.99432 15.3672H8.27116V28.3616H4.94912L4.99432 15.3672Z",fill:"currentColor"})))};var Fr;function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}const Wr=function(e){return i.createElement("svg",Vr({width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Fr||(Fr=i.createElement("path",{d:"M16.0714 33.4286C16.7545 33.4286 17.3571 33.1808 17.8795 32.6853C18.4554 32.1228 18.8705 31.3996 19.125 30.5157C19.3795 29.6317 19.5837 28.7846 19.7377 27.9744C19.8917 27.1641 20.1295 26.5916 20.4509 26.2567C21.1071 25.5469 21.8236 24.6898 22.6004 23.6853C23.9531 21.9308 24.8705 20.8929 25.3527 20.5715H30.8571C31.5669 20.5715 32.173 20.3203 32.6752 19.8181C33.1774 19.3159 33.4286 18.7098 33.4286 18V5.14286C33.4286 4.43304 33.1774 3.82701 32.6752 3.32478C32.173 2.82254 31.5669 2.57143 30.8571 2.57143H25.0714C24.7768 2.57143 23.8527 2.30358 22.2991 1.76786C20.6518 1.19196 19.202 0.75335 17.9498 0.45201C16.6975 0.15067 15.4286 0 14.1428 0H11.5513C9.66292 0 8.14283 0.53905 6.99105 1.61719C5.83927 2.69532 5.27006 4.16517 5.28346 6.02678C4.47989 7.05803 4.0781 8.24997 4.0781 9.60267C4.0781 9.89737 4.09819 10.1853 4.13837 10.4665C3.62945 11.3639 3.37498 12.3282 3.37498 13.3594C3.37498 13.8415 3.43525 14.3036 3.55578 14.7456C2.89952 15.7366 2.57141 16.8282 2.57141 18.0201C2.57141 19.3996 3.08033 20.5982 4.09819 21.6161C5.11606 22.634 6.32141 23.1429 7.71426 23.1429H11.25C10.6071 24.4688 10.2857 25.7545 10.2857 27C10.2857 28.567 10.5201 29.8125 10.9888 30.7366C11.4576 31.6607 12.1406 32.3404 13.0379 32.7757C13.9353 33.211 14.9464 33.4286 16.0714 33.4286ZM16.0714 30.8572C14.7857 30.8572 13.9286 30.5424 13.5 29.913C13.0714 29.2835 12.8571 28.3125 12.8571 27C12.8571 26.2099 13.1786 25.1351 13.8214 23.7757C14.4643 22.4163 14.7857 21.3482 14.7857 20.5715H7.71426C7.04463 20.5715 6.44864 20.3137 5.92632 19.798C5.404 19.2824 5.14283 18.6831 5.14283 18C5.14283 17.5313 5.28681 16.9889 5.57475 16.3728C5.86269 15.7567 6.22097 15.442 6.64953 15.4286C6.44864 15.2009 6.28123 14.8828 6.1473 14.4744C6.01336 14.0659 5.94641 13.6942 5.94641 13.3594C5.94641 12.4353 6.30132 11.6384 7.01114 10.9688C6.77007 10.5402 6.64953 10.0782 6.64953 9.58257C6.64953 9.08707 6.76671 8.59487 7.00109 8.10607C7.23548 7.61717 7.55355 7.26563 7.95533 7.05134C7.88838 6.64955 7.85489 6.27455 7.85489 5.92634C7.85489 3.68974 9.1406 2.57143 11.712 2.57143H14.1428C15.8973 2.57143 18.1875 3.06026 21.0134 4.03795C21.0803 4.06472 21.2745 4.13504 21.596 4.24888C21.9174 4.36273 22.1551 4.44642 22.3091 4.5C22.4632 4.55358 22.6975 4.63058 23.0123 4.73103C23.327 4.83147 23.5815 4.90514 23.7757 4.95201C23.9699 4.99888 24.1908 5.04241 24.4386 5.08259C24.6864 5.12277 24.8973 5.14286 25.0714 5.14286H25.7143V18H25.0714C24.8571 18 24.6194 18.0603 24.3582 18.1808C24.0971 18.3014 23.8292 18.4822 23.5547 18.7232C23.2801 18.9643 23.0223 19.202 22.7812 19.4364C22.5402 19.6708 22.2723 19.9654 21.9777 20.3203C21.683 20.6753 21.452 20.9598 21.2846 21.1741C21.1172 21.3884 20.9062 21.663 20.6518 21.9978C20.3973 22.3326 20.2433 22.5335 20.1897 22.6005C19.4531 23.5112 18.9375 24.1206 18.6428 24.4286C18.0937 25.0045 17.6953 25.7378 17.4475 26.6284C17.1998 27.519 16.9955 28.3594 16.8348 29.1496C16.6741 29.9398 16.4196 30.509 16.0714 30.8572ZM31.0057 18.0614H27.7288V5.06698H31.0509L31.0057 18.0614Z",fill:"currentColor"})))};var Zr,Jr,qr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),t.prototype.renderName=function(){var e=this.props,t=e.name,n=e.wind,r=e.nameWidth,o=e.inlineWind;return i.createElement("div",{className:"player__name-container"},i.createElement("div",{className:"player__name",style:{width:r}},o&&i.createElement("span",{className:"player__inline-wind"},n),t))},t.prototype.onRiichiClick=function(){var e=this.props.riichiButton;e&&e.mode!==Yn.DISABLE&&e.onClick()},t.prototype.renderRiichiButton=function(){var e=this.props,t=e.verticalButtons,n=e.riichiButton;return void 0!==n?i.createElement("div",{onClick:this.onRiichiClick.bind(this),className:We()("player__riichi-button",{"player__riichi-button--rotated":t},{"player__riichi-button--empty":n.mode===Yn.IDLE})},i.createElement(Gr,null)):null},t.prototype.onWinClick=function(){var e=this.props.winButton;e&&e.mode!==Yn.DISABLE&&e.onClick()},t.prototype.onLoseClick=function(){var e=this.props.loseButton;e&&e.mode!==Yn.DISABLE&&e.onClick()},t.prototype.renderButtons=function(){var e=this.props,t=e.startWithName,n=e.verticalButtons,r=e.winButton,o=e.loseButton,a=e.showDeadButton,c=e.onDeadButtonClick,s=void 0!==r,l=void 0!==o,u=s&&!l||l&&!s;return i.createElement(i.Fragment,null,!t&&this.renderRiichiButton(),(s||l||a)&&i.createElement("div",{className:We()("player__button-container",{"player__button-container--horizontal":!n})},s&&r&&i.createElement("div",{onClick:this.onWinClick.bind(this),className:We()("player__button flat-btn",{"flat-btn--small":!u},{"flat-btn--v-large":u&&n},{"flat-btn--large":u&&!n},{"flat-btn--disabled":r.mode===Yn.DISABLE},{"flat-btn--success":r.mode===Yn.PRESSED})},i.createElement(Yr,null)),l&&o&&i.createElement("div",{onClick:this.onLoseClick.bind(this),className:We()("player__button flat-btn",{"flat-btn--small":!u},{"flat-btn--v-large":u&&n},{"flat-btn--large":u&&!n},{"flat-btn--disabled":o.mode===Yn.DISABLE},{"flat-btn--danger":o.mode===Yn.PRESSED})},i.createElement(Wr,null)),a&&i.createElement("div",{onClick:c,className:We()("player__button flat-btn flat-btn--pressed ",{"flat-btn--v-large":n},{"flat-btn--large":!n})},i.createElement("div",{className:"flat-btn__caption"},"dead hand"))),t&&this.renderRiichiButton())},t.prototype.render=function(){var e=this.props,t=e.wind,n=e.mode,r=e.rotated,o=e.startWithName,a=e.inlineWind,c=e.points,s=e.pointsMode,l=e.penaltyPoints,u=e.showInlineRiichi,d=e.onPlayerClick;return i.createElement("div",{className:We()("player",{"player--top":n===Fn.TOP},{"player--right":n===Fn.RIGHT},{"player--bottom":n===Fn.BOTTOM},{"player--left":n===Fn.LEFT},{"player--rotated":r}),onClick:d},o&&this.renderName(),this.renderButtons(),t&&!a&&i.createElement("div",{className:"player__wind-container"},i.createElement("div",{className:"player__wind"},t)),void 0!==c&&i.createElement("div",{className:"player__score-container"},i.createElement("div",{className:We()("player__score",{"player__score--success":s===Bn.POSITIVE},{"player__score--danger":s===Bn.NEGATIVE},{"player__score--active":s===Bn.ACTIVE})},i.createElement("p",null,c,u&&i.createElement(Gr,{className:"player__inline-riichi"})),!!l&&i.createElement("div",{className:"player__penalty"},"".concat(l/1e3,"k")))),!o&&this.renderName())},t}(i.Component),Xr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dimension:"initial"},t}return Xr(t,e),t.prototype.componentDidMount=function(){this.onFrameHeightChanged(),frame.addEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.componentWillUnmount=function(){frame.removeEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.componentDidUpdate=function(){var e=this.getDimension();this.state.dimension!==e&&this.setState({dimension:e})},t.prototype.onFrameHeightChanged=function(){this.setState({dimension:this.getDimension()})},t.prototype.getDimension=function(){var e=this.props.selector;return"".concat(document.querySelector(e).clientHeight,"px")},t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.propName,o=this.state.dimension;return i.cloneElement(n,((e={})[r]=o,e))},t}(i.Component),$r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $r(t,e),t.prototype.render=function(){var e=this.props.children;return i.createElement(Qr,{propName:"nameWidth",selector:".page-table__center"},e)},t}(i.Component),to=function(){return to=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},to.apply(this,arguments)},no=function(e){return i.createElement(eo,null,i.createElement(zr,to({},e,{mode:Fn.LEFT,rotated:!0,startWithName:!0,verticalButtons:!0})))},ro=function(){return ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ro.apply(this,arguments)},oo=function(e){return i.createElement(zr,ro({},e,{mode:Fn.BOTTOM}))},ao=function(){return ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ao.apply(this,arguments)},io=function(e){return i.createElement(zr,ao({},e,{mode:Fn.TOP,startWithName:!0}))};function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)}const so=function(e){return i.createElement("svg",co({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),Zr||(Zr=i.createElement("line",{x1:5,y1:12,x2:19,y2:12})),Jr||(Jr=i.createElement("polyline",{points:"12 5 19 12 12 19"})))};var lo,uo;function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(this,arguments)}const mo=function(e){return i.createElement("svg",po({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),lo||(lo=i.createElement("path",{d:"M1 10.3636L12.1459 2L23 10.6483",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),uo||(uo=i.createElement("path",{d:"M20.1836 8.41622L20.2273 20.9663L14.3346 21.0189L14.3017 14.8756L9.95964 14.874L9.94138 20.9661L3.75824 20.9278L3.79108 8.33948",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})))};var ho,fo;function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}const go=function(e){return i.createElement("svg",yo({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ho||(ho=i.createElement("polygon",{points:"19 20 9 12 19 4 19 20"})),fo||(fo=i.createElement("line",{x1:5,y1:19,x2:5,y2:5})))};var vo,Oo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oo(t,e),t.prototype.onNextButtonClick=function(){var e=this.props,t=e.isNextDisabled,n=e.onNextClick;n&&!t&&n()},t.prototype.onSaveButtonClick=function(){var e=this.props,t=e.isSaveDisabled,n=e.onSaveClick;n&&!t&&n()},t.prototype.render=function(){var e=this.props,t=e.text,n=e.showBack,r=e.showNext,o=e.isNextDisabled,a=e.showSave,c=e.isSaveDisabled,s=e.showHome,l=e.showRefresh,u=e.showAdd,d=e.showLog,p=e.onAddClick,m=e.onBackClick,h=e.onHomeClick,f=e.onLogClick,y=e.onRefreshClick,g=n&&!!t&&!r&&!a;return i.createElement("div",{className:"bottom-panel"},i.createElement("div",{className:"bottom-panel__inner"},n&&i.createElement("div",{className:"svg-button",onClick:m},i.createElement(wt,null)),!!t&&i.createElement("div",{className:"bottom-panel__text"},t),g&&i.createElement("div",{className:"svg-button"}),r&&i.createElement("div",{className:We()("svg-button",{"svg-button--disabled":o}),onClick:this.onNextButtonClick.bind(this)},i.createElement(so,null)),a&&i.createElement("div",{className:We()("svg-button",{"svg-button--disabled":c}),onClick:this.onSaveButtonClick.bind(this)},i.createElement($t,null)),s&&i.createElement("div",{className:"svg-button",onClick:h},i.createElement(mo,null)),l&&i.createElement("div",{className:"svg-button",onClick:y},i.createElement(qe,null)),u&&i.createElement("div",{className:"svg-button",onClick:p},i.createElement(it,null)),d&&i.createElement("div",{className:"svg-button",onClick:f},i.createElement(go,null))))},t}(i.Component),Eo=20,No=function(e,t){this.x=e,this.y=t};function So(e,t,n,r){var o=_o(e.x,t.x,n.x,r),a=_o(e.y,t.y,n.y,r);return new No(o,a)}function _o(e,t,n,r){return(1-r)*(1-r)*e+2*r*(1-r)*t+r*r*n}function Ao(e,t){var n=t.x-e.x,r=e.y-t.y,o=(1*n+0*r)/(Math.sqrt(n*n+r*r)*Math.sqrt(1));return 180*Math.acos(o)/Math.PI}function To(e,t,n){return Ao(e,So(e,t,n,.08))}function Uo(e){return e.honbaPoints?"".concat(e.points," + ").concat(e.honbaPoints):e.points.toString()}!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_LEFT=2]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=3]="BOTTOM_RIGHT"}(vo||(vo={}));var Co,wo,bo=i.memo((function(e){var t=e.payment,n=e.pathId,r=e.withPao,o=e.isTextAbove,a=e.direction;if("0"===t&&!r)return null;var c=4+(o?0:8),s=c*([vo.TOP_RIGHT,vo.BOTTOM_RIGHT].includes(a)?1:-1),l=c*([vo.BOTTOM_RIGHT,vo.BOTTOM_LEFT].includes(a)?1:-1),u="0"!==t?t+(r?" (pao)":""):"pao";return i.createElement("text",{transform:"translate(".concat(s," ").concat(l,")")},i.createElement("textPath",{xlinkHref:"#"+n,startOffset:"50%",textAnchor:"middle",fill:"currentColor"},u))})),Ho=i.memo((function(e){var t=e.id,n=e.start,r=e.center,o=e.end;return i.createElement("g",null,i.createElement("path",{id:t,d:"M ".concat(n.x,",").concat(n.y," Q").concat(r.x,",").concat(r.y," ").concat(o.x,",").concat(o.y," "),stroke:"currentColor"}))})),ko=i.memo((function(e){var t=e.offsetX,n=e.offsetY,r=e.angle;return i.createElement("g",{transform:"translate(".concat(t," ").concat(n,")")},i.createElement("g",{transform:"rotate(".concat(r,")")},i.createElement("rect",{width:42,height:7,x:-20.5,y:-3,rx:"4",ry:"4",stroke:"currentColor",strokeWidth:1}),i.createElement("circle",{r:1.8,cx:.5,cy:.5,style:{fill:"var(--color-danger)"}})))})),Ro=i.memo((function(e){var t=e.start,n=e.center,r=e.end,o=(e.inverted,e.direction),a=So(t,n,r,.5),c=So(t,n,r,.52),s=[vo.TOP_RIGHT,vo.BOTTOM_LEFT].includes(o)?1:-1,l=Ao(a,c)*s,u=[vo.TOP_RIGHT,vo.BOTTOM_RIGHT].includes(o)?-1:1,d=[vo.BOTTOM_RIGHT,vo.BOTTOM_LEFT].includes(o)?-1:1,p=a.x+6*u,m=a.y+6*d;return i.createElement(ko,{offsetX:p,offsetY:m,angle:l})})),Po=i.memo((function(e){var t=e.offset,n=e.angle;return i.createElement("g",{transform:"translate(".concat(t.x," ").concat(t.y,")")},i.createElement("g",{transform:"rotate(".concat(n,")")},i.createElement("rect",{x:"-1",y:-3.5,width:11,height:7,style:{fill:"var(--bg-color)"}}),i.createElement("path",{d:"m 0,0 12.693819,-3.57903 c -1.499915,3.09366 -0.947277,5.02928 0,7.17478 l -12.693819,-3.59575",fill:"currentColor"})))})),Lo=i.memo((function(e){var t=e.start,n=e.center,r=e.end,o=e.inverted,a=e.direction;if(o){var c=[vo.TOP_RIGHT,vo.BOTTOM_LEFT].includes(a)?1:-1,s=To(t,n,r)*c;return i.createElement(Po,{offset:t,angle:s})}c=[vo.TOP_LEFT,vo.BOTTOM_RIGHT].includes(a)?1:-1,s=To(r,n,t)*c;return i.createElement(Po,{offset:r,angle:s})})),Ko=i.memo((function(e){var t,n=e.offsetX,r=e.offsetY,o=e.width,a=e.height,c=e.arrows,s=null!==(t=c.BottomLeft)&&void 0!==t?t:c.LeftBottom;if(!s)return null;var l=s.start===ar.LEFT,u=s.withRiichi,d=Uo(s),p="left-bottom",m=vo.BOTTOM_LEFT,h=new No(0,a/2+Eo),f=new No(o/2-Eo-n,a/2+Eo+r),y=new No(o/2-Eo,a);return i.createElement("g",null,i.createElement(Ho,{id:p,start:h,center:f,end:y}),i.createElement(Lo,{start:h,center:f,end:y,inverted:!l,direction:m}),u&&i.createElement(Ro,{start:h,center:f,end:y,inverted:!l,direction:m}),i.createElement(bo,{payment:d,pathId:p,withPao:s.withPao,isTextAbove:!1,direction:m}))})),Do=i.memo((function(e){var t,n=e.offsetX,r=e.offsetY,o=e.width,a=e.height,c=e.arrows,s=null!==(t=c.BottomRight)&&void 0!==t?t:c.RightBottom;if(!s)return null;var l=s.start===ar.BOTTOM,u=Uo(s),d="bottom-right",p=vo.BOTTOM_RIGHT,m=new No(o/2+Eo,a),h=new No(o/2+Eo+n,a/2+Eo+r),f=new No(o,a/2+Eo);return i.createElement("g",null,i.createElement(Ho,{id:d,start:m,center:h,end:f}),i.createElement(Lo,{start:m,center:h,end:f,inverted:!l,direction:p}),s.withRiichi&&i.createElement(Ro,{start:m,center:h,end:f,inverted:!l,direction:p}),i.createElement(bo,{payment:u,pathId:d,withPao:s.withPao,isTextAbove:!1,direction:p}))})),xo=i.memo((function(e){var t,n=e.width,r=e.height,o=e.arrows,a=null!==(t=o.BottomTop)&&void 0!==t?t:o.TopBottom;if(!a)return null;var c=a.start===ar.TOP,s=function(e){return e?"start":"end"},l=function(e){return e?"5%":"95%"},u=n/2-3.5-4,d=.05*r+21,p=Uo(a),m="top-bottom";return i.createElement("g",null,i.createElement("g",null,i.createElement("path",{id:m,d:"M ".concat(n/2," ").concat(0," V ").concat(r),stroke:"currentColor",fill:"none"}),c&&i.createElement(Po,{offset:new No(n/2,r),angle:-90}),!c&&i.createElement(Po,{offset:new No(n/2,0),angle:90}),"0"!==p&&i.createElement("text",{transform:"translate(".concat(4," ").concat(0,")")},i.createElement("textPath",{xlinkHref:"#"+m,startOffset:l(!c),textAnchor:s(!c),fill:"currentColor"},p)),a.withRiichi&&i.createElement(ko,{offsetX:u,offsetY:d,angle:90}),a.withPao&&i.createElement("text",{transform:"translate(".concat(4," ").concat(0,")")},i.createElement("textPath",{xlinkHref:"#"+m,startOffset:l(c),textAnchor:s(c),fill:"currentColor"},"pao"))))})),jo=i.memo((function(e){var t,n=e.width,r=e.height,o=e.arrows,a=null!==(t=o.LeftRight)&&void 0!==t?t:o.RightLeft;if(!a)return null;var c=a.start===ar.LEFT,s=function(e){return e?"start":"end"},l=function(e){return e?"5%":"95%"},u=.05*n+21,d=r/2+3.5+4,p=Uo(a),m="left-right";return i.createElement("g",null,i.createElement("path",{id:m,d:"M ".concat(0," ").concat(r/2," H ").concat(n),stroke:"currentColor",fill:"none"}),!c&&i.createElement(Po,{offset:new No(0,r/2),angle:0}),c&&i.createElement(Po,{offset:new No(n,r/2),angle:180}),"0"!==p&&i.createElement("text",{transform:"translate(".concat(0," ").concat(-4,")")},i.createElement("textPath",{xlinkHref:"#"+m,startOffset:l(!c),textAnchor:s(!c),fill:"currentColor"},p)),a.withRiichi&&i.createElement(ko,{offsetX:u,offsetY:d,angle:0}),a.withPao&&i.createElement("text",{transform:"translate(".concat(0," ").concat(-4,")")},i.createElement("textPath",{xlinkHref:"#"+m,startOffset:l(c),textAnchor:s(c),fill:"currentColor"},"pao")))})),Go=i.memo((function(e){var t,n=e.offsetX,r=e.offsetY,o=e.width,a=e.height,c=e.arrows,s=null!==(t=c.TopLeft)&&void 0!==t?t:c.LeftTop;if(!s)return null;var l=s.start===ar.LEFT,u=s.withRiichi,d=Uo(s),p="top-left",m=vo.TOP_LEFT,h=new No(0,a/2-Eo),f=new No(o/2-Eo-n,a/2-Eo-r),y=new No(o/2-Eo,0);return i.createElement("g",null,i.createElement(Ho,{id:p,start:h,center:f,end:y}),i.createElement(Lo,{start:h,center:f,end:y,inverted:!l,direction:m}),u&&i.createElement(Ro,{start:h,center:f,end:y,inverted:!l,direction:m}),i.createElement(bo,{payment:d,pathId:p,withPao:s.withPao,isTextAbove:!0,direction:m}))})),Mo=i.memo((function(e){var t,n=e.offsetX,r=e.offsetY,o=e.width,a=e.height,c=e.arrows,s=null!==(t=c.TopRight)&&void 0!==t?t:c.RightTop;if(!s)return null;var l=s.start===ar.TOP,u=s.withRiichi,d=Uo(s),p="top-right",m=vo.TOP_RIGHT,h=new No(o/2+Eo,0),f=new No(o/2+Eo+n,a/2-Eo-r),y=new No(o,a/2-Eo);return i.createElement("g",null,i.createElement(Ho,{id:p,start:h,center:f,end:y}),i.createElement(Lo,{start:h,center:f,end:y,inverted:!l,direction:m}),u&&i.createElement(Ro,{start:h,center:f,end:y,inverted:!l,direction:m}),i.createElement(bo,{payment:d,pathId:p,withPao:s.withPao,isTextAbove:!0,direction:m}))})),Bo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:0,height:0},t.containerRef=i.createRef(),t}return Bo(t,e),t.prototype.componentDidMount=function(){this.onFrameHeightChanged(),frame.addEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.componentWillUnmount=function(){frame.removeEventListener("resize",this.onFrameHeightChanged.bind(this))},t.prototype.onFrameHeightChanged=function(){var e=this.containerRef.current;e&&this.setState({width:e.clientWidth,height:e.clientHeight})},t.prototype.render=function(){var e=this.state,t=e.width,n=e.height,r=this.props.arrows,o=.1*(t/2-40),a=.1*(n/2-40),c={};return r.forEach((function(e){var t=ar[e.start].toLowerCase();t=t[0].toUpperCase()+t.slice(1);var n=ar[e.end].toLowerCase();n=n[0].toUpperCase()+n.slice(1),c[t+n]=e})),i.createElement("div",{className:"result-arrows"},i.createElement("div",{className:"result-arrows__inner",ref:this.containerRef},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),fill:"none",stroke:"none"},i.createElement(Ko,{offsetX:o,offsetY:a,arrows:c,width:t,height:n}),i.createElement(Do,{offsetX:o,offsetY:a,arrows:c,width:t,height:n}),i.createElement(Go,{offsetX:o,offsetY:a,arrows:c,width:t,height:n}),i.createElement(Mo,{offsetX:o,offsetY:a,arrows:c,width:t,height:n}),i.createElement(xo,{arrows:c,width:t,height:n}),i.createElement(jo,{arrows:c,width:t,height:n}))))},t}(i.PureComponent),Fo=function(){return Fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fo.apply(this,arguments)},Vo=function(e){return i.createElement(eo,null,i.createElement(zr,Fo({},e,{mode:Fn.RIGHT,rotated:!0,verticalButtons:!0})))},Wo=i.memo((function(e){var t=e.icon,n=e.count;return i.createElement("div",{className:"table-info__tenbou"},i.createElement("div",{className:"svg-item"},t),i.createElement("div",{className:"table-info__tenbou-count"},n))}));function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(this,arguments)}const Jo=function(e){return i.createElement("svg",Zo({width:32,height:12,viewBox:"0 0 32 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Co||(Co=i.createElement("circle",{cx:16,cy:6,r:1.5,fill:"currentColor"})),wo||(wo=i.createElement("rect",{x:1.5,y:1.5,width:29,height:9,rx:4.5,stroke:"currentColor"})))};var qo,zo,Xo,Qo,$o,ea,ta,na,ra;function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(this,arguments)}const aa=function(e){return i.createElement("svg",oa({width:32,height:12,viewBox:"0 0 32 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),qo||(qo=i.createElement("rect",{x:1.5,y:1.5,width:29,height:9,rx:4.5,stroke:"currentColor"})),zo||(zo=i.createElement("circle",{cx:10.3,cy:4.5,r:.9,fill:"currentColor"})),Xo||(Xo=i.createElement("circle",{cx:14.1,cy:4.5,r:.9,fill:"currentColor"})),Qo||(Qo=i.createElement("circle",{cx:17.9,cy:4.5,r:.9,fill:"currentColor"})),$o||($o=i.createElement("circle",{cx:21.7,cy:4.5,r:.9,fill:"currentColor"})),ea||(ea=i.createElement("circle",{cx:10.3,cy:7.5,r:.9,fill:"currentColor"})),ta||(ta=i.createElement("circle",{cx:14.1,cy:7.5,r:.9,fill:"currentColor"})),na||(na=i.createElement("circle",{cx:17.9,cy:7.5,r:.9,fill:"currentColor"})),ra||(ra=i.createElement("circle",{cx:21.7,cy:7.5,r:.9,fill:"currentColor"})))};var ia,ca;function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(this,arguments)}const la=function(e){return i.createElement("svg",sa({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ia||(ia=i.createElement("polyline",{points:"23 4 23 10 17 10"})),ca||(ca=i.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})))};var ua,da;function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}const ma=function(e){return i.createElement("svg",pa({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ua||(ua=i.createElement("polyline",{points:"1 4 1 10 7 10"})),da||(da=i.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})))};var ha,fa,ya,ga=i.memo((function(e){var t=(0,i.useContext)(Ze),n=e.showRoundInfo,r=e.showTableNumber,o=e.showRotators,a=e.showTimer,c=e.isAutostartTimer,s=e.gamesLeft,l=e.round,u=e.honbaCount,d=e.riichiCount,p=e.currentTime,m=e.tableNumber,h=e.onTableInfoToggle,f=e.onRotateCcwClick,y=e.onRotateCwClick;return n||r?i.createElement("div",{className:"table-info"},o&&i.createElement(i.Fragment,null,i.createElement("div",{className:"table-info__rotator_ccw",onClick:f},i.createElement(la,null)),i.createElement("div",{className:"table-info__rotator_cw",onClick:y},i.createElement(ma,null))),i.createElement("div",{className:"table-info__info",onClick:h},n&&i.createElement(i.Fragment,null,!!l&&i.createElement("div",{className:"table-info__round"},l),void 0!==d&&i.createElement(Wo,{icon:i.createElement(Jo,null),count:d}),void 0!==u&&i.createElement(Wo,{icon:i.createElement(aa,null),count:u}),a&&i.createElement("div",{className:"table-info__timer"},p),s&&i.createElement("div",{className:"table-info__games-left"},i.createElement("div",{className:"table-info__games-left-count"},t._nt(["%1 deal left","%1 deals left"],s,[s])))),r&&i.createElement(i.Fragment,null,i.createElement("div",{className:"table-info__table-caption"},t._t("Table #%1",[m])),a&&c&&i.createElement(i.Fragment,null,i.createElement("hr",{className:"table-info__autostart-separator"}),i.createElement("div",{className:"table-info__autostart-hint"},t._t("Time before game start:"))),a&&i.createElement("div",{className:"table-info__timer"},p)))):null})),va=n(935),Oa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ia=function(){return Ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ia.apply(this,arguments)},Ea=i.memo((function(e){var t=e.text,n=e.onSelect;return i.createElement("div",{className:"select-modal__item",onClick:function(e){e.stopPropagation(),n()}},t)})),Na=function(e){function t(t){var n=e.call(this,t)||this;return n.element=document.createElement("div"),n}return Oa(t,e),t.prototype.componentDidMount=function(){document.getElementById("screen").appendChild(this.element)},t.prototype.componentWillUnmount=function(){document.getElementById("screen").removeChild(this.element)},t.prototype.render=function(){return i.createElement(i.Fragment,null,va.createPortal(this.renderModal(),this.element))},t.prototype.renderModal=function(){var e=this.props,t=e.items,n=e.onHide;return i.createElement("div",{className:"modal",onClick:n},i.createElement("div",{className:"modal__bg"}),i.createElement("div",{className:"modal__content select-modal"},i.createElement("div",{className:"select-modal__pointer"}),i.createElement("div",{className:"select-modal__items"},t.filter((function(e){return!e.unavailable})).map((function(e,t){return i.createElement(Ea,Ia({key:t},e))})))))},t}(i.Component),Sa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_a=function(){return _a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_a.apply(this,arguments)},Aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sa(t,e),t.prototype.render=function(){var e=this.props,t=e.topPlayer,n=e.leftPlayer,r=e.rightPlayer,o=e.bottomPlayer,a=e.bottomPanel,c=e.outcomeModal,s=e.tableInfo,l=e.arrowsInfo;return i.createElement("div",{className:"flex-container page-table"},i.createElement("div",{className:"flex-container__content flex-container"},i.createElement("div",{className:"flex-container__top"},i.createElement(io,_a({},t))),i.createElement("div",{className:"flex-container__content page-table__center"},i.createElement(no,_a({},n)),!!s&&i.createElement(ga,_a({},s)),!!l&&i.createElement(Yo,_a({},l)),i.createElement(Vo,_a({},r))),i.createElement("div",{className:"flex-container__bottom"},i.createElement(oo,_a({},o)))),i.createElement("div",{className:"flex-container__bottom"},i.createElement(Io,_a({},a))),!!c&&i.createElement(Na,_a({},c)))},t}(i.Component),Ta=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ta(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.state,r=t.dispatch;if(n.loading.events||"overview"===n.currentScreen&&(!n.gameOverviewReady||!n.players||4!==n.players.length)||n.loading.addRound||n.loading.overview)return i.createElement(ht,null);var o=yr(e,n,r),a=gr(e,n,r),c=vr(e,n,r),s=Or(e,n,r),l=function(e,t){var n,r,o,a,i,c,s,l,u;if("confirmation"!==e.currentScreen){var d=!1,p=null!==(r=null===(n=e.currentOtherTable)||void 0===n?void 0:n.tableIndex)&&void 0!==r?r:e.tableIndex,m=!0,h=!1,f=!1,y=void 0,g=void 0;if(e.showAdditionalTableInfo)"currentGame"===e.currentScreen&&(d=!0,m=!1);else if(void 0!==e.timer)if(null===(o=e.timer)||void 0===o?void 0:o.waiting)e.tableIndex&&(d=!0,m=!1),void 0!==(v=hr(e))&&(h=!0,f=!0,y=fr(v.minutes,v.seconds));else if("currentGame"===e.currentScreen||"outcomeSelect"===e.currentScreen){var v;void 0!==(v=mr(e))&&(h=!0,0===v.minutes&&0===v.seconds?g=e.yellowZoneAlreadyPlayed?1:2:y=fr(v.minutes,v.seconds))}return{showRotators:"otherTable"===e.currentScreen,showRoundInfo:m,showTableNumber:d,showTimer:h,isAutostartTimer:f,gamesLeft:g,round:sr(null!==(i=null===(a=e.currentOtherTable)||void 0===a?void 0:a.currentRound)&&void 0!==i?i:e.currentRound),honbaCount:null!==(s=null===(c=e.currentOtherTable)||void 0===c?void 0:c.honba)&&void 0!==s?s:e.honba,riichiCount:null!==(u=null===(l=e.currentOtherTable)||void 0===l?void 0:l.riichiOnTable)&&void 0!==u?u:e.riichiOnTable,currentTime:y,tableNumber:p,onTableInfoToggle:xr(e,t),onRotateCwClick:function(){return t({type:De})},onRotateCcwClick:function(){return t({type:Ke})}}}}(n,r),u=function(e,t,n){if("outcomeSelect"===t.currentScreen){var r=function(e){n({type:Ae,payload:e}),n({type:O})},o=[{text:e._t("Ron"),onSelect:function(){r("ron")}},{text:e._t("Tsumo"),onSelect:function(){r("tsumo")}},{text:e._t("Exhaustive draw"),onSelect:function(){r("draw")}},{text:e._t("Chombo"),onSelect:function(){r("chombo")}}],a=t.gameConfig;return a&&(a.withAbortives&&o.push({text:e._t("Abortive draw"),onSelect:function(){r("abort")},unavailable:!1}),a.withNagashiMangan&&o.push({text:e._t("Nagashi mangan"),onSelect:function(){r("nagashi")},unavailable:!1})),{items:o,onHide:function(){n({type:I})}}}}(e,n,r),d=Sr(e,n,r),p=function(e){var t,n,r,o=e.changesOverview;if("confirmation"===e.currentScreen&&void 0!==o&&!e.loading.overview){var a=[];if(o.paoPlayer)if("tsumo"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome))e.currentOutcome.winner&&(a[e.currentOutcome.winner]=o.paoPlayer);else if("ron"===(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome)){var i=e.currentOutcome.wins;Object.keys(i).forEach((function(e){var t=i[e];t.paoPlayerId&&t.winner&&(a[t.winner]=t.paoPlayerId)}))}var c=_r(e),s=((t={})[zn(e,"confirmation").id]=ar.TOP,t[Xn(e,"confirmation").id]=ar.LEFT,t[qn(e,"confirmation").id]=ar.RIGHT,t[Jn(e,"confirmation").id]=ar.BOTTOM,t),l=[];return c.forEach((function(e){if(e.from&&e.to){var t=s[e.from],n=s[e.to],r=a[e.to]===e.from,o={points:e.directAmount,honbaPoints:e.honbaAmount,withRiichi:0!==e.riichiAmount,withPao:r,start:t,end:n};l.push(o)}})),{arrows:l}}}(n);return i.createElement(Aa,{topPlayer:o,leftPlayer:a,rightPlayer:c,bottomPlayer:s,tableInfo:l,arrowsInfo:p,outcomeModal:u,bottomPanel:d})},t.contextType=Ze,t}(i.Component),Ca=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.onYakuClick=function(e){e.disabled||e.onClick()},t.prototype.render=function(){var e=this,t=this.props.yakuGroups;return i.createElement("div",{className:"select-yaku-panel"},t.map((function(t,n){return i.createElement("div",{key:n,className:"select-yaku-panel__group"},t.map((function(t,n){return i.createElement("div",{key:n,className:We()("select-yaku-panel__button",{"select-yaku-panel__button--pressed":t.pressed},{"select-yaku-panel__button--disabled":t.disabled}),onClick:function(){return e.onYakuClick(t)}},t.name)})))})))},t}(i.Component),ba=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ba(t,e),Object.defineProperty(t.prototype,"items",{get:function(){var e=this.props,t=e.possibleValues,n=e.onChange;return t.map((function(e){return{text:e.toString(),onSelect:function(){return n(e)}}}))},enumerable:!1,configurable:!0}),t.prototype.render=function(){return i.createElement(Na,{items:this.items,onHide:this.props.onHide})},t}(i.Component),ka=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ra=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isModalShown:!1},n}return ka(t,e),t.prototype.onValueClick=function(){0!==this.props.possibleValues.length&&this.setState({isModalShown:!0})},t.prototype.onValueSelect=function(e){var t=this.props.onChange;this.hideModal(),t(e)},t.prototype.hideModal=function(){this.setState({isModalShown:!1})},Object.defineProperty(t.prototype,"canDecrease",{get:function(){var e=this.props;return e.value>e.possibleValues[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canIncrease",{get:function(){var e=this.props,t=e.value,n=e.possibleValues;return t<n[n.length-1]},enumerable:!1,configurable:!0}),t.prototype.decrease=function(){if(this.canDecrease){var e=this.props,t=e.value,n=e.possibleValues,r=e.onChange,o=n.indexOf(t);r(n[o-1])}},t.prototype.increase=function(){if(this.canIncrease){var e=this.props,t=e.value,n=e.possibleValues,r=e.onChange,o=n.indexOf(t);r(n[o+1])}},t.prototype.render=function(){var e=this.context,t=this.props,n=t.value,r=t.possibleValues,o=this.state.isModalShown,a=0!==r.length&&!r.includes(n),c=0===r.length||a?"?":n;return a&&alert(e._t("something goes wrong, please contact your administrator")),i.createElement("div",{className:"number-select"},i.createElement("div",{className:We()("number-select__minus svg-button svg-button--xsmall",{"svg-button--disabled":!this.canDecrease}),onClick:this.decrease.bind(this)},i.createElement("svg",null,i.createElement("path",{d:"M 6 12 H 18",stroke:"currentColor",strokeWidth:2,fill:"none"}))),i.createElement("div",{className:"number-select__value",onClick:this.onValueClick.bind(this)},c),i.createElement("div",{className:We()("number-select__plus svg-button svg-button--xsmall",{"svg-button--disabled":!this.canIncrease}),onClick:this.increase.bind(this)},i.createElement("svg",null,i.createElement("path",{d:"M 6 12 H 18",stroke:"currentColor",strokeWidth:2,fill:"none"}),i.createElement("path",{d:"M 12 6 V 18",stroke:"currentColor",strokeWidth:2,fill:"none"}))),o&&i.createElement(Ha,{onChange:this.onValueSelect.bind(this),possibleValues:r,onHide:this.hideModal.bind(this)}))},t.contextType=Ze,t}(i.Component),Pa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pa(t,e),Object.defineProperty(t.prototype,"hanCount",{get:function(){var e=this.props,t=e.yakuHan,n=e.doraCount,r=e.uraDoraCount,o=void 0===r?0:r,a=e.redFivesCount;return t+n+o+(void 0===a?0:a)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.context,t=this.props,n=t.isYakuman,r=t.yakuHan,o=t.doraCount,a=t.doraValues,c=t.onDoraSelected,s=t.withUraDora,l=t.uraDoraCount,u=t.uraDoraValues,d=t.onUraDoraSelected,p=t.withRedFives,m=t.redFivesCount,h=t.redFivesValues,f=t.onRedFivesSelected,y=t.fuCount,g=t.fuValues,v=t.onFuSelected,O=y?e._t("%1 han %2 fu",[this.hanCount,y]):e._t("%1 han",[this.hanCount]);return i.createElement("div",{className:"select-total-panel"},!n&&i.createElement(i.Fragment,null,i.createElement("div",{className:"select-total-panel__top-group"},e._t("Han from yaku")," ",i.createElement("span",null,r)),i.createElement("div",{className:"select-total-panel__max"},i.createElement("div",{className:"select-total-panel__select-group"},i.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Dora")),i.createElement(Ra,{value:o,possibleValues:a,onChange:c})),s&&void 0!==l&&void 0!==u&&i.createElement("div",{className:"select-total-panel__select-group"},i.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Ura dora")),i.createElement(Ra,{value:l,possibleValues:u,onChange:d})),p&&void 0!==m&&void 0!==h&&i.createElement("div",{className:"select-total-panel__select-group"},i.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Red fives")),i.createElement(Ra,{value:m,possibleValues:h,onChange:f})),i.createElement("div",{className:"select-total-panel__select-group"},i.createElement("div",{className:"select-total-panel__select-group-caption"},e._t("Fu")),i.createElement(Ra,{value:y,possibleValues:g,onChange:v}))),i.createElement("div",{className:"select-total-panel__bottom-group"},O)),n&&i.createElement("div",{className:"select-total-panel__center"},e._t("Yakuman")))},t.contextType=Ze,t}(i.Component),Ka=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ka(t,e),t.prototype.render=function(){var e=this.props.items;return i.createElement("div",{className:"tab-panel"},i.createElement("div",{className:"tab-panel__items"},e.map((function(e,t){return i.createElement("div",{key:t,className:We()("tab-panel__item",{"tab-panel__item--active":e.isActive}),onClick:e.onClick},e.caption)}))))},t}(i.Component);function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}!function(e){e[e.UNAVAILABLE=0]="UNAVAILABLE",e[e.AVAILABLE=1]="AVAILABLE",e[e.DISABLED=2]="DISABLED"}(ha||(ha={})),function(e){e.YAKU="Yaku",e.TOTAL="Total"}(fa||(fa={}));const ja=function(e){return i.createElement("svg",xa({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),ya||(ya=i.createElement("polyline",{points:"15 18 9 12 15 6"})))};var Ga;function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(this,arguments)}const Ba=function(e){return i.createElement("svg",Ma({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),Ga||(Ga=i.createElement("polyline",{points:"9 18 15 12 9 6"})))};var Ya=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fa=function(e,t){return[{caption:fa.YAKU,isActive:e===fa.YAKU,onClick:function(){return t(fa.YAKU)}},{caption:fa.TOTAL,isActive:e===fa.TOTAL,onClick:function(){return t(fa.TOTAL)}}]},Va=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ya(t,e),t.prototype.onLeftArrowClick=function(){var e=this.props,t=e.leftArrowState,n=e.leftArrowClick;t!==ha.DISABLED&&n()},t.prototype.onRightArrowClick=function(){var e=this.props,t=e.rightArrowState,n=e.rightArrowClick;t!==ha.DISABLED&&n()},t.prototype.render=function(){var e=this.props,t=e.playerName,n=e.yakuGroups,r=e.bottomPanelText,o=e.leftArrowState,a=e.rightArrowState,c=e.activeTab,s=e.onTabClick,l=e.onBackClick,u=e.canGoNext,d=e.onNextClick,p=e.isYakuman,m=e.yakuHan,h=e.doraCount,f=e.doraValues,y=e.onDoraSelected,g=e.withUraDora,v=e.uraDoraCount,O=e.uraDoraValues,I=e.onUraDoraSelected,E=e.withRedFives,N=e.redFivesCount,S=e.redFivesValues,_=e.onRedFivesSelected,A=e.fuCount,T=e.fuValues,U=e.onFuSelected;return i.createElement("div",{className:"flex-container page-select-hand"},i.createElement("div",{className:"page-select-hand__top-panel top-panel top-panel--between"},i.createElement("div",{className:"page-select-hand__top-panel-arrow"},o!==ha.UNAVAILABLE&&i.createElement("div",{className:We()("svg-button svg-button--xsmall",{"svg-button--disabled":o===ha.DISABLED}),onClick:this.onLeftArrowClick.bind(this)},i.createElement(ja,null))),i.createElement("div",{className:"page-select-hand__player-name"},t),i.createElement("div",{className:"page-select-hand__top-panel-arrow"},a!==ha.UNAVAILABLE&&i.createElement("div",{className:We()("svg-button svg-button--xsmall",{"svg-button--disabled":a===ha.DISABLED}),onClick:this.onRightArrowClick.bind(this)},i.createElement(Ba,null)))),i.createElement(Da,{items:Fa(c,s)}),c===fa.YAKU&&i.createElement(wa,{yakuGroups:n}),c===fa.TOTAL&&i.createElement(La,{isYakuman:p,yakuHan:m,doraCount:h,doraValues:f,onDoraSelected:y,withUraDora:g,uraDoraCount:v,uraDoraValues:O,onUraDoraSelected:I,withRedFives:E,redFivesCount:N,redFivesValues:S,onRedFivesSelected:_,fuCount:A,fuValues:T,onFuSelected:U}),i.createElement("div",{className:"flex-container__bottom"},i.createElement(Io,{text:r,showBack:!0,showNext:!0,isNextDisabled:!u,onBackClick:l,onNextClick:d})))},t}(i.Component);function Wa(e,t){return e.map((function(e){return e.filter((function(e){return e.id===hn.__OPENHAND||t.includes(e.id)}))})).filter((function(e){return e.length>0}))}var Za=[gn.filter((function(e){return[hn.__OPENHAND].includes(e.id)})),gn.filter((function(e){return[hn.RIICHI,hn.IPPATSU,hn.MENZENTSUMO].includes(e.id)})),gn.filter((function(e){return[hn.PINFU,hn.TANYAO].includes(e.id)})),gn.filter((function(e){return[hn.YAKUHAI1,hn.YAKUHAI2,hn.YAKUHAI3].includes(e.id)})),gn.filter((function(e){return[hn.ITTSU,hn.HONITSU,hn.CHINITSU].includes(e.id)})),gn.filter((function(e){return[hn.TOITOI,hn.CHIITOITSU].includes(e.id)})),gn.filter((function(e){return[hn.CHANTA,hn.JUNCHAN].includes(e.id)})),gn.filter((function(e){return[hn.SANSHOKUDOUJUN,hn.IIPEIKOU].includes(e.id)}))],Ja=[gn.filter((function(e){return[hn.DOUBLERIICHI,hn.OPENRIICHI].includes(e.id)})),gn.filter((function(e){return[hn.HONROTO,hn.SHOSANGEN,hn.YAKUHAI4].includes(e.id)})),gn.filter((function(e){return[hn.SANANKOU,hn.SANSHOKUDOUKOU,hn.SANKANTSU].includes(e.id)})),gn.filter((function(e){return[hn.RYANPEIKOU].includes(e.id)})),gn.filter((function(e){return[hn.HAITEI,hn.HOUTEI,hn.RINSHANKAIHOU].includes(e.id)})),gn.filter((function(e){return[hn.CHANKAN,hn.RENHOU].includes(e.id)}))],qa=[gn.filter((function(e){return[hn.TENHOU,hn.CHIHOU].includes(e.id)})),gn.filter((function(e){return[hn.DAISANGEN,hn.DAISUUSHII,hn.SHOSUUSHII].includes(e.id)})),gn.filter((function(e){return[hn.SUUANKOU,hn.SUUKANTSU].includes(e.id)})),gn.filter((function(e){return[hn.CHINROTO,hn.TSUUIISOU,hn.KOKUSHIMUSOU].includes(e.id)})),gn.filter((function(e){return[hn.RYUUIISOU,hn.CHUURENPOUTO].includes(e.id)}))];var za=sn((function(e){if(!e.gameConfig)return{};for(var t={},n=0,r=Ln(e);n<r.length;n++){var o=r[n],a=Wa(Za,e.gameConfig.allowedYaku),i=Wa(Ja,e.gameConfig.allowedYaku),c=Wa(qa,e.gameConfig.allowedYaku);t[o.id]=a.concat(i).concat(c)}return t}));var Xa,Qa,$a,ei,ti=sn((function(e){var t=za(e),n=function(e){var t,n=e.currentOutcome;switch(null===n||void 0===n?void 0:n.selectedOutcome){case"tsumo":return t=Rn(n.yaku),er(e,n.winner,t,Hn(e.yakuList,t),[hn.HOUTEI,hn.CHANKAN,hn.RENHOU]);case"ron":if(!e.multironCurrentWinner)throw new Error("No winner selected");return t=Rn(n.wins[e.multironCurrentWinner].yaku),er(e,e.multironCurrentWinner,t,Hn(e.yakuList,t),[hn.MENZENTSUMO,hn.HAITEI,hn.TENHOU,hn.CHIHOU]);default:return[]}}(e);return Ln(e).reduce((function(r,o){r[o.id]={};for(var a=0,i=t[o.id];a<i.length;a++)for(var c=0,s=i[a];c<s.length;c++){var l=s[c];n.includes(l.id)||Gn(e,l.id)||(r[o.id][l.id]=!0)}return r}),{})})),ni=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ni(t,e),t.prototype.onTabClick=function(e){var t=this.props,n=t.state,r=t.dispatch;"yaku"===n.currentSelectHandTab&&e===fa.TOTAL?r({type:Ye,payload:"total"}):"total"===n.currentSelectHandTab&&e===fa.YAKU&&r({type:Ye,payload:"yaku"})},t.prototype.onYakuClick=function(e){var t=this.props,n=t.state,r=t.dispatch;Gn(n,e)?r({type:A,payload:{id:e,winner:n.multironCurrentWinner}}):r({type:S,payload:{id:e,winner:n.multironCurrentWinner}})},t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:I})},t.prototype.onNextClick=function(){(0,this.props.dispatch)({type:O})},t.prototype.onDoraSelected=function(e){var t=this.props,n=t.state;(0,t.dispatch)({type:E,payload:{count:e,winner:n.multironCurrentWinner}})},t.prototype.onUraDoraSelected=function(e){},t.prototype.onRedFivesSelected=function(e){},t.prototype.onFuSelected=function(e){var t=this.props,n=t.state;(0,t.dispatch)({type:N,payload:{count:e,winner:n.multironCurrentWinner}})},t.prototype.onLeftArrowClick=function(){this.goToMultironUser(-1)},t.prototype.onRightArrowClick=function(){this.goToMultironUser(1)},t.prototype.goToMultironUser=function(e){var t=this.props,n=t.state,r=t.dispatch,o=n.multironCurrentWinner;if(o){var a=Ln(n),i=a.findIndex((function(e){return e.id===o}));if(-1!==i){var c=a[i+e].id;r({type:Te,payload:{winner:c}}),r({type:Ye,payload:"yaku"})}}},t.prototype.render=function(){var e=this,t=this.context,n=this.props.state;if(!n.currentOutcome||"ron"!==n.currentOutcome.selectedOutcome&&"tsumo"!==n.currentOutcome.selectedOutcome)return null;var r=n.multironCurrentWinner;if(!r)return null;var o=Ln(n),a=o.find((function(e){return e.id===r})),c=void 0!==a?a.displayName:"",s=Nr(t,n.currentOutcome.selectedOutcome),l=!!function(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":return 0!=nr(e);case"ron":var n=e.currentOutcome;return Ln(e).reduce((function(e,t){return e&&0!=n.wins[t.id].han}),!0);default:return}}(n),u=ha.UNAVAILABLE,d=ha.UNAVAILABLE;o.length>1&&(u=o[0].id===r?ha.DISABLED:ha.AVAILABLE,d=o[o.length-1].id===r?ha.DISABLED:ha.AVAILABLE);var p="total"===n.currentSelectHandTab?fa.TOTAL:fa.YAKU,m=$n(n),h=ti(n)[r],f=za(n)[r],y=[];f.forEach((function(n){var r=[];n.forEach((function(n){var o={name:n.name(t),onClick:function(){return e.onYakuClick(n.id)},disabled:h[n.id],pressed:m.includes(n.id)};r.push(o)})),y.push(r)}));var g=nr(n,r),v=g<0,O=ir(n,r),I=cr(n),E=rr(n,r),N=g>0&&O+g<=4?or(n):[];return i.createElement(Va,{playerName:c,yakuGroups:y,bottomPanelText:s,leftArrowState:u,leftArrowClick:this.onLeftArrowClick.bind(this),rightArrowState:d,rightArrowClick:this.onRightArrowClick.bind(this),activeTab:p,onTabClick:this.onTabClick.bind(this),canGoNext:l,onNextClick:this.onNextClick.bind(this),onBackClick:this.onBackClick.bind(this),isYakuman:v,yakuHan:g,doraCount:O,doraValues:I,onDoraSelected:this.onDoraSelected.bind(this),withUraDora:!1,uraDoraCount:undefined,uraDoraValues:undefined,onUraDoraSelected:this.onUraDoraSelected.bind(this),withRedFives:!1,redFivesCount:undefined,redFivesValues:undefined,onRedFivesSelected:this.onRedFivesSelected.bind(this),fuCount:E,fuValues:N,onFuSelected:this.onFuSelected.bind(this)})},t.contextType=Ze,t}(i.Component);function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}const ai=function(e){return i.createElement("svg",oi({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},e),Xa||(Xa=i.createElement("polyline",{points:"17 1 21 5 17 9"})),Qa||(Qa=i.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"})),$a||($a=i.createElement("polyline",{points:"7 23 3 19 7 15"})),ei||(ei=i.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})))};var ii=i.memo((function(e){var t=e.players,n=e.showRepeatButton,r=e.onCheckClick,o=e.onRepeatClick,a=(0,i.useContext)(Ze);return i.createElement("div",{className:"page-game-result"},t.length>0&&i.createElement(i.Fragment,null,i.createElement("div",{className:"page-game-result__players"},t.map((function(e,t){return i.createElement("div",{key:t,className:"player-result"},i.createElement("div",{className:"player-result__name"},e.name),i.createElement("div",{className:"player-result__score-container"},i.createElement("div",{className:"player-result__score"},e.score),i.createElement("div",{className:We()("player-result__delta",{"player-result__delta--danger":e.delta<0},{"player-result__delta--success":e.delta>0})},e.delta<=0?e.delta:"+".concat(e.delta))))}))),i.createElement("div",{className:"page-game-result__buttons"},n&&i.createElement(i.Fragment,null,i.createElement("div",{className:"flat-btn flat-btn--medium",onClick:o},i.createElement(ai,null)),i.createElement("div",{className:"flat-btn flat-btn--medium",onClick:r},i.createElement($t,null))),!n&&i.createElement("div",{className:"flat-btn flat-btn--large",onClick:r},i.createElement($t,null)))),0===t.length&&i.createElement(i.Fragment,null,i.createElement("div",{className:"page-game-result__no-games"},a._t("No games found")),i.createElement("div",{className:"page-game-result__buttons"},i.createElement("div",{className:"flat-btn flat-btn--large",onClick:r},i.createElement($t,null)))))})),ci=function(e){var t=e.state,n=e.dispatch;if("lastResults"!==t.currentScreen||gt(t)||!t.gameConfig)return i.createElement(ht,null);var r=[];t.lastResults&&(r=t.lastResults.map((function(e){return{name:e.displayName,score:e.score,delta:e.ratingDelta}})));var o=!t.gameConfig.autoSeating&&!t.isUniversalWatcher&&!t.currentSessionHash&&!t.gameConfig.isPrescripted,a=(0,i.useCallback)((function(){n({type:O})}),[n]),c=(0,i.useCallback)((function(){var e;t.lastResults&&(e=t.lastResults.map((function(e){return e.id}))),n({type:d,payload:e})}),[t.lastResults,n]);return i.createElement(ii,{players:r,showRepeatButton:o,onCheckClick:a,onRepeatClick:c})},si=function(e){var t=e.onSubmit,n=e.signupLink,r=e.recoveryLink,o=(0,i.useContext)(Ze),a=(0,i.useState)(""),c=a[0],s=a[1],l=(0,i.useState)(""),u=l[0],d=l[1];return i.createElement("div",{className:"page-enter-credentials"},i.createElement("div",{className:"page-enter-credentials__title"},o._t("Pantheon: log in")),i.createElement("div",{className:"page-enter-credentials__form"},i.createElement("input",{className:"page-enter-credentials__input",type:"text",onChange:function(e){return s(e.currentTarget.value)}}),i.createElement("label",null,o._t("Email")),i.createElement("input",{className:"page-enter-credentials__input",type:"password",onChange:function(e){return d(e.currentTarget.value)}}),i.createElement("label",null,o._t("Password"))),i.createElement("div",{className:"page-enter-credentials__button-container"},i.createElement("button",{className:"flat-btn flat-btn--large",style:{justifySelf:"end",width:"100%"},onClick:function(){return t(c,u)}},o._t("Log in"))),i.createElement("div",{className:"page-enter-credentials__links-container"},i.createElement("a",{className:"flat-btn flat-btn--large",href:n,target:"_blank",style:{width:"100%"}},o._t("Sign up")),i.createElement("a",{className:"flat-btn flat-btn--large",href:r,target:"_blank",style:{width:"100%"}},o._t("Forgot password?"))))},li=function(e){var t=e.dispatch,n=(0,i.useCallback)((function(e,n){e.length>0&&n.length>0&&t({type:k,payload:{email:e,password:n}})}),[t]);return i.createElement(si,{onSubmit:n,signupLink:Gt.guiUrl+"signup",recoveryLink:Gt.guiUrl+"passwordRecovery"})},ui=function(e){var t=e.onOkClick,n=e.recoveryLink,r=(0,i.useContext)(Ze),o="<a href=".concat(Gt.guiUrl+"signup"," target='_blank'>").concat(r._pt("Name of registration link","register"),"</a>");return i.createElement("div",{className:"page-login-error"},i.createElement("div",{className:"page-login-error__title"},r._t("Pantheon")),i.createElement("div",{className:"page-login-error__message"},i.createElement("div",null,r._t("Login attempt has failed. Possible reasons are:")),i.createElement("ul",null,i.createElement("li",{dangerouslySetInnerHTML:{__html:r._t("E-mail is not registered in Pantheon database (%1)",[o])}}),i.createElement("li",null,r._t("Password check has failed")," -"," ",i.createElement("a",{href:n,target:"_blank"},r._t("Forgot password?"))),i.createElement("li",null,r._t("Unexpected server error"))),i.createElement("div",null,r._t("If in doubt, contact the tournament administrator for further instructions."))),i.createElement("div",{className:"page-login-error__button-container"},i.createElement("div",{className:"flat-btn flat-btn--large",onClick:t},r._t("OK"))))},di=function(e){var t=e.dispatch,n=(0,i.useCallback)((function(){t({type:L})}),[t]);return i.createElement(ui,{onOkClick:n,recoveryLink:Gt.guiUrl+"passwordRecovery"})},pi=function(){return pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pi.apply(this,arguments)},mi=function(e){var t=e.state;return t.loading.login?i.createElement(ht,null):t.loginError?i.createElement(di,pi({},e)):i.createElement(li,pi({},e))},hi=function(e){var t=e.delta,n=e.score;return i.createElement("div",{className:"page-log__cell"},i.createElement("div",{className:We()("page-log__delta",{"page-log__delta--success":t>0},{"page-log__delta--danger":t<0})},t>0?"+".concat(t):t),i.createElement("div",{className:"page-log__score"},n))},fi=function(e){var t=e.players,n=e.index,r=e.selectRound,o=e.round,a=e.scoresDelta,c=e.scores,s=e.children,l=(0,i.useCallback)((function(){r(n)}),[n,r]);return i.createElement("div",{className:"page-log__row-container",onClick:l},i.createElement("div",{className:"page-log__row"},i.createElement("div",{className:"page-log__cell page-log__cell--first"},o),Object.keys(t).map((function(e){return i.createElement(hi,{key:e,delta:a[e],score:c[e]})}))),s)},yi=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function gi(e,t,n){if(t<0)return e._t("yakuman");var r=e._t("%1 han",[t]);return t<5&&n?e._t("%1 han %2 fu",[t,n]):r}function vi(e,t){return e._t("Pao from: %1",[t])}function Oi(e,t){return e._t("Honba: %1",[t])}function Ii(e,t){return e._t("Tempai: %1",[t.join(", ")])}function Ei(e,t,n){var r;return t.length?(r=t.join(", "),n&&(r+=" + ".concat(n))):r=n.toString(),e._t("Riichi bets: %1",[r])}function Ni(e,t,n){var r=e._t("dora %1",[n]),o=yi(yi([],t,!0),[n?r:null],!1).filter((function(e){return!!e})).join(", ");return"".concat(o)}function Si(e,t){switch(e.outcome){case"ron":return function(e,t){var n=e.winner,r=e.loser,o=e.paoPlayer,a=e.han,i=e.fu,c=e.dora,s=e.yakuList,l=e.riichiPlayers,u=e.riichiOnTable,d=e.honbaOnTable,p=[];return p.push(t._t("Ron, %1",[gi(t,a,i)])),p.push(t._t("%1 \u2190 %2",[n,r])),p.push(Ni(t,s,c)),o&&p.push(vi(t,o)),p.push(""),p.push(Ei(t,l,u)),p.push(Oi(t,d)),p}(e,t);case"multiron":return function(e,t){var n=e.loser,r=e.winnerList,o=e.hanList,a=e.fuList,i=e.doraList,c=e.yakuList,s=e.paoPlayerList,l=e.riichiPlayers,u=e.riichiOnTable,d=e.honbaOnTable,p=[];return p.push(t._t("Multiron, from %1",[n])),p.push(""),r.forEach((function(e,n){var r=o[n],l=a[n],u=i[n],d=c[n],m=s[n];p.push(gi(t,r,l)),p.push(e),p.push(Ni(t,d,u)),m&&p.push(vi(t,m)),p.push("")})),p.push(Ei(t,l,u)),p.push(Oi(t,d)),p}(e,t);case"tsumo":return function(e,t){var n=e.winner,r=e.paoPlayer,o=e.han,a=e.fu,i=e.dora,c=e.yakuList,s=e.riichiPlayers,l=e.riichiOnTable,u=e.honbaOnTable,d=[];return d.push(t._t("Tsumo, %1",[gi(t,o,a)])),d.push(n),d.push(Ni(t,c,i)),r&&d.push(vi(t,r)),d.push(""),d.push(Ei(t,s,l)),d.push(Oi(t,u)),d}(e,t);case"draw":return function(e,t){var n=e.tempai,r=e.riichiPlayers,o=e.riichiOnTable,a=e.honbaOnTable,i=[];return i.push(t._t("Exhaustive draw")),i.push(Ii(t,n)),i.push(""),i.push(Ei(t,r,o)),i.push(Oi(t,a)),i}(e,t);case"abort":return function(e,t){var n=e.riichiPlayers,r=e.riichiOnTable,o=e.honbaOnTable,a=[];return a.push(t._t("Abortive draw")),a.push(""),a.push(Ei(t,n,r)),a.push(Oi(t,o)),a}(e,t);case"chombo":return function(e,t){var n=e.penaltyFor,r=e.riichiPlayers,o=e.riichiOnTable,a=e.honbaOnTable,i=[];return i.push(t._t("Chombo")),i.push(n),i.push(""),i.push(Ei(t,r,o)),i.push(Oi(t,a)),i}(e,t);case"nagashi":return function(e,t){var n=e.nagashi,r=e.tempai,o=e.riichiPlayers,a=e.riichiOnTable,i=e.honbaOnTable,c=[];return c.push(t._t("Nagashi mangan")),c.push(n.join(", ")),c.push(Ii(t,r)),c.push(""),c.push(Ei(t,o,a)),c.push(Oi(t,i)),c}(e,t)}}var _i=function(e){var t=Si(e,(0,i.useContext)(Ze)),n=t.length;return i.createElement("div",{className:"page-log__info"},t.map((function(e,t){return i.createElement(i.Fragment,{key:t},e,t!==n-1&&i.createElement("br",null))})))},Ai=function(){return Ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ai.apply(this,arguments)},Ti=function(e){var t=(0,i.useContext)(Ze),n=e.players,r=e.results,o=e.rounds,a=e.onBackClick,c=(0,i.useState)(void 0),s=c[0],l=c[1],u=(0,i.useCallback)((function(e){l(s===e?void 0:e)}),[s,l]);return i.createElement("div",{className:"flex-container page-log"},!r.length&&i.createElement("div",{className:"flex-container__content page-log__no-results"},t._t("No results found")),!!r.length&&i.createElement(i.Fragment,null,i.createElement("div",{className:"flex-container__top page-log__names"},i.createElement("div",{className:"page-log__row"},i.createElement("div",{className:"page-log__cell page-log__cell--first"}),Object.keys(n).map((function(e){return i.createElement("div",{key:e,className:"page-log__cell"},n[e])})))),i.createElement("div",{className:"flex-container__content page-log__rounds"},r.map((function(e,t){return i.createElement(fi,{key:t,players:n,index:t,scoresDelta:e.scoresDelta,scores:e.scores,round:e.round,selectRound:u},s===t&&i.createElement(_i,Ai({},o[t])))})))),i.createElement("div",{className:"flex-container__bottom"},i.createElement(Io,{text:t._t("Game log"),showBack:!0,onBackClick:a})))},Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ui.apply(this,arguments)};function Ci(e,t){return e.split(",").map((function(e){return parseInt(e,10)})).map((function(e){return vn[e].name(t)}))}function wi(e,t){return{riichiOnTable:e.riichi,honbaOnTable:e.honba,riichiPlayers:e.riichiIds.map((function(e){return t[e]}))}}function bi(e,t,n){switch(e.outcome){case"ron":return function(e,t,n){var r,o,a=wi(e,t);return Ui(Ui({},a),{outcome:e.outcome,riichiPlayers:e.riichiIds.map((function(e){return t[e]})),loser:t[e.loser],winner:t[e.winner],paoPlayer:null!==e.paoPlayer?t[e.paoPlayer]:void 0,yakuList:Ci(e.yaku,n),han:e.han,fu:null!==(r=e.fu)&&void 0!==r?r:void 0,dora:null!==(o=e.dora)&&void 0!==o?o:void 0})}(e,t,n);case"multiron":return function(e,t,n){var r=wi(e,t);return Ui(Ui({},r),{outcome:e.outcome,loser:t[e.loser],winnerList:e.winner.map((function(e){return t[e]})),paoPlayerList:e.paoPlayer.map((function(e){return null!==e?t[e]:void 0})),yakuList:e.yaku.map((function(e){return Ci(e,n)})),hanList:e.han,fuList:e.fu.map((function(e){return null!==e&&void 0!==e?e:void 0})),doraList:e.dora.map((function(e){return null!==e&&void 0!==e?e:void 0}))})}(e,t,n);case"tsumo":return function(e,t,n){var r,o,a=wi(e,t);return Ui(Ui({},a),{outcome:e.outcome,riichiPlayers:e.riichiIds.map((function(e){return t[e]})),winner:t[e.winner],paoPlayer:null!==e.paoPlayer?t[e.paoPlayer]:void 0,yakuList:Ci(e.yaku,n),han:e.han,fu:null!==(r=e.fu)&&void 0!==r?r:void 0,dora:null!==(o=e.dora)&&void 0!==o?o:void 0})}(e,t,n);case"draw":return function(e,t){var n=wi(e,t);return Ui(Ui({},n),{outcome:e.outcome,tempai:e.tempai.map((function(e){return t[e]}))})}(e,t);case"abort":return function(e,t){var n=wi(e,t);return Ui(Ui({},n),{outcome:e.outcome})}(e,t);case"chombo":return function(e,t){var n=wi(e,t);return Ui(Ui({},n),{outcome:e.outcome,penaltyFor:t[e.penaltyFor]})}(e,t);case"nagashi":return function(e,t){var n=wi(e,t);return Ui(Ui({},n),{outcome:e.outcome,tempai:e.tempai.map((function(e){return t[e]})),nagashi:e.nagashi.map((function(e){return t[e]}))})}(e,t)}}var Hi=function(e){var t=e.state,n=e.dispatch,r=(0,i.useContext)(Ze),o=(0,i.useCallback)((function(){n({type:I})}),[n]);if(t.loading.overview)return i.createElement(ht,null);var a={},c=[],s=[],l=t.currentOtherTable?t.currentOtherTablePlayers:t.players;return!t.allRoundsOverviewErrorCode&&t.allRoundsOverview&&l&&(l.forEach((function(e){a[e.id.toString()]=e.displayName})),t.allRoundsOverview.forEach((function(e){c.push({round:sr(e.round),scores:e.scores,scoresDelta:e.scoresDelta}),s.push(bi(e,a,r))}))),i.createElement(Ti,{players:a,results:c,onBackClick:o,rounds:s})};const ki=n.p+"d264d6b14e9cdc54c38e.jpg";var Ri=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ri(t,e),t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:I})},t.prototype.render=function(){return i.createElement("div",{className:"flex-container page-donate"},i.createElement("div",{className:"flex-container__content"},i.createElement(bt,{onBackClick:this.onBackClick.bind(this)}),i.createElement("div",{className:"page-donate__meme"},i.createElement("img",{src:ki,alt:""})),i.createElement("div",{className:"page-donate__disclaimer"},"\u041f\u0430\u043d\u0442\u0435\u043e\u043d \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0430 \u0433\u043e\u043b\u043e\u043c \u044d\u043d\u0442\u0443\u0437\u0438\u0430\u0437\u043c\u0435, \u043d\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043e\u0442\u043a\u0430\u0436\u0443\u0442\u0441\u044f \u043e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 :)"),i.createElement("div",{className:"page-donate__button"},i.createElement("a",{className:"flat-btn flat-btn--large",style:{width:"100%"},href:"https://pay.cloudtips.ru/p/c9fd6eee",target:"_blank"},"\u0412\u043d\u0435\u0441\u0442\u0438 \u0441\u0432\u043e\u044e \u043a\u043e\u043f\u0435\u0435\u0447\u043a\u0443"))))},t}(i.PureComponent),Li=i.memo((function(e){var t=(0,i.useContext)(Ze),n=e.playerName,r=e.events,o=e.onBackClick,a=e.onSettingClick,c=e.onSelectEvent,s=e.currentEvent;return i.createElement("div",{className:"flex-container page-event-select"},i.createElement("div",{className:"flex-container__content"},i.createElement("div",{className:"top-panel top-panel--between"},r.length>0?i.createElement("div",{className:"svg-button",onClick:o},i.createElement(wt,null)):null,i.createElement("div",{className:"svg-button svg-button--small",onClick:a},i.createElement($e,null))),i.createElement("div",{className:"page-event-select__name"},n),i.createElement("div",{className:"page-event-select__section"},r.length>0?i.createElement(i.Fragment,null,i.createElement("div",{className:"page-event-select__section-title"},t._t("Select event")),i.createElement("div",{className:"page-event-select__section-content"},r.map((function(e){return i.createElement("div",{key:e.id,className:We()("radio-menuitem",{"radio-menuitem--active":e.id===s}),onClick:function(){return c(e.id)}},e.title)})))):i.createElement("div",{style:{textAlign:"center"}},t._t("There is no events you participate in right now")))))})),Ki=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ki(t,e),t.prototype.onBackClick=function(){(0,this.props.dispatch)({type:I})},t.prototype.onSettingsClick=function(){(0,this.props.dispatch)({type:v})},t.prototype.onSelectEvent=function(e){(0,this.props.dispatch)({type:_e,payload:e})},t.prototype.componentDidMount=function(){(0,this.props.dispatch)({type:Ee})},t.prototype.render=function(){var e,t=this.props.state,n=this.context,r=null!==(e=t.currentPlayerDisplayName)&&void 0!==e?e:n._t("name");return t.loading.events?i.createElement(ht,null):i.createElement(Li,{playerName:r,events:t.eventsList,currentEvent:t.currentEventId,onBackClick:this.onBackClick.bind(this),onSettingClick:this.onSettingsClick.bind(this),onSelectEvent:this.onSelectEvent.bind(this)})},t.contextType=Ze,t}(i.PureComponent),xi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji={1:"\u67711",2:"\u67712",3:"\u67713",4:"\u67714",5:"\u53571",6:"\u53572",7:"\u53573",8:"\u53574",9:"\u897f1",10:"\u897f2",11:"\u897f3",12:"\u897f4"},Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xi(t,e),t.prototype.render=function(){var e=this.props,t=e.onTableClick,n=e.onBackClick;return i.createElement("div",{className:"page-other-tables-list"},i.createElement(bt,{onBackClick:n}),i.createElement("div",{className:"page-other-tables-list__content"},this.props.tables.map((function(e){return i.createElement("div",{key:e.hash,className:"page-other-tables-list__table",onClick:function(){return t(e.hash)}},ji[e.currentRound],e.players.map((function(e){return i.createElement("div",{key:e.id},e.displayName,": ",e.score)})))}))))},t}(i.PureComponent),Mi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mi(t,e),t.prototype.onBackClick=function(){this.props.dispatch({type:I})},t.prototype.onTableClick=function(e){this.props.dispatch({type:X,payload:e})},t.prototype.render=function(){var e=this.props.state;return e.otherTablesListError?i.createElement("div",null,e.otherTablesListError.message):i.createElement(Gi,{tables:e.otherTablesList,onTableClick:this.onTableClick.bind(this),onBackClick:this.onBackClick.bind(this)})},t}(i.Component),Yi=function(){return Yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yi.apply(this,arguments)},Fi=function(e){switch(e.state.currentScreen){case"login":return i.createElement(mi,Yi({},e));case"eventSelector":return i.createElement(Di,Yi({},e));case"overview":return i.createElement(Ot,Yi({},e));case"settings":return i.createElement(Wt,Yi({},e));case"newGame":return i.createElement(nn,Yi({},e));case"searchPlayer":return i.createElement(mn,Yi({},e));case"currentGame":case"outcomeSelect":case"playersSelect":case"confirmation":case"nagashiSelect":case"paoSelect":case"otherTable":return i.createElement(Ua,Yi({},e));case"handSelect":return i.createElement(ri,Yi({},e));case"lastResults":return i.createElement(ci,Yi({},e));case"gameLog":return i.createElement(Hi,Yi({},e));case"otherTablesList":return i.createElement(Bi,Yi({},e));case"donate":return i.createElement(Pi,Yi({},e))}return null},Vi=function(e){var t,n=e.state,r=e.dispatch,o=e.storage,a=e.i18nService,c=null!==(t=n.settings.currentTheme)&&void 0!==t?t:"day";(0,i.useEffect)((function(){r({type:s}),a.init((function(e){r({type:je,payload:e})}),(function(e){return console.error(e)})),r({type:Fe});var e=o.get(Gt.idbEventKey,"int");e&&r({type:_e,payload:e}),r({type:u,payload:{token:o.get(Gt.idbTokenKey,"string")||"",personId:o.get(Gt.idbIdKey,"int")}})}),[]);var l=new Date,d=11===l.getMonth()&&l.getDate()>20||0===l.getMonth()&&l.getDate()<10;return i.createElement("div",{id:"screen",className:"App theme-".concat(c).concat(d?" newyear":"")},i.createElement(Ze.Provider,{value:a},i.createElement(Fi,{state:n,dispatch:r})))},Wi=n(173),Zi=function(){return Zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zi.apply(this,arguments)};function Ji(e,t){var n,r,o,a,i;switch(t.type){case l:return Zi(Zi({},e),{currentScreen:"otherTable"===e.currentScreen||"otherTablesList"===e.currentScreen?e.currentScreen:"overview",currentRound:1,currentOutcome:void 0,players:void 0,mapIdToPlayer:{},riichiOnTable:0,honba:0,currentSessionHash:"",multironCurrentWinner:void 0,gameOverviewReady:!0});case d:return Zi(Zi({},e),{currentScreen:"newGame",newGameIdsToSet:t.payload});case h:return Zi(Zi({},e),{currentScreen:"eventSelector"});case p:return Zi(Zi({},e),{currentScreen:"currentGame"});case m:return Zi(Zi({},e),{currentScreen:"donate"});case f:return Zi(Zi({},e),{currentScreen:"searchPlayer",newGameSelectedPlayerSide:t.payload});case y:return Zi(Zi({},e),{currentScreen:"lastResults"});case g:return Zi(Zi({},e),{currentScreen:"gameLog"});case"SHOW_OTHER_TABLE":return Zi(Zi({},e),{currentScreen:"otherTable",currentOtherTableHash:t.payload.hash});case"SHOW_OTHER_TABLES_LIST":return Zi(Zi({},e),{currentScreen:"otherTablesList"});case v:return Zi(Zi({},e),{currentScreen:"settings"});case O:if(!e.gameConfig)return e;var c=e.currentScreen;switch(e.currentScreen){case"currentGame":case"overview":c="outcomeSelect";break;case"outcomeSelect":c="nagashi"===(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome)?"nagashiSelect":"playersSelect";break;case"playersSelect":switch(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome){case"ron":case"tsumo":c="handSelect";break;case"draw":case"abort":case"chombo":case"nagashi":c="confirmation"}break;case"handSelect":switch(null===(o=e.currentOutcome)||void 0===o?void 0:o.selectedOutcome){case"ron":case"tsumo":c=ur(e.currentOutcome,e.gameConfig)?"paoSelect":"confirmation";break;default:c="confirmation"}break;case"paoSelect":c="confirmation";break;case"nagashiSelect":c="playersSelect";break;case"lastResults":case"gameLog":case"confirmation":c="overview"}return c===e.currentScreen?e:Zi(Zi({},e),{currentScreen:c,showAdditionalTableInfo:!1});case I:if(!e.gameConfig)return"settings"===e.currentScreen?Zi(Zi({},e),{currentScreen:"eventSelector"}):e;var s=e.currentScreen,u=e.currentOutcome;switch(e.currentScreen){case"outcomeSelect":s="currentGame",u=void 0;break;case"otherTablesList":case"newGame":case"currentGame":case"eventSelector":case"settings":case"donate":e.currentEventId&&(s="overview");break;case"searchPlayer":s="newGame";break;case"gameLog":s=e.currentSessionHash?"currentGame":"otherTable";break;case"playersSelect":"nagashi"===(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome)?s="nagashiSelect":(s="outcomeSelect",u=void 0);break;case"handSelect":s="playersSelect";break;case"confirmation":switch(null===(i=e.currentOutcome)||void 0===i?void 0:i.selectedOutcome){case"ron":case"tsumo":s=ur(e.currentOutcome,e.gameConfig)?"paoSelect":"handSelect";break;case"draw":case"abort":case"chombo":case"nagashi":s="playersSelect"}break;case"paoSelect":s="handSelect";break;case"nagashiSelect":s="outcomeSelect";break;case"otherTable":s="otherTablesList"}return s===e.currentScreen?e:Zi(Zi({},e),{currentScreen:s,currentOutcome:u,showAdditionalTableInfo:!1});default:return e}}var qi=function(e){return function(t){return function(n){return function(r){var o,a=t.getState().currentPlayerId,i=t.getState().currentEventId;switch(r.type){case u:if(!r.payload.token)return void t.dispatch({type:W});!function(e,t,n,r,o,a,i){e.setCredentials(r,o),e.quickAuthorize().then((function(c){t({type:K,payload:{authToken:o,personId:r}}),function(e,t,n){n({type:Y}),t.getUserInfo([e]).then((function(e){return n({type:F,payload:e[0]})})).catch((function(e){return n({type:V,payload:e})}))}(r,e,n),a?(t({type:_e,payload:a}),zi(e,n,t,r,a),i&&t({type:G,payload:i})):t({type:h})})).catch((function(){t({type:W})}))}(e,t.dispatch,n,r.payload.personId,r.payload.token,i,t.getState().currentSessionHash);break;case Ee:e.getMyEvents().then((function(e){return t.dispatch({type:Ne,payload:e})})).catch((function(e){return t.dispatch({type:Se,payload:e})}));break;case k:!function(e,t,n,r){r({type:k});var o=0,a=function(){t.authorize(e.email,e.password).then((function(e){o=0,n({type:R,payload:e})})).catch((function(e){++o<5?setTimeout(a,500):(o=0,n({type:P,payload:e}))}))};a()}(r.payload,e,t.dispatch,n);break;case K:return e.setCredentials(r.payload.personId,r.payload.authToken),n(r);case D:if(!a||!i)return;zi(e,n,t.dispatch,a,i);break;case G:if(!r.payload||!i)return void t.dispatch({type:l});!function(e,t,n){n({type:G}),t.getGameOverview(e).then((function(e){return n({type:M,payload:e})})).catch((function(e){return n({type:B,payload:e})}))}(r.payload,e,n);break;case Z:if(!i)return;!function(e,t,n){t({type:Z}),e.getTablesState(n).then((function(e){return t({type:q,payload:e})})).catch((function(e){return t({type:z,payload:e})}))}(e,n,i);break;case J:if(!i)return;!function(e,t,n){t({type:J}),e.getTablesState(n).then((function(e){return t({type:q,payload:e})})).catch((function(e){return t({type:z,payload:e})}))}(e,n,i);break;case X:if(!i)return;!function(e,t,n){n({type:X,payload:e}),t.getGameOverview(e).then((function(e){return n({type:$,payload:e})})).catch((function(e){return n({type:ee,payload:e})}))}(r.payload,e,n);break;case Q:if(!i)return;!function(e,t,n){n({type:Q}),t.getGameOverview(e).then((function(e){return n({type:$,payload:e})})).catch((function(e){return n({type:ee,payload:e})}))}(null!==(o=t.getState().currentOtherTableHash)&&void 0!==o?o:"",e,n);break;case"GET_OTHER_TABLE_LAST_ROUND_INIT":n(r);break;case te:!function(e,t,n){n({type:te}),t.getAllRounds(e).then((function(e){return n({type:ne,payload:e})})).catch((function(e){return n({type:re,payload:e})}))}(r.payload,e,n);break;case ie:!function(e,t,n){n({type:ie}),t.getChangesOverview(e).then((function(e){return n({type:ce,payload:e})})).catch((function(e){return n({type:se,payload:e})}))}(r.payload,e,n);break;case le:if(!a||!i)return;!function(e,t,n,r){t({type:le}),e.getLastResults(n,r).then((function(e){return t({type:ue,payload:e})})).catch((function(e){return t({type:de,payload:e})}))}(e,n,a,i);break;case pe:if(!i)return;!function(e,t,n){t({type:pe}),e.getAllPlayers(n).then((function(e){return t({type:me,payload:e})})).catch((function(e){return t({type:he,payload:e})}))}(e,n,i);break;case fe:if(!i)return;!function(e,t,n,r,o){n({type:fe}),t.startGame(o,e).then((function(e){r({type:ye,payload:e}),r({type:l}),r({type:_e,payload:o}),r({type:D}),r({type:p})})).catch((function(e){return n({type:ge,payload:e})}))}(r.payload,e,n,t.dispatch,i);break;case ve:!function(e,t,n,r){n({type:ve}),t.addRound(e).then((function(t){t||n({type:Ie,payload:{code:500,message:"Server error occurred while saving the game"}}),n({type:Oe,payload:t}),t._isFinished||r({type:G,payload:e.currentSessionHash})})).catch((function(e){return n({type:Ie,payload:e})}))}(r.payload,e,n,t.dispatch);break;default:return n(r)}}}}};function zi(e,t,n,r,o){t({type:D});var a=[e.getCurrentGames(r,o),e.getGameConfig(o),e.getTimerState(o)];Promise.all(a).then((function(e){var r=e[0],o=e[1],a=e[2];t({type:x,payload:{games:r,gameConfig:o,timerState:a}}),r.length>0&&n({type:G,payload:r[0].hashcode}),n({type:oe,payload:{waiting:a.waitingForTimer,secondsRemaining:a.timeRemaining,autostartSecondsRemaining:a.autostartTimer,haveAutostart:a.haveAutostart}})})).catch((function(e){401===e.code?n({type:W}):t({type:j,payload:e})}))}var Xi=function(){function e(e,t){this._errcode=parseInt(t,10),this._message="[REMOTE]: "+e}return Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._errcode},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[REMOTE ERROR] code:".concat(this.code,", message: ").concat(this.message)},e}(),Qi=function(){return Qi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qi.apply(this,arguments)},$i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function ec(e){return{tableIndex:e.table_index,players:$i([],e.players.map((function(t){return{tenhouId:"",ratingDelta:0,id:t.id,displayName:t.title,score:e.state.scores[t.id]||0,penalties:e.state.penalties[t.id]||0}})),!0),currentRound:e.state.round,riichiOnTable:e.state.riichi,honba:e.state.honba,yellowZoneAlreadyPlayed:e.state.yellowZoneAlreadyPlayed}}function tc(e){return{started:!!e.started,finished:!!e.finished,timeRemaining:e.time_remaining?parseInt(e.time_remaining.toString(),10):0,waitingForTimer:!!e.waiting_for_timer,haveAutostart:!!e.have_autostart,autostartTimer:e.autostart_timer?parseInt(e.autostart_timer.toString(),10):0}}function nc(e){return e.map((function(e){return{id:parseInt(e.id.toString(),10),displayName:e.title,tenhouId:e.tenhou_id}}))}function rc(e){return e?e.map((function(e){return{id:parseInt(e.id.toString(),10),displayName:e.title,tenhouId:"",score:e.score,ratingDelta:e.rating_delta,penalties:0}})):[]}function oc(e){return e.filter((function(e){return!e.isOnline})).map((function(e){return{id:parseInt(e.id.toString(),10),description:e.description,title:e.title}}))}function ac(e){return{yakuWithPao:(e.yakuWithPao||[]).map((function(e){return parseInt(e.toString(),10)})),allowedYaku:(e.allowedYaku||[]).map((function(e){return parseInt(e.toString(),10)})),startPoints:parseInt(e.startPoints.toString(),10),withKazoe:!!e.withKazoe,withKiriageMangan:!!e.withKiriageMangan,withAbortives:!!e.withAbortives,withNagashiMangan:!!e.withNagashiMangan,eventTitle:e.eventTitle,withAtamahane:!!e.withAtamahane,autoSeating:!!e.autoSeating,isPrescripted:!!e.isPrescripted,rulesetTitle:e.rulesetTitle,eventStatHost:Gt.guiFix(e.eventStatHost),tonpuusen:!!e.tonpuusen,startRating:parseInt(e.startRating.toString(),10),riichiGoesToWinner:!!e.riichiGoesToWinner,extraChomboPayments:!!e.extraChomboPayments,chomboPenalty:parseInt(e.chomboPenalty.toString(),10),withKuitan:!!e.withKuitan,withButtobi:!!e.withButtobi,withMultiYakumans:!!e.withMultiYakumans,gameExpirationTime:parseInt(e.gameExpirationTime.toString(),10),withLeadingDealerGameOver:!!e.withLeadingDealerGameOver,redZone:e.redZone?parseInt(e.redZone.toString(),10):null,yellowZone:e.yellowZone?parseInt(e.yellowZone.toString(),10):null,timerPolicy:"yellowZone"===e.timerPolicy||"redZone"===e.timerPolicy?e.timerPolicy:"none",useTimer:!!e.useTimer,isOnline:!!e.isOnline,isTextlog:!!e.isTextlog,syncStart:!!e.syncStart,sortByGames:!!e.sortByGames,allowPlayerAppend:!!e.allowPlayerAppend}}function ic(e){var t=function(e){return{id:parseInt(e.id.toString(),10),displayName:e.title,score:e.score,penalties:0}};return e.map((function(e){return{hashcode:e.hashcode,tableIndex:e.table_index,status:e.status,players:[t(e.players[0]),t(e.players[1]),t(e.players[2]),t(e.players[3])]}}))}function cc(e){var t;switch(null===(t=e.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"ron":var n=0,r=Pn(e).map((function(t){var r=n>0?"":Mn(e).map((function(e){return e.id})).join(",");return n++,{riichi:r,winner_id:t.winner,pao_player_id:t.paoPlayerId,han:t.han+t.dora,fu:rr(e,t.winner),dora:t.dora,uradora:t.uradora,kandora:t.kandora,kanuradora:t.kanuradora,yaku:t.yaku.filter((function(e){return e>0})).join(","),open_hand:t.yaku.includes(hn.__OPENHAND)}}));return r.length>1?{round_index:e.currentRound,honba:e.honba,outcome:"multiron",loser_id:Kn(e)[0].id,multi_ron:r.length,wins:r}:Qi({round_index:e.currentRound,honba:e.honba,outcome:"ron",loser_id:Kn(e)[0].id,multi_ron:null},r[0]);case"tsumo":return{round_index:e.currentRound,honba:e.honba,outcome:"tsumo",riichi:Mn(e).map((function(e){return e.id})).join(","),winner_id:Ln(e)[0].id,pao_player_id:(Dn(e)[0]||{id:null}).id,han:nr(e)+ir(e),fu:rr(e),multi_ron:null,dora:ir(e),uradora:0,kandora:0,kanuradora:0,yaku:$n(e).filter((function(e){return e>0})).join(","),open_hand:$n(e).includes(hn.__OPENHAND)};case"draw":return{round_index:e.currentRound,honba:e.honba,outcome:"draw",riichi:Mn(e).map((function(e){return e.id})).join(","),tempai:Ln(e).map((function(e){return e.id})).join(",")};case"nagashi":return{round_index:e.currentRound,honba:e.honba,outcome:"nagashi",riichi:Mn(e).map((function(e){return e.id})).join(","),tempai:Ln(e).map((function(e){return e.id})).join(","),nagashi:jn(e).map((function(e){return e.id})).join(",")};case"abort":return{round_index:e.currentRound,honba:e.honba,outcome:"abort",riichi:Mn(e).map((function(e){return e.id})).join(",")};case"chombo":return{round_index:e.currentRound,honba:e.honba,outcome:"chombo",loser_id:Kn(e)[0].id};default:return}}function sc(e){return e.filter((function(e){return"inprogress"===e.status})).map((function(e){var t;return{hash:e.hash,currentRound:parseInt(e.current_round.toString(),10),index:parseInt((null!==(t=e.table_index)&&void 0!==t?t:"").toString(),10),players:e.players.map((function(t){return{id:parseInt(t.id.toString(),10),displayName:t.title,score:parseInt(e.scores[t.id].toString(),10),penalties:0}}))}}))}function lc(e){var t;return{personId:parseInt((null!==(t=e[0])&&void 0!==t?t:0).toString(),10),token:e[1]}}var uc=function(){function e(e){this.onReconnect=e,this._authToken=null,this._personId=null}return e.prototype.setCredentials=function(e,t){this._authToken=t,this._personId=(e||0).toString()},e.prototype.startGame=function(e,t){return this._jsonRpcRequest("startGame",e,t)},e.prototype.getMyEvents=function(){return this._jsonRpcRequest("getMyEvents").then(oc)},e.prototype.getGameConfig=function(e){return this._jsonRpcRequest("getGameConfig",e).then(ac)},e.prototype.getTimerState=function(e){return this._jsonRpcRequest("getTimerState",e).then(tc)},e.prototype.getLastResults=function(e,t){return this._jsonRpcRequest("getLastResults",e,t).then(rc)},e.prototype.getAllPlayers=function(e){return this._jsonRpcRequest("getAllPlayers",[e]).then(nc)},e.prototype.getGameOverview=function(e){return this._jsonRpcRequest("getGameOverview",e).then(ec)},e.prototype.getCurrentGames=function(e,t){return this._jsonRpcRequest("getCurrentGames",e,t).then(ic)},e.prototype.getUserInfo=function(e){return this._jsonRpcRequestFrey("getPersonalInfo",e).then(nc)},e.prototype.confirmRegistration=function(e){return this._jsonRpcRequest("registerPlayer",e)},e.prototype.getChangesOverview=function(e){var t,n=null!==(t=e.currentSessionHash)&&void 0!==t?t:"",r=cc(e);return this._jsonRpcRequest("addRound",n,r,!0)},e.prototype.getLastRoundByHash=function(e){return this._jsonRpcRequest("getLastRoundByHash",e).then((function(t){return t.sessionHash=e,t}))},e.prototype.getLastRound=function(e,t){return this._jsonRpcRequest("getLastRound",e,t)},e.prototype.getAllRounds=function(e){return this._jsonRpcRequest("getAllRounds",e)},e.prototype.addRound=function(e){var t,n=null!==(t=e.currentSessionHash)&&void 0!==t?t:"",r=cc(e);return this._jsonRpcRequest("addRound",n,r,!1)},e.prototype.getTablesState=function(e){return this._jsonRpcRequest("getTablesState",e).then(sc)},e.prototype.quickAuthorize=function(){return this._jsonRpcRequestFrey("quickAuthorize",this._personId,this._authToken)},e.prototype.authorize=function(e,t){return this._jsonRpcRequestFrey("authorize",e,t).then(lc)},e.prototype._jsonRpcRequest=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=new Headers;a.append("Content-Type","application/json"),a.append("X-Api-Version",Gt.apiVersion.map((function(e){return e.toString()})).join(".")),a.append("X-Auth-Token",null!==(t=this._authToken)&&void 0!==t?t:""),a.append("X-Current-Person-Id",null!==(n=this._personId)&&void 0!==n?n:"");var i={jsonrpc:"2.0",method:e,params:r,id:Math.round(1e6*Math.random())},c={method:"post",headers:a,body:JSON.stringify(i)};return fetch(Gt.apiUrl,c).then((function(e){return e.json()})).then((function(e){if(e.error)throw Gt.production||console.error(e.error.message),new Xi(e.error.message,e.error.code.toString());return e.result}))},e.prototype._jsonRpcRequestFrey=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=new Headers;a.append("Content-Type","application/json"),a.append("X-Api-Version",Gt.apiVersion.map((function(e){return e.toString()})).join(".")),a.append("X-Auth-Token",null!==(t=this._authToken)&&void 0!==t?t:""),a.append("X-Current-Person-Id",null!==(n=this._personId)&&void 0!==n?n:"");var i={jsonrpc:"2.0",method:e,params:r,id:Math.round(1e6*Math.random())},c={method:"post",headers:a,body:JSON.stringify(i)};return fetch(Gt.uaUrl,c).then((function(e){return e.json()})).then((function(e){if(e.error)throw Gt.production||console.error(e.error.message),new Xi(e.error.message,e.error.code.toString());return e.result}))},e}(),dc=n(558),pc=n.n(dc),mc=[[hn.TOITOI,2,2],[hn.HONROTO,2,2],[hn.SANANKOU,2,2],[hn.SANSHOKUDOUKOU,2,2],[hn.SANKANTSU,2,2],[hn.SUUKANTSU,-1,-1],[hn.SUUANKOU,-1,0],[hn.PINFU,1,0],[hn.IIPEIKOU,1,0],[hn.RYANPEIKOU,3,0],[hn.SANSHOKUDOUJUN,2,1],[hn.ITTSU,2,1],[hn.YAKUHAI1,1,1],[hn.YAKUHAI2,2,2],[hn.YAKUHAI3,3,3],[hn.YAKUHAI4,4,4],[hn.SHOSANGEN,2,2],[hn.DAISANGEN,-1,-1],[hn.SHOSUUSHII,-1,-1],[hn.DAISUUSHII,-1,-1],[hn.TSUUIISOU,-1,-1],[hn.TANYAO,1,1],[hn.CHANTA,2,1],[hn.JUNCHAN,3,2],[hn.CHINROTO,-1,-1],[hn.HONITSU,3,2],[hn.CHINITSU,6,5],[hn.CHUURENPOUTO,-1,0],[hn.RYUUIISOU,-1,-1],[hn.CHIITOITSU,2,0],[hn.KOKUSHIMUSOU,-1,0],[hn.RIICHI,1,0],[hn.DOUBLERIICHI,2,0],[hn.IPPATSU,1,0],[hn.MENZENTSUMO,1,0],[hn.HAITEI,1,1],[hn.RINSHANKAIHOU,1,1],[hn.TENHOU,-1,0],[hn.CHIHOU,-1,0],[hn.HOUTEI,1,1],[hn.CHANKAN,1,1],[hn.RENHOU,5,0],[hn.OPENRIICHI,1,0]],hc={},fc={};function yc(e,t){return e.includes(hn.CHIITOITSU)?[25]:e.includes(hn.PINFU)&&e.includes(hn.MENZENTSUMO)&&!e.includes(hn.__OPENHAND)?[20]:"ron"!==t||e.includes(hn.__OPENHAND)?[30,40,50,60,70,80,90,100,110]:e.includes(hn.PINFU)?[30]:[40,50,60,70,80,90,100,110]}function gc(e){var t=e.includes(hn.__OPENHAND);return e.reduce((function(e,n){return n===hn.__OPENHAND?e:e+(t?hc[n]:fc[n])}),0)}mc.forEach((function(e){0!==e[1]&&(fc[e[0]]=e[1]),0!==e[2]&&(hc[e[0]]=e[2])}));var vc=function(){return vc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vc.apply(this,arguments)},Oc=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Ic(e,t,n){var r,o;switch(null===(o=e.currentOutcome)||void 0===o?void 0:o.selectedOutcome){case"tsumo":return vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),t)});case"ron":if(!n)throw new Error("No winner getter provided");var a=n();if(!a)throw new Error("No winner provided");return vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),{wins:vc(vc({},e.currentOutcome.wins),(r={},r[a]=vc(vc({},e.currentOutcome.wins[a]),t),r))})});default:throw new Error("Wrong outcome modifier used")}}function Ec(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"abort":case"draw":case"nagashi":return vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),t)});default:throw new Error("Wrong outcome modifier used")}}var Nc=[function(e,t,n){return"tsumo"===e&&(!n.includes(hn.RIICHI)&&!n.includes(hn.DOUBLERIICHI)||n.includes(hn.MENZENTSUMO)||n.push(hn.MENZENTSUMO)),n},function(e,t,n,r){if("tsumo"===e)if(r===hn.MENZENTSUMO)-1!==(o=n.indexOf(hn.__OPENHAND))&&n.splice(o,1),n.includes(hn.MENZENTSUMO)||n.push(hn.__OPENHAND);else if(r===hn.__OPENHAND){var o;-1!==(o=n.indexOf(hn.MENZENTSUMO))&&n.splice(o,1),n.includes(hn.__OPENHAND)||n.push(hn.MENZENTSUMO)}return n}],Sc=[function(e,t,n,r,o){return r===hn.DOUBLERIICHI&&t.winner&&o.includes(t.winner)&&n.includes(hn.DOUBLERIICHI)&&!n.includes(hn.RIICHI)&&n.push(hn.RIICHI),n}];function _c(e,t,n,r,o,a){if(o){var i=Rn(e.yaku);if(!i.includes(n)){Nn.includes(n)&&(e=vc(vc({},e),{dora:0})),i=Sc.reduce((function(r,o){return o(t,e,i,n,a)}),i),i=function(e,t,n){return e.tryAddAllowedNode(n.map((function(e){return Tn[e]})),Tn[t]).map((function(e){return e.data.id}))}(o,n,i);var c=kn(i=Nc.reduce((function(r,o){return o(t,e,i,n,a)}),i));if(e.yaku!==c){var s=e.fu,l=gc(i),u=yc(i,t);-1!==u.indexOf(e.fu)&&n!==hn.__OPENHAND||(s=u[0]),e=vc(vc({},e),{yaku:c,han:l,fu:s,possibleFu:u})}return e}}}function Ac(e,t,n,r){var o=Rn(e.yaku);if(o.includes(n)){var a=(o=Sc.reduce((function(a,i){return i(t,e,o,n,r)}),o)).indexOf(n);-1!==a&&o.splice(a,1);var i=kn(o=Nc.reduce((function(a,i){return i(t,e,o,n,r)}),o));if(e.yaku!==i){var c=e.fu,s=gc(o),l=yc(o,t);l.includes(c)||(c=l[0]),e=vc(vc({},e),{yaku:i,han:s,fu:c,possibleFu:l})}return e}}function Tc(e,t,n){return Oc(Oc(Oc([],e.slice(0,t),!0),[n],!1),e.slice(t+1),!0)}var Uc={features:{wsClient:!1},currentOtherTableIndex:0,isUniversalWatcher:!1,settings:{currentLang:"en",currentTheme:"day",singleDeviceMode:!1},timer:void 0,yakuList:void 0,currentScreen:"overview",currentSessionHash:void 0,currentOutcome:void 0,currentRound:1,currentPlayerDisplayName:void 0,currentPlayerId:void 0,players:void 0,mapIdToPlayer:{},riichiOnTable:0,honba:0,multironCurrentWinner:void 0,isLoggedIn:!1,gameConfig:void 0,tableIndex:void 0,yellowZoneAlreadyPlayed:!1,otherTablesList:[],currentOtherTable:void 0,currentOtherTableHash:void 0,currentOtherTablePlayers:[],isIos:!1,showAdditionalTableInfo:!1,currentSelectHandTab:void 0,loading:{games:!1,overview:!1,otherTables:!1,otherTable:!1,login:!1,players:!1,addRound:!1,events:!1},eventsList:[],newGameSelectedUsers:[un,un,un,un],gameOverviewReady:!1,historyInitialized:!1};function Cc(e,t){var n;switch(t){case"ron":n={selectedOutcome:"ron",roundIndex:e,loser:void 0,loserIsDealer:!1,multiRon:0,riichiBets:[],wins:{}};break;case"tsumo":n={selectedOutcome:"tsumo",roundIndex:e,winner:void 0,winnerIsDealer:!1,han:0,fu:30,possibleFu:yc([],"tsumo"),yaku:"",riichiBets:[],dora:0,openHand:!1};break;case"draw":n={selectedOutcome:"draw",roundIndex:e,riichiBets:[],tempai:[],deadhands:[]};break;case"nagashi":n={selectedOutcome:"nagashi",roundIndex:e,riichiBets:[],tempai:[],deadhands:[],nagashi:[]};break;case"abort":n={selectedOutcome:"abort",roundIndex:e,riichiBets:[],deadhands:[]};break;case"chombo":n={selectedOutcome:"chombo",roundIndex:e,loser:void 0,loserIsDealer:!1}}return n}var wc=function(){return wc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wc.apply(this,arguments)};function bc(e,t){var n,r,o,a,i,c,s,l,u,d,p,m,h,f,y,g;switch(t.type){case k:return wc(wc({},e),{loading:wc(wc({},e.loading),{login:!0}),loginError:void 0});case R:return wc(wc({},e),{loading:wc(wc({},e.loading),{login:!1}),currentPlayerId:t.payload.personId||void 0,isLoggedIn:!0,currentScreen:"eventSelector",loginError:void 0});case P:return wc(wc({},e),{loading:wc(wc({},e.loading),{login:!1}),isLoggedIn:!1,currentScreen:"login",loginError:{details:t.payload,message:t.payload.message}});case L:return wc(wc({},e),{currentScreen:"login",loginError:void 0});case Y:return wc(wc({},e),{loading:wc(wc({},e.loading),{players:!0})});case F:return wc(wc({},e),{currentPlayerId:t.payload.id,currentPlayerDisplayName:t.payload.displayName,loading:wc(wc({},e.loading),{players:!1})});case V:return wc(wc({},e),{loading:wc(wc({},e.loading),{players:!1}),getUserinfoError:{details:t.payload,message:t.payload.message}});case D:return wc(wc({},e),{currentOtherTable:void 0,currentOtherTablePlayers:[],currentOtherTableHash:void 0,currentOtherTableIndex:0,loading:wc(wc({},e.loading),{games:!0})});case x:t.payload.games[0]||(e=wc(wc({},e),{currentScreen:["otherTablesList","otherTable","lastResults"].includes(e.currentScreen)?e.currentScreen:"overview"}));var v={},O=void 0;if(t.payload.games[0])for(var I=0,E=O=t.payload.games[0].players;I<E.length;I++){var N=E[I];v[N.id.toString()]=N}return wc(wc({},e),{gameConfig:t.payload.gameConfig,currentSessionHash:t.payload.games[0]&&t.payload.games[0].hashcode,players:O,mapIdToPlayer:v,yakuList:bn(t.payload.gameConfig.withMultiYakumans),timer:wc(wc({},e.timer),{secondsRemaining:t.payload.timerState.timeRemaining||0,lastUpdateSecondsRemaining:t.payload.timerState.timeRemaining||0,lastUpdateTimestamp:Math.round((new Date).getTime()/1e3),waiting:t.payload.timerState.waitingForTimer,autostartSecondsRemaining:t.payload.timerState.autostartTimer||0,autostartLastUpdateSecondsRemaining:t.payload.timerState.autostartTimer||0,autostartLastUpdateTimestamp:Math.round((new Date).getTime()/1e3)}),loading:wc(wc({},e.loading),{games:!1})});case j:return wc(wc({},e),{loading:wc(wc({},e.loading),{games:!1}),updateCurrentGamesError:{details:t.payload,message:t.payload.message}});case pe:return wc(wc({},e),{loading:wc(wc({},e.loading),{players:!0}),allPlayers:void 0,allPlayersError:void 0});case me:return wc(wc({},e),{loading:wc(wc({},e.loading),{players:!1}),allPlayers:t.payload,allPlayersError:void 0});case he:return wc(wc({},e),{loading:wc(wc({},e.loading),{players:!1}),allPlayers:void 0,allPlayersError:{details:t.payload,message:t.payload.message}});case ie:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!0})});case ce:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),changesOverview:t.payload,changesOverviewError:void 0});case se:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),changesOverview:void 0,changesOverviewError:{message:t.payload.message,details:t.payload}});case te:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!0}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:void 0});case ne:return t.payload?wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),allRoundsOverview:t.payload,allRoundsOverviewErrorCode:void 0}):wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:404});case re:var S=418;return S=t.payload?t.payload.code:404,wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),allRoundsOverview:void 0,allRoundsOverviewErrorCode:S});case le:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!0}),lastResults:void 0,lastResultsError:void 0});case ue:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),lastResults:t.payload,lastResultsError:void 0});case de:return wc(wc({},e),{loading:wc(wc({},e.loading),{overview:!1}),lastResults:void 0,lastResultsError:{details:t.payload,message:t.payload.message}});case fe:return wc(wc({},e),{loading:wc(wc({},e.loading),{games:!0}),newGameStartError:void 0});case ye:return wc(wc({},e),{loading:wc(wc({},e.loading),{games:!1}),newGameStartError:void 0});case ge:return wc(wc({},e),{loading:wc(wc({},e.loading),{games:!1}),newGameStartError:{details:t.payload,message:t.payload.message}});case Ue:var _=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}([].concat(null!==(n=e.newGameSelectedUsers)&&void 0!==n?n:[]));return wc(wc({},e),{newGameSelectedUsers:_});case Ce:return wc(wc({},e),{newGameSelectedUsers:[un,un,un,un],newGameIdsToSet:void 0});case we:if(!e.newGameIdsToSet)return e;var A=e.newGameIdsToSet.map((function(t){var n,r;return null!==(r=null===(n=e.allPlayers)||void 0===n?void 0:n.find((function(e){return e.id===t})))&&void 0!==r?r:un}));return wc(wc({},e),{newGameSelectedUsers:A,newGameIdsToSet:void 0});case be:return g=null!==(o=null===(r=e.allPlayers)||void 0===r?void 0:r.find((function(e){return e.id===t.payload})))&&void 0!==o?o:un,wc(wc({},e),{newGameSelectedUsers:Tc(null!==(a=e.newGameSelectedUsers)&&void 0!==a?a:[],0,g)});case He:return g=null!==(c=null===(i=e.allPlayers)||void 0===i?void 0:i.find((function(e){return e.id===t.payload})))&&void 0!==c?c:un,wc(wc({},e),{newGameSelectedUsers:Tc(null!==(s=e.newGameSelectedUsers)&&void 0!==s?s:[],1,g)});case ke:return g=null!==(u=null===(l=e.allPlayers)||void 0===l?void 0:l.find((function(e){return e.id===t.payload})))&&void 0!==u?u:un,wc(wc({},e),{newGameSelectedUsers:Tc(null!==(d=e.newGameSelectedUsers)&&void 0!==d?d:[],2,g)});case Re:return g=null!==(m=null===(p=e.allPlayers)||void 0===p?void 0:p.find((function(e){return e.id===t.payload})))&&void 0!==m?m:un,wc(wc({},e),{newGameSelectedUsers:Tc(null!==(h=e.newGameSelectedUsers)&&void 0!==h?h:[],3,g)});case De:return wc(wc({},e),{overviewViewShift:((null!==(f=e.overviewViewShift)&&void 0!==f?f:0)+1)%4});case Ke:return wc(wc({},e),{overviewViewShift:((null!==(y=e.overviewViewShift)&&void 0!==y?y:0)+3)%4});case G:return wc(wc({},e),{currentOtherTable:void 0,currentOtherTablePlayers:[],currentOtherTableHash:void 0,currentOtherTableIndex:0,gameOverviewReady:!1});case M:return wc(wc(wc({},e),{gameOverviewReady:!0}),t.payload);case B:return wc(wc({},e),{currentScreen:"login"});case Z:return wc(wc({},e),{loading:wc(wc({},e.loading),{otherTables:!0}),otherTablesListError:void 0});case q:return wc(wc({},e),{loading:wc(wc({},e.loading),{otherTables:!1}),otherTablesList:t.payload,currentScreen:"otherTablesList",otherTablesListError:void 0});case z:return wc(wc({},e),{loading:wc(wc({},e.loading),{otherTables:!1}),currentScreen:"otherTablesList",otherTablesListError:{message:t.payload.message,details:t.payload}});case X:return wc(wc({},e),{loading:wc(wc({},e.loading),{otherTable:!0}),currentOtherTable:void 0,currentOtherTableHash:t.payload,currentOtherTableIndex:0,allRoundsOverview:void 0,currentOtherTablePlayers:[],otherTableError:void 0});case $:return wc(wc({},e),{loading:wc(wc({},e.loading),{otherTable:!1}),currentScreen:"otherTable",currentOtherTable:t.payload,currentOtherTableIndex:t.payload.tableIndex,currentOtherTablePlayers:t.payload.players,otherTableError:void 0});case ee:return wc(wc({},e),{loading:wc(wc({},e.loading),{otherTable:!1}),currentScreen:"otherTable",currentOtherTable:void 0,currentOtherTableHash:void 0,currentOtherTableIndex:0,allRoundsOverview:void 0,currentOtherTablePlayers:[],otherTableError:{message:t.payload.message,details:t.payload}});case ve:return wc(wc({},e),{loading:wc(wc({},e.loading),{addRound:!0})});case Oe:if(t.payload._isFinished){var T=pc()(Uc);return wc(wc({},T),{eventsList:e.eventsList,currentEventId:e.currentEventId,currentScreen:"lastResults",gameConfig:e.gameConfig,currentPlayerDisplayName:e.currentPlayerDisplayName,currentPlayerId:e.currentPlayerId,isLoggedIn:e.isLoggedIn,isIos:e.isIos,yakuList:e.yakuList,isUniversalWatcher:e.isUniversalWatcher,settings:e.settings})}return wc(wc({},e),{loading:wc(wc({},e.loading),{addRound:!1}),currentOutcome:void 0,currentScreen:"currentGame"});case Ie:return wc(wc({},e),{loading:wc(wc({},e.loading),{addRound:!1}),changesOverviewError:{details:t.payload,message:t.payload.message}});case Ee:return wc(wc({},e),{eventsListError:void 0,loading:wc(wc({},e.loading),{events:!0})});case Ne:return wc(wc({},e),{loading:wc(wc({},e.loading),{events:!1}),currentOutcome:void 0,eventsList:t.payload});case Se:return wc(wc({},e),{loading:wc(wc({},e.loading),{events:!1}),eventsListError:t.payload});case _e:return wc(wc({},e),{currentEventId:t.payload,currentScreen:"overview"});case Fe:return wc(wc({},e),{historyInitialized:!0});default:return e}}var Hc=function(){return Hc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hc.apply(this,arguments)},kc=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Rc(e,t){for(var n=[t[0],t[1],t[2],t[3]],r=1;r<e.roundIndex;r++)n=[n.pop()].concat(n);return n[0].id}function Pc(e,t,n){var r,o=e;return t.forEach((function(e){var t,a,i;switch(null===(t=o.currentOutcome)||void 0===t?void 0:t.selectedOutcome){case"tsumo":if(!(r=_c(o.currentOutcome,o.currentOutcome.selectedOutcome,e,null===(a=o.gameConfig)||void 0===a?void 0:a.allowedYaku,o.yakuList,o.currentOutcome.riichiBets)))return;break;case"ron":if(!n)return;if(!(r=_c(o.currentOutcome.wins[n],o.currentOutcome.selectedOutcome,e,null===(i=o.gameConfig)||void 0===i?void 0:i.allowedYaku,o.yakuList,o.currentOutcome.riichiBets)))return;break;default:return}o=Ic(o,r,(function(){return n}))})),o}function Lc(e,t){var n,r,o,a,i,c,s,l,u,d;switch(t.type){case Ae:return Hc(Hc({},e),{currentOutcome:Cc(e.currentRound,t.payload)});case E:return Ic(e,{dora:t.payload.count},(function(){return t.payload.winner}));case N:return Ic(e,{fu:t.payload.count},(function(){return t.payload.winner}));case S:return Pc(e,[t.payload.id].concat(Qn(e)),t.payload.winner);case _:switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"tsumo":return Pc(e,Qn(e),e.multironCurrentWinner);case"ron":var p=e;return Object.keys(e.currentOutcome.wins).forEach((function(t){p=Pc(p,Qn(e,parseInt(t,10)),parseInt(t,10))})),p;default:return e}case A:if(Qn(e).includes(t.payload.id))return e;switch(null===(r=e.currentOutcome)||void 0===r?void 0:r.selectedOutcome){case"tsumo":if(!(u=Ac(e.currentOutcome,e.currentOutcome.selectedOutcome,t.payload.id,e.currentOutcome.riichiBets)))return e;break;case"ron":if(!(u=Ac(e.currentOutcome.wins[t.payload.winner],e.currentOutcome.selectedOutcome,t.payload.id,e.currentOutcome.riichiBets)))return e;break;default:return e}return Ic(e,u,(function(){return t.payload.winner}));case T:var m=e.currentOutcome;if(d=t.payload,m&&"chombo"===m.selectedOutcome)return e;var h=(null===m||void 0===m?void 0:m.riichiBets.includes(d))?null===m||void 0===m?void 0:m.riichiBets.filter((function(e){return e!==d})):kc(kc([],null!==(o=null===m||void 0===m?void 0:m.riichiBets)&&void 0!==o?o:[],!0),[d],!1);if("draw"===(null===m||void 0===m?void 0:m.selectedOutcome)||"nagashi"===(null===m||void 0===m?void 0:m.selectedOutcome)){if(!m.tempai.includes(d)&&!m.deadhands.includes(d))return Ec(e,{tempai:kc(kc([],m.tempai,!0),[d],!1),riichiBets:h});if(m.riichiBets.includes(d)&&m.deadhands.includes(d))return Ec(e,{deadhands:m.deadhands.filter((function(e){return e!==d})),riichiBets:m.riichiBets.filter((function(e){return e!==d}))})}return"ron"===(null===m||void 0===m?void 0:m.selectedOutcome)||"tsumo"===(null===m||void 0===m?void 0:m.selectedOutcome)?function(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"ron":case"tsumo":return vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),t)});default:return e}}(e,{riichiBets:h}):"draw"===(null===m||void 0===m?void 0:m.selectedOutcome)||"nagashi"===(null===m||void 0===m?void 0:m.selectedOutcome)||"abort"===(null===m||void 0===m?void 0:m.selectedOutcome)?Ec(e,{riichiBets:h}):e;case U:switch(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome){case"tsumo":return Ic(e,{winner:e.currentOutcome.winner===t.payload?void 0:t.payload,winnerIsDealer:void 0===e.currentOutcome.winner&&void 0!==e.players&&Rc(e.currentOutcome,e.players)===t.payload});case"draw":case"nagashi":if(e.currentOutcome.riichiBets.includes(t.payload)){if(e.currentOutcome.tempai.includes(t.payload)&&!e.currentOutcome.deadhands.includes(t.payload))return Ec(e,{deadhands:kc(kc([],e.currentOutcome.deadhands,!0),[t.payload],!1),tempai:e.currentOutcome.tempai.filter((function(e){return e!==t.payload}))});throw Error("Tempai button cannot exist while deadhand button pressed")}return e.currentOutcome.tempai.includes(t.payload)?Ec(e,{tempai:e.currentOutcome.tempai.filter((function(e){return e!==t.payload}))}):Ec(e,{tempai:kc(kc([],e.currentOutcome.tempai,!0),[t.payload],!1)});case"ron":return function(e,t,n,r){var o,a;if(void 0===r&&(r=!1),"ron"!==(null===(a=e.currentOutcome)||void 0===a?void 0:a.selectedOutcome))throw new Error("Wrong outcome modifier used");if(r){var i=vc({},e.currentOutcome.wins);return delete i[t],vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),{multiRon:e.currentOutcome.wins[t]?e.currentOutcome.multiRon-1:e.currentOutcome.multiRon,wins:i})})}return vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),{multiRon:e.currentOutcome.wins[t]?e.currentOutcome.multiRon:e.currentOutcome.multiRon+1,wins:vc(vc({},e.currentOutcome.wins),(o={},o[t]={winner:t,winnerIsDealer:n,han:0,fu:0,possibleFu:[],yaku:"",dora:0,openHand:!1},o))})})}(e,t.payload,void 0!==e.players&&Rc(e.currentOutcome,e.players)===t.payload,!!e.currentOutcome.wins[t.payload]);default:throw new Error("No winners exist on this outcome")}case C:switch(null===(i=e.currentOutcome)||void 0===i?void 0:i.selectedOutcome){case"ron":case"chombo":return function(e,t){var n;switch(null===(n=e.currentOutcome)||void 0===n?void 0:n.selectedOutcome){case"ron":case"chombo":return vc(vc({},e),{currentOutcome:vc(vc({},e.currentOutcome),t)});default:throw new Error("Wrong outcome modifier used")}}(e,{loser:e.currentOutcome.loser===t.payload?void 0:t.payload,loserIsDealer:void 0===e.currentOutcome.loser&&void 0!==e.players&&Rc(e.currentOutcome,e.players)===t.payload});default:throw new Error("No losers exist on this outcome")}case w:switch(d=t.payload,null===(c=e.currentOutcome)||void 0===c?void 0:c.selectedOutcome){case"tsumo":return Ic(e,{paoPlayerId:e.currentOutcome.paoPlayerId===d?void 0:d});case"ron":return e.multironCurrentWinner?Ic(e,{paoPlayerId:e.currentOutcome.wins[e.multironCurrentWinner].paoPlayerId===d?void 0:d},(function(){return e.multironCurrentWinner})):e;default:throw new Error("No pao exist on this outcome")}case b:switch(null===(s=e.currentOutcome)||void 0===s?void 0:s.selectedOutcome){case"draw":case"nagashi":if(e.currentOutcome.riichiBets.includes(t.payload)){if(!e.currentOutcome.tempai.includes(t.payload)&&e.currentOutcome.deadhands.includes(t.payload))return Ec(e,{deadhands:e.currentOutcome.deadhands.filter((function(e){return e!==t.payload})),tempai:kc(kc([],e.currentOutcome.tempai,!0),[t.payload],!1)});throw Error("Deadhand button cannot exist while tempai button pressed")}throw new Error("Deadhand button cannot exist without pressed riichi");default:throw new Error("No losers exist on this outcome")}case H:if("nagashi"===(null===(l=e.currentOutcome)||void 0===l?void 0:l.selectedOutcome))return e.currentOutcome.nagashi.includes(t.payload)?Ec(e,{nagashi:e.currentOutcome.nagashi.filter((function(e){return e!==t.payload}))}):Ec(e,{nagashi:kc(kc([],e.currentOutcome.nagashi,!0),[t.payload],!1)});throw new Error("No nagashi exist on this outcome");default:return e}}var Kc=function(){return Kc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kc.apply(this,arguments)},Dc=function(){function e(){this._eventId=null,this._metrikaId=null,this._metrikaId=Gt.metrikaId}return e.prototype.setUserId=function(e){this._metrikaId&&window.ym(this._metrikaId,"setUserID",e.toString())},e.prototype.setEventId=function(e){this._eventId=e},e.prototype.track=function(t,n,r){var o;void 0===n&&(n={}),this._metrikaId&&window.ym(this._metrikaId,"reachGoal","TYR_MTT_"+t,Kc({eventId:(r?r.toString():(null!==(o=this._eventId)&&void 0!==o?o:"").toString())||e.NOT_INITIALIZED},n))},e.NOT_INITIALIZED="not_initialized",e.APP_INIT="app_init",e.LOGOUT="logout",e.I18N_INIT="i18n_init",e.LANG_CHANGED="lang_changed",e.THEME_CHANGED="theme_changed",e.SINGLE_DEVICE_MODE_CHANGED="single_device_mode_changed",e.REMOTE_ERROR="remote_error",e.LOCAL_ERROR="local_error",e.SCREEN_ENTER="screen_enter",e.CONFIG_RECEIVED="config_received",e.UNIVERSAL_WATCHER_INITIALIZED="universal_watcher_initialized",e.LOAD_STARTED="load_started",e.LOAD_SUCCESS="load_success",e.LOAD_ERROR="load_error",e}(),xc=function(){return xc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xc.apply(this,arguments)};function jc(e,t){var n,r,o,a,i,c,s,l,u,d,p,m,h,f;return t.type===ae?xc(xc({},e),{timer:xc(xc({},e.timer),{waiting:t.payload.waiting,secondsRemaining:null!==(n=t.payload.secondsRemaining)&&void 0!==n?n:0,autostartSecondsRemaining:null!==(r=t.payload.autostartSecondsRemaining)&&void 0!==r?r:0,autostartLastUpdateSecondsRemaining:t.payload.autostartLastUpdateTimestamp?null!==(o=t.payload.autostartSecondsRemaining)&&void 0!==o?o:0:null!==(i=null===(a=e.timer)||void 0===a?void 0:a.autostartLastUpdateSecondsRemaining)&&void 0!==i?i:0,autostartLastUpdateTimestamp:null!==(l=null!==(c=t.payload.autostartLastUpdateTimestamp)&&void 0!==c?c:null===(s=e.timer)||void 0===s?void 0:s.autostartLastUpdateTimestamp)&&void 0!==l?l:0,lastUpdateTimestamp:null!==(p=null!==(u=t.payload.lastUpdateTimestamp)&&void 0!==u?u:null===(d=e.timer)||void 0===d?void 0:d.lastUpdateTimestamp)&&void 0!==p?p:0,lastUpdateSecondsRemaining:t.payload.lastUpdateTimestamp?null!==(m=t.payload.secondsRemaining)&&void 0!==m?m:0:null!==(f=null===(h=e.timer)||void 0===h?void 0:h.lastUpdateSecondsRemaining)&&void 0!==f?f:0})}):e}var Gc=function(){return Gc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gc.apply(this,arguments)},Mc=function(){return Math.round((new Date).getTime()/1e3)},Bc=function(){return Bc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bc.apply(this,arguments)};function Yc(e,t){var n,r,o;switch(t.type){case s:return pc()(Uc);case K:return Bc(Bc({},e),{currentPlayerId:t.payload.personId});case Te:return Bc(Bc({},e),{multironCurrentWinner:t.payload.winner});case xe:return Bc(Bc({},e),{settings:Bc(Bc({},e.settings),{currentTheme:t.payload})});case je:return Bc(Bc({},e),{settings:Bc(Bc({},e.settings),{currentLang:t.payload})});case Ge:return Bc(Bc({},e),{settings:Bc(Bc({},e.settings),{singleDeviceMode:t.payload})});case Be:return Bc(Bc({},e),{settings:Bc(Bc({},e.settings),{currentLang:(null!==(n=t.payload)&&void 0!==n?n:e.settings).currentLang,currentTheme:(null!==(r=t.payload)&&void 0!==r?r:e.settings).currentTheme,singleDeviceMode:(null!==(o=t.payload)&&void 0!==o?o:e.settings).singleDeviceMode})});case Ye:return Bc(Bc({},e),{currentSelectHandTab:t.payload});case Pe:return Bc(Bc({},e),{overviewDiffBy:e.overviewDiffBy===t.payload?void 0:t.payload});case Le:return Bc(Bc({},e),{showAdditionalTableInfo:!e.showAdditionalTableInfo});default:return e}}var Fc=function(){function e(){this.meta={},this.meta=this.get("__meta","object"),null===this.meta&&(this.meta={},this.set("__meta","object",{}))}return e.prototype.get=function(e,t){try{var n=localStorage.getItem(e);if(null===n)throw new Error;return"object"===t?JSON.parse(n):"int"===t?parseInt(n,10):n}catch(r){return null}},e.prototype.set=function(e,t,n){try{var r="object"===t?JSON.stringify(n):n;return this.meta[e]=!0,localStorage.setItem(e,r),"__meta"!==e&&this.updateMeta(),!0}catch(o){return!1}},e.prototype.delete=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];delete this.meta[r],localStorage.removeItem(r)}this.updateMeta()},e.prototype.clear=function(){for(var e in this.meta)this.meta.hasOwnProperty(e)&&localStorage.removeItem(e);this.meta={},this.updateMeta()},e.prototype.export=function(){return window.btoa(JSON.stringify(Object.keys(this.get("__meta","object")).map((function(e){return[e,localStorage.getItem(e)]}))))},e.prototype.import=function(e){try{JSON.parse(window.atob(e)).forEach((function(e){var t=e[0],n=e[1];return localStorage.setItem(t,n)}))}catch(t){}},e.prototype.forEach=function(e){Object.keys(this.get("__meta","object")).forEach((function(t){var n=localStorage.getItem(t);n&&e(t,n)}))},e.prototype.updateMeta=function(){return this.set("__meta","object",this.meta)},e}(),Vc=function(){function e(e){this.meta={},this.cookieDomain=e,this.meta=this.get("__meta","object"),null===this.meta&&(this.meta={},this.set("__meta","object",{}))}return e.prototype.get=function(e,t){var n=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);try{return n?"object"===t?JSON.parse(n[1]):"int"===t?parseInt(n[1],10):n[1]:null}catch(r){return null}},e.prototype.set=function(e,t,n){var r=new Date;r.setTime(r.getTime()+31536e6);var o=";expires="+r.toUTCString(),a=this.cookieDomain?";domain="+this.cookieDomain:"";return document.cookie="".concat(e,"=").concat("object"===t?JSON.stringify(n):n).concat(o).concat(a,"; path=/"),"__meta"!==e&&(this.meta[e]=!0,this.updateMeta()),!0},e.prototype.delete=function(e){var t=this,n=new Date;n.setTime(n.getTime()+-864e5);var r=";expires="+n.toUTCString(),o=this.cookieDomain?";domain="+this.cookieDomain:"";e.forEach((function(e){document.cookie=e+"="+r+o+"; path=/",delete t.meta[e]})),this.updateMeta()},e.prototype.clear=function(){this.delete(Object.keys(this.meta))},e.prototype.forEach=function(e){Object.keys(this.get("__meta","object")).forEach((function(t){var n=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie);n&&e(t,n[1])}))},e.prototype.updateMeta=function(){return this.set("__meta","object",this.meta)},e}(),Wc=function(){function e(e){this.metrika=e,this.activeStorages=[],this.cookieEngine=new Vc(Gt.cookieDomain),this.activeStorages.push(this.cookieEngine);try{if(localStorage.setItem("testStorageItem","1"),"1"!==localStorage.getItem("testStorageItem"))throw this.metrika.track(Dc.LOCAL_ERROR,{message:"Local storage not supported on device"}),new Error;localStorage.removeItem("testStorageItem"),this.storageEngine=new Fc,this.activeStorages.push(this.storageEngine)}catch(t){this.storageEngine=this.cookieEngine}}return e.prototype.set=function(e,t,n){return this.activeStorages.reduce((function(r,o){return r&&o.set(e,t,n)}),!0)},e.prototype.get=function(e,t){var n=this.cookieEngine.get(e,t),r=this.storageEngine.get(e,t);return n===r?n:null===n?(this.cookieEngine.set(e,t,r),r):(this.storageEngine.set(e,t,n),n)},e.prototype.delete=function(e){this.activeStorages.forEach((function(t){return t.delete(e)}))},e.prototype.import=function(e){var t=this;this.storageEngine.import(e),this.storageEngine.forEach((function(e,n){return t.cookieEngine.set(e,"string",n)}))},e.prototype.clear=function(){this.activeStorages.forEach((function(e){return e.clear()}))},e}(),Zc=function(e){return function(t){return function(t){return function(n){return window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(console.groupCollapsed("".concat(e,": ").concat(n.type)),console.log("Payload: ",n.payload),console.groupEnd()),t(n)}}}},Jc=function(){function e(e){var t=this;this.timerSt={timer:void 0,autostartTimer:void 0,setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){return window.clearInterval(e)}};var n,r,o=function(e,t){return function(n,r){return"undefined"===typeof r&&e?e:t.reduce((function(e,t,n){if("undefined"===typeof t)throw new TypeError("An undefined reducer was passed in at index ".concat(n));return t(e,r)}),n||e)}}(Uc,[Yc,Ji,Lc,bc,jc]),a=new Dc,i=new Wc(a),c=new uc((function(){if("currentGame"===t.store.getState().currentScreen){var e=t.store.getState().currentSessionHash;e&&t.dispatch({type:G,payload:e})}})),l=(0,Wi.md)(Zc("\u21e8 [middlewares]"),qi(c),(r=a,function(e){return function(e){return function(t){switch(t.type){case"TRACK_ARBITRARY_EVENT":r.track(t.payload[0],t.payload[1]);break;case"TRACK_SCREEN_ENTER":r.track(Dc.SCREEN_ENTER,{screen:t.payload});break;case k:r.track(Dc.LOAD_STARTED,{type:"screen-login",request:"confirmRegistration"});break;case R:r.track(Dc.LOAD_SUCCESS,{type:"screen-login",request:"confirmRegistration"});break;case P:r.track(Dc.LOAD_ERROR,{type:"state-init-login",request:"confirmRegistration",message:t.payload.toString()});break;case F:r.setUserId(t.payload.id);break;case x:r.track(Dc.CONFIG_RECEIVED);break;case j:r.track(Dc.REMOTE_ERROR,{code:t.payload.code,message:t.payload.toString()});break;case G:r.track(Dc.LOAD_STARTED,{type:"game-overview"});break;case M:r.track(Dc.LOAD_SUCCESS,{type:"game-overview"});break;case B:r.track(Dc.LOAD_ERROR,{type:"game-overview",code:t.payload.code,message:t.payload.message});break;case W:r.track(Dc.LOGOUT,{screen:"screen-settings"});break;case pe:r.track(Dc.SCREEN_ENTER,{screen:"screen-new-game"});break;case me:r.track(Dc.LOAD_SUCCESS,{type:"screen-new-game",request:"getAllPlayers"});break;case he:r.track(Dc.LOAD_ERROR,{type:"screen-new-game",request:"getAllPlayers",message:t.payload.toString()});break;case se:r.track(Dc.LOAD_ERROR,{type:"screen-confirmation",code:t.payload.code,request:"getChangesOverview"});break;case ge:r.track(Dc.LOAD_ERROR,{type:"screen-new-game",request:"startGame",message:t.payload.toString()});break;case ie:r.track(Dc.SCREEN_ENTER,{screen:"screen-confirmation"});break;case le:r.track(Dc.SCREEN_ENTER,{screen:"screen-last-results"});break;case te:r.track(Dc.SCREEN_ENTER,{screen:"screen-log"});break;case X:r.track(Dc.SCREEN_ENTER,{screen:"screen-other-table"});break;case Z:r.track(Dc.SCREEN_ENTER,{screen:"screen-other-tables-list"});break;case je:r.track(Dc.LANG_CHANGED,{localeName:t.payload});break;case xe:r.track(Dc.THEME_CHANGED,{themeName:t.payload});break;case Ge:r.track(Dc.SINGLE_DEVICE_MODE_CHANGED,{value:t.payload})}return e(t)}}}),(function(e){return function(t){return function(n){return n.type===Fe&&(e.getState().historyInitialized||(window.history.pushState({},"","/"),window.onpopstate=function(){e.dispatch({type:I}),window.history.pushState({},"")},t(n))),t(n)}}}),(n=this.timerSt,function(e){return function(t){return function(r){return r.type===oe&&(r.payload.waiting?(n.timer&&n.clearInterval(n.timer),n.timer=void 0,n.autostartTimer&&n.clearInterval(n.autostartTimer),n.autostartTimer=n.setInterval((function(){var o,a,i,c,s;if(null===(o=e.getState().gameConfig)||void 0===o?void 0:o.useTimer){var l=Mc()-(null!==(i=null===(a=e.getState().timer)||void 0===a?void 0:a.autostartLastUpdateTimestamp)&&void 0!==i?i:0),u=(null!==(s=null===(c=e.getState().timer)||void 0===c?void 0:c.autostartLastUpdateSecondsRemaining)&&void 0!==s?s:0)-l;u<=0?(t({type:ae,payload:Gc(Gc({},r.payload),{autostartLastUpdateTimestamp:Mc(),autostartSecondsRemaining:0})}),n.autostartTimer&&n.clearInterval(n.autostartTimer),n.autostartTimer=void 0):t({type:ae,payload:Gc(Gc({},r.payload),{autostartLastUpdateTimestamp:Mc(),autostartSecondsRemaining:u})})}else n.autostartTimer&&n.clearInterval(n.autostartTimer)}),1e3),t({type:ae,payload:Gc(Gc({},r.payload),{autostartLastUpdateTimestamp:Mc()})})):(n.autostartTimer&&n.clearInterval(n.autostartTimer),n.timer&&n.clearInterval(n.timer),n.timer=n.setInterval((function(){var o,a,i,c,s,l=!e.getState().currentSessionHash,u=!(null===(o=e.getState().gameConfig)||void 0===o?void 0:o.useTimer);if(l||u)n.timer&&n.clearInterval(n.timer);else{var d=Mc()-(null!==(i=null===(a=e.getState().timer)||void 0===a?void 0:a.lastUpdateTimestamp)&&void 0!==i?i:0),p=(null!==(s=null===(c=e.getState().timer)||void 0===c?void 0:c.lastUpdateSecondsRemaining)&&void 0!==s?s:0)-d;p<=0?(t({type:ae,payload:Gc(Gc({},r.payload),{lastUpdateTimestamp:Mc(),secondsRemaining:0})}),n.timer&&n.clearInterval(n.timer),n.timer=void 0):t({type:ae,payload:Gc(Gc({},r.payload),{lastUpdateTimestamp:Mc(),secondsRemaining:p})})}}),1e3),t({type:ae,payload:Gc(Gc({},r.payload),{lastUpdateTimestamp:Mc()})}))),t(r)}}}),function(e){return function(t){return function(n){return function(r){switch(r.type){case R:e.set(Gt.idbTokenKey,"string",r.payload.token),e.set(Gt.idbIdKey,"int",r.payload.personId),e.delete([Gt.idbEventKey]),t.dispatch({type:K,payload:{authToken:r.payload.token,personId:r.payload.personId}});break;case k:e.delete([Gt.idbTokenKey,Gt.idbIdKey]),t.dispatch({type:K,payload:{authToken:"",personId:0}});break;case W:e.delete([Gt.idbTokenKey,Gt.idbIdKey]),t.dispatch({type:K,payload:{authToken:"",personId:0}}),t.dispatch({type:P,payload:new Xi("Not logged in","403")}),t.dispatch({type:L});break;case xe:e.set(Gt.idbThemeKey,"string",r.payload),n(r);break;case _e:e.set(Gt.idbEventKey,"int",r.payload),n(r);break;case je:e.set(Gt.idbLangKey,"string",r.payload),n(r);break;case Ge:e.set(Gt.idbDeviceModeKey,"string",r.payload),n(r);break;case Me:var o={currentTheme:e.get(Gt.idbThemeKey,"string"),currentLang:e.get(Gt.idbLangKey,"string"),singleDeviceMode:e.get(Gt.idbDeviceModeKey,"string")};t.dispatch({type:Be,payload:o})}return n(r)}}}}(i),function(e){return function(t){return function(n){return function(r){switch(r.type){case S:case A:if(r.payload.id===hn.RIICHI)return void alert(e._t("If you want to select a riichi, return back and press riichi button for the winner"));if(r.payload.id===hn.DOUBLERIICHI){var o=t.getState().currentOutcome;if(("ron"===(null===o||void 0===o?void 0:o.selectedOutcome)||"tsumo"===(null===o||void 0===o?void 0:o.selectedOutcome))&&r.payload.winner&&!o.riichiBets.includes(r.payload.winner))return void alert(e._t("If you want to select a riichi, return back and press riichi button for the winner"))}n(r);break;default:n(r)}}}}}(e),Zc("\u21e8 [reducers]"),(function(e){return function(t){return function(n){var r,o,a;switch(n.type){case O:if("currentGame"===e.getState().currentScreen){var i=e.getState().currentSessionHash;i&&e.dispatch({type:G,payload:i}),t(n);break}switch(t({type:O}),(a=e.getState()).currentScreen){case"confirmation":e.dispatch({type:ie,payload:a});break;case"handSelect":if(a.currentOutcome&&["ron","tsumo"].includes(a.currentOutcome.selectedOutcome)){var c=Ln(a)[0].id;e.dispatch({type:Ye,payload:"yaku"}),e.dispatch({type:Te,payload:{winner:c}}),e.dispatch({type:_}),"tsumo"===(null===(r=a.currentOutcome)||void 0===r?void 0:r.selectedOutcome)&&e.dispatch({type:S,payload:{id:hn.MENZENTSUMO,winner:c}})}break;case"paoSelect":(l=dr(a))&&e.dispatch({type:Te,payload:{winner:l}})}break;case I:switch(t(n),(a=e.getState()).currentScreen){case"handSelect":e.dispatch({type:Ye,payload:"yaku"});break;case"paoSelect":var l;(l=dr(a))&&e.dispatch({type:Te,payload:{winner:l}})}break;case d:t(n),e.dispatch({type:pe});break;case s:t(n),e.dispatch({type:Me});break;case Oe:t(n),"lastResults"===(a=e.getState()).currentScreen&&e.dispatch({type:le});break;case y:t(n),e.dispatch({type:le});break;case me:t(n),e.dispatch({type:we});break;case g:t(n);var u=null!==(o=(a=e.getState()).currentSessionHash)&&void 0!==o?o:a.currentOtherTableHash;u&&e.dispatch({type:te,payload:u});break;default:return t(n)}}}})),u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||Wi.qC;this.store=(0,Wi.MT)(o,u(l))}return e.prototype.subscribe=function(e){var t=this;this.onUpdate=e,this.store.subscribe((function(){return t.onUpdate&&t.onUpdate(t.store.getState())}))},Object.defineProperty(e.prototype,"dispatch",{get:function(){return this.store.dispatch.bind(this.store)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"redux",{get:function(){return this.store},enumerable:!1,configurable:!0}),e}();function qc(e){return"".concat(e,"px")}function zc(){var e=document.documentElement.style;e.setProperty("--screenWidth",qc(window.screen.width)),e.setProperty("--screenHeight",qc(window.screen.height))}function Xc(e,t,n,r,o){var a=new XMLHttpRequest,i=Gt.apiUrl,c={jsonrpc:"2.0",method:"addErrorLog",params:["Tyr",(window.__debugInfo||{}).sh,(window.__debugInfo||{}).p,"".concat(e,"\n@").concat(t,":").concat(n,":").concat(r),o&&o.stack],id:Math.round(1e6*Math.random())};a.open("POST",i,!0),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(c))}if(window.location.search.startsWith("?clear")&&(!function(){for(var e=function(e){[window.location.hostname,"."+window.location.hostname.split(".").slice(1).join(".")].forEach((function(t){document.cookie=encodeURIComponent(e.split(";")[0].split("=")[0])+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain="+t+" ;path=/"}))},t=0,n=document.cookie.split("; ");t<n.length;t++)e(n[t]);window.localStorage.clear()}(),window.location.replace(window.location.protocol+"//"+window.location.host)),window.location.host.startsWith("m.riichi.top")){var Qc=new Fc;window.location.replace("https://assist.riichimahjong.org/?migrate="+Qc.export())}zc(),window.addEventListener("resize",zc),function(){if(!window.__errHandlerRegistered){if(window.onerror){var e=window.onerror;window.onerror=function(t,n,r,o,a){e(t,n,r,o,a),Xc(t,n,r,o,a)}}else window.onerror=Xc;window.__errHandlerRegistered=!0}}();var $c=new Dc,es=new Wc($c);window.location.host.startsWith("assist.riichimahjong.org")&&window.location.search.startsWith("?migrate=")&&es.import(window.location.search.replace("?migrate=",""));var ts=new Yt(es),ns=new Jc(ts),rs=(0,c.s)(document.getElementById("tyr-root")),os=function(e){window.__debugInfo={sh:e.currentSessionHash,p:e.currentPlayerId},rs.render(i.createElement(Vi,{state:e,dispatch:ns.dispatch,storage:es,i18nService:ts}))};ns.subscribe(os),os(ns.redux.getState())}},e=>{e.O(0,[532,736],(()=>{return t=918,e(e.s=t);var t}));e.O()}]);